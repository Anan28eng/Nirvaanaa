/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/wishlist/route";
exports.ids = ["app/api/wishlist/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?c6f9":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?ae40":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?4410":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?c757":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwishlist%2Froute&page=%2Fapi%2Fwishlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwishlist%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwishlist%2Froute&page=%2Fapi%2Fwishlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwishlist%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_wishlist_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/wishlist/route.js */ \"(rsc)/./app/api/wishlist/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/wishlist/route\",\n        pathname: \"/api/wishlist\",\n        filename: \"route\",\n        bundlePath: \"app/api/wishlist/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ananya\\\\Downloads\\\\Nirvaanaa_current\\\\Nirvaanaa (1)\\\\Nirvaanaa\\\\app\\\\api\\\\wishlist\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_wishlist_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/wishlist/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ3aXNobGlzdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGd2lzaGxpc3QlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ3aXNobGlzdCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBbmFueWElNUNEb3dubG9hZHMlNUNOaXJ2YWFuYWFfY3VycmVudCU1Q05pcnZhYW5hYSUyMCgxKSU1Q05pcnZhYW5hYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQW5hbnlhJTVDRG93bmxvYWRzJTVDTmlydmFhbmFhX2N1cnJlbnQlNUNOaXJ2YWFuYWElMjAoMSklNUNOaXJ2YWFuYWEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDdUQ7QUFDcEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLz9iNmFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFuYW55YVxcXFxEb3dubG9hZHNcXFxcTmlydmFhbmFhX2N1cnJlbnRcXFxcTmlydmFhbmFhICgxKVxcXFxOaXJ2YWFuYWFcXFxcYXBwXFxcXGFwaVxcXFx3aXNobGlzdFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvd2lzaGxpc3Qvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS93aXNobGlzdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvd2lzaGxpc3Qvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBbmFueWFcXFxcRG93bmxvYWRzXFxcXE5pcnZhYW5hYV9jdXJyZW50XFxcXE5pcnZhYW5hYSAoMSlcXFxcTmlydmFhbmFhXFxcXGFwcFxcXFxhcGlcXFxcd2lzaGxpc3RcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvd2lzaGxpc3Qvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwishlist%2Froute&page=%2Fapi%2Fwishlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwishlist%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/wishlist/route.js":
/*!***********************************!*\
  !*** ./app/api/wishlist/route.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/socket */ \"(rsc)/./lib/socket.js\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lib_socket__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function POST(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const body = await req.json();\n        // debug: log incoming payload shape for troubleshooting\n        console.debug(\"[DEBUG] /api/wishlist POST body:\", JSON.stringify(body));\n        const { productId, name, price, image, slug, email, items, discount } = body || {};\n        if (!email) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"email required\"\n        }, {\n            status: 400\n        });\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: email.toLowerCase()\n        });\n        if (!user) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"user not found\"\n        }, {\n            status: 404\n        });\n        if (items) {\n            // Bulk update wishlist items - ensure discount preserved\n            user.wishlist = items.map((it)=>({\n                    ...it,\n                    discount: it.discount || 0\n                }));\n        } else {\n            // Single item update\n            const exists = user.wishlist.find((i)=>String(i.productId) === String(productId));\n            if (!exists) user.wishlist.push({\n                productId,\n                name,\n                price,\n                image,\n                slug,\n                discount: discount || 0\n            });\n        }\n        await user.save();\n        // Emit real-time update\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_3__.emitToUser)(email, \"wishlist-changed\", {\n            items: user.wishlist\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            ok: true\n        });\n    } catch (err) {\n        console.error(err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const { searchParams } = new URL(req.url);\n        const productId = searchParams.get(\"productId\");\n        const email = searchParams.get(\"email\");\n        if (!email) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"email required\"\n        }, {\n            status: 400\n        });\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: email.toLowerCase()\n        });\n        if (!user) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"user not found\"\n        }, {\n            status: 404\n        });\n        user.wishlist = user.wishlist.filter((i)=>String(i.productId) !== String(productId));\n        await user.save();\n        // Emit real-time update\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_3__.emitToUser)(email, \"wishlist-changed\", {\n            items: user.wishlist\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            ok: true\n        });\n    } catch (err) {\n        console.error(err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        const { searchParams } = new URL(req.url);\n        const email = searchParams.get(\"email\");\n        if (!email) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"email required\"\n        }, {\n            status: 400\n        });\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n            email: email.toLowerCase()\n        }).lean();\n        if (!user) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"user not found\"\n        }, {\n            status: 404\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            wishlist: user.wishlist || []\n        });\n    } catch (err) {\n        console.error(err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2FwcC9hcGkvd2lzaGxpc3Qvcm91dGUuanM/ZjgxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGJDb25uZWN0IGZyb20gJ0AvbGliL21vbmdvZGInO1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbHMvVXNlcic7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBlbWl0VG9Vc2VyIH0gZnJvbSAnQC9saWIvc29ja2V0JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAvLyBkZWJ1ZzogbG9nIGluY29taW5nIHBheWxvYWQgc2hhcGUgZm9yIHRyb3VibGVzaG9vdGluZ1xuICBjb25zb2xlLmRlYnVnKCdbREVCVUddIC9hcGkvd2lzaGxpc3QgUE9TVCBib2R5OicsIEpTT04uc3RyaW5naWZ5KGJvZHkpKTtcbiAgICBjb25zdCB7IHByb2R1Y3RJZCwgbmFtZSwgcHJpY2UsIGltYWdlLCBzbHVnLCBlbWFpbCwgaXRlbXMsIGRpc2NvdW50IH0gPSBib2R5IHx8IHt9O1xuICAgIGlmICghZW1haWwpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnZW1haWwgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xuICAgIGlmICghdXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICd1c2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICBcbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIC8vIEJ1bGsgdXBkYXRlIHdpc2hsaXN0IGl0ZW1zIC0gZW5zdXJlIGRpc2NvdW50IHByZXNlcnZlZFxuICAgICAgdXNlci53aXNobGlzdCA9IGl0ZW1zLm1hcChpdCA9PiAoeyAuLi5pdCwgZGlzY291bnQ6IGl0LmRpc2NvdW50IHx8IDAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaW5nbGUgaXRlbSB1cGRhdGVcbiAgICAgIGNvbnN0IGV4aXN0cyA9IHVzZXIud2lzaGxpc3QuZmluZChpID0+IFN0cmluZyhpLnByb2R1Y3RJZCkgPT09IFN0cmluZyhwcm9kdWN0SWQpKTtcbiAgICAgIGlmICghZXhpc3RzKSB1c2VyLndpc2hsaXN0LnB1c2goeyBwcm9kdWN0SWQsIG5hbWUsIHByaWNlLCBpbWFnZSwgc2x1ZywgZGlzY291bnQ6IGRpc2NvdW50IHx8IDAgfSk7XG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIFxuICAgIC8vIEVtaXQgcmVhbC10aW1lIHVwZGF0ZVxuICAgIGVtaXRUb1VzZXIoZW1haWwsICd3aXNobGlzdC1jaGFuZ2VkJywgeyBpdGVtczogdXNlci53aXNobGlzdCB9KTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgY29uc3QgcHJvZHVjdElkID0gc2VhcmNoUGFyYW1zLmdldCgncHJvZHVjdElkJyk7XG4gICAgY29uc3QgZW1haWwgPSBzZWFyY2hQYXJhbXMuZ2V0KCdlbWFpbCcpO1xuICAgIGlmICghZW1haWwpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnZW1haWwgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xuICAgIGlmICghdXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICd1c2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB1c2VyLndpc2hsaXN0ID0gdXNlci53aXNobGlzdC5maWx0ZXIoaSA9PiBTdHJpbmcoaS5wcm9kdWN0SWQpICE9PSBTdHJpbmcocHJvZHVjdElkKSk7XG4gICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgXG4gICAgLy8gRW1pdCByZWFsLXRpbWUgdXBkYXRlXG4gICAgZW1pdFRvVXNlcihlbWFpbCwgJ3dpc2hsaXN0LWNoYW5nZWQnLCB7IGl0ZW1zOiB1c2VyLndpc2hsaXN0IH0pO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXEpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKTtcbiAgICBjb25zdCBlbWFpbCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2VtYWlsJyk7XG4gICAgaWYgKCFlbWFpbCkgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdlbWFpbCByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCkgfSkubGVhbigpO1xuICAgIGlmICghdXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICd1c2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyB3aXNobGlzdDogdXNlci53aXNobGlzdCB8fCBbXSB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiZGJDb25uZWN0IiwiVXNlciIsIk5leHRSZXNwb25zZSIsImVtaXRUb1VzZXIiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJjb25zb2xlIiwiZGVidWciLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZHVjdElkIiwibmFtZSIsInByaWNlIiwiaW1hZ2UiLCJzbHVnIiwiZW1haWwiLCJpdGVtcyIsImRpc2NvdW50IiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VyIiwiZmluZE9uZSIsInRvTG93ZXJDYXNlIiwid2lzaGxpc3QiLCJtYXAiLCJpdCIsImV4aXN0cyIsImZpbmQiLCJpIiwiU3RyaW5nIiwicHVzaCIsInNhdmUiLCJvayIsImVyciIsIkRFTEVURSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImZpbHRlciIsIkdFVCIsImxlYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/wishlist/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3pELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBncm93aW5nIGV4cG9uZW50aWFsbHlcclxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cclxuICovXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./lib/socket.js":
/*!***********************!*\
  !*** ./lib/socket.js ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const { Server } = __webpack_require__(/*! socket.io */ \"(rsc)/./node_modules/socket.io/dist/index.js\");\nlet io;\nconst initSocket = (server)=>{\n    io = new Server(server, {\n        cors: {\n            origin: process.env.NEXTAUTH_URL || \"http://localhost:3000\",\n            methods: [\n                \"GET\",\n                \"POST\"\n            ]\n        }\n    });\n    io.on(\"connection\", (socket)=>{\n        console.log(\"Client connected:\", socket.id);\n        // Join admin room for admin-specific updates\n        socket.on(\"join-admin\", ()=>{\n            socket.join(\"admin\");\n            console.log(\"Admin joined:\", socket.id);\n        });\n        // Join user-specific room\n        socket.on(\"join-user\", (userId)=>{\n            socket.join(`user-${userId}`);\n            console.log(\"User joined:\", userId);\n        });\n        // Handle cart updates\n        socket.on(\"cart-updated\", (data)=>{\n            socket.broadcast.to(`user-${data.userId}`).emit(\"cart-changed\", data);\n        });\n        // Handle wishlist updates\n        socket.on(\"wishlist-updated\", (data)=>{\n            socket.broadcast.to(`user-${data.userId}`).emit(\"wishlist-changed\", data);\n        });\n        // Handle product updates for admin\n        socket.on(\"product-updated\", (data)=>{\n            socket.broadcast.to(\"admin\").emit(\"product-changed\", data);\n        });\n        // Handle KPI updates\n        socket.on(\"kpi-updated\", (data)=>{\n            socket.broadcast.to(\"admin\").emit(\"kpi-changed\", data);\n        });\n        socket.on(\"disconnect\", ()=>{\n            console.log(\"Client disconnected:\", socket.id);\n        });\n    });\n    return io;\n};\nconst getIO = ()=>{\n    if (!io) {\n        throw new Error(\"Socket.io not initialized!\");\n    }\n    return io;\n};\nconst emitToUser = (userId, event, data)=>{\n    if (io) {\n        io.to(`user-${userId}`).emit(event, data);\n    }\n};\nconst emitToAdmin = (event, data)=>{\n    if (io) {\n        io.to(\"admin\").emit(event, data);\n    }\n};\n// Broadcast to all connected clients\nconst emitToAll = (event, data)=>{\n    if (io) {\n        io.emit(event, data);\n    }\n};\nmodule.exports = {\n    initSocket,\n    getIO,\n    emitToUser,\n    emitToAdmin,\n    emitToAll\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc29ja2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFBRUEsTUFBTSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO0FBRTNCLElBQUlDO0FBRUosTUFBTUMsYUFBYSxDQUFDQztJQUNsQkYsS0FBSyxJQUFJRixPQUFPSSxRQUFRO1FBQ3RCQyxNQUFNO1lBQ0pDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO1lBQ3BDQyxTQUFTO2dCQUFDO2dCQUFPO2FBQU87UUFDMUI7SUFDRjtJQUVBUixHQUFHUyxFQUFFLENBQUMsY0FBYyxDQUFDQztRQUNuQkMsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQkYsT0FBT0csRUFBRTtRQUUxQyw2Q0FBNkM7UUFDN0NILE9BQU9ELEVBQUUsQ0FBQyxjQUFjO1lBQ3RCQyxPQUFPSSxJQUFJLENBQUM7WUFDWkgsUUFBUUMsR0FBRyxDQUFDLGlCQUFpQkYsT0FBT0csRUFBRTtRQUN4QztRQUVBLDBCQUEwQjtRQUMxQkgsT0FBT0QsRUFBRSxDQUFDLGFBQWEsQ0FBQ007WUFDdEJMLE9BQU9JLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRUMsT0FBTyxDQUFDO1lBQzVCSixRQUFRQyxHQUFHLENBQUMsZ0JBQWdCRztRQUM5QjtRQUVBLHNCQUFzQjtRQUN0QkwsT0FBT0QsRUFBRSxDQUFDLGdCQUFnQixDQUFDTztZQUN6Qk4sT0FBT08sU0FBUyxDQUFDQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUVGLEtBQUtELE1BQU0sQ0FBQyxDQUFDLEVBQUVJLElBQUksQ0FBQyxnQkFBZ0JIO1FBQ2xFO1FBRUEsMEJBQTBCO1FBQzFCTixPQUFPRCxFQUFFLENBQUMsb0JBQW9CLENBQUNPO1lBQzdCTixPQUFPTyxTQUFTLENBQUNDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRUYsS0FBS0QsTUFBTSxDQUFDLENBQUMsRUFBRUksSUFBSSxDQUFDLG9CQUFvQkg7UUFDdEU7UUFFQSxtQ0FBbUM7UUFDbkNOLE9BQU9ELEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQ087WUFDNUJOLE9BQU9PLFNBQVMsQ0FBQ0MsRUFBRSxDQUFDLFNBQVNDLElBQUksQ0FBQyxtQkFBbUJIO1FBQ3ZEO1FBRUEscUJBQXFCO1FBQ3JCTixPQUFPRCxFQUFFLENBQUMsZUFBZSxDQUFDTztZQUN4Qk4sT0FBT08sU0FBUyxDQUFDQyxFQUFFLENBQUMsU0FBU0MsSUFBSSxDQUFDLGVBQWVIO1FBQ25EO1FBRUFOLE9BQU9ELEVBQUUsQ0FBQyxjQUFjO1lBQ3RCRSxRQUFRQyxHQUFHLENBQUMsd0JBQXdCRixPQUFPRyxFQUFFO1FBQy9DO0lBQ0Y7SUFFQSxPQUFPYjtBQUNUO0FBRUEsTUFBTW9CLFFBQVE7SUFDWixJQUFJLENBQUNwQixJQUFJO1FBQ1AsTUFBTSxJQUFJcUIsTUFBTTtJQUNsQjtJQUNBLE9BQU9yQjtBQUNUO0FBRUEsTUFBTXNCLGFBQWEsQ0FBQ1AsUUFBUVEsT0FBT1A7SUFDakMsSUFBSWhCLElBQUk7UUFDTkEsR0FBR2tCLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRUgsT0FBTyxDQUFDLEVBQUVJLElBQUksQ0FBQ0ksT0FBT1A7SUFDdEM7QUFDRjtBQUVBLE1BQU1RLGNBQWMsQ0FBQ0QsT0FBT1A7SUFDMUIsSUFBSWhCLElBQUk7UUFDTkEsR0FBR2tCLEVBQUUsQ0FBQyxTQUFTQyxJQUFJLENBQUNJLE9BQU9QO0lBQzdCO0FBQ0Y7QUFFQSxxQ0FBcUM7QUFDckMsTUFBTVMsWUFBWSxDQUFDRixPQUFPUDtJQUN4QixJQUFJaEIsSUFBSTtRQUNOQSxHQUFHbUIsSUFBSSxDQUFDSSxPQUFPUDtJQUNqQjtBQUNGO0FBRUFVLE9BQU9DLE9BQU8sR0FBRztJQUNmMUI7SUFDQW1CO0lBQ0FFO0lBQ0FFO0lBQ0FDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLy4vbGliL3NvY2tldC5qcz81NzQwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU2VydmVyIH0gPSByZXF1aXJlKCdzb2NrZXQuaW8nKTtcblxubGV0IGlvO1xuXG5jb25zdCBpbml0U29ja2V0ID0gKHNlcnZlcikgPT4ge1xuICBpbyA9IG5ldyBTZXJ2ZXIoc2VydmVyLCB7XG4gICAgY29yczoge1xuICAgICAgb3JpZ2luOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXG4gICAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgfSxcbiAgfSk7XG5cbiAgaW8ub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0NsaWVudCBjb25uZWN0ZWQ6Jywgc29ja2V0LmlkKTtcblxuICAgIC8vIEpvaW4gYWRtaW4gcm9vbSBmb3IgYWRtaW4tc3BlY2lmaWMgdXBkYXRlc1xuICAgIHNvY2tldC5vbignam9pbi1hZG1pbicsICgpID0+IHtcbiAgICAgIHNvY2tldC5qb2luKCdhZG1pbicpO1xuICAgICAgY29uc29sZS5sb2coJ0FkbWluIGpvaW5lZDonLCBzb2NrZXQuaWQpO1xuICAgIH0pO1xuXG4gICAgLy8gSm9pbiB1c2VyLXNwZWNpZmljIHJvb21cbiAgICBzb2NrZXQub24oJ2pvaW4tdXNlcicsICh1c2VySWQpID0+IHtcbiAgICAgIHNvY2tldC5qb2luKGB1c2VyLSR7dXNlcklkfWApO1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgam9pbmVkOicsIHVzZXJJZCk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgY2FydCB1cGRhdGVzXG4gICAgc29ja2V0Lm9uKCdjYXJ0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50byhgdXNlci0ke2RhdGEudXNlcklkfWApLmVtaXQoJ2NhcnQtY2hhbmdlZCcsIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHdpc2hsaXN0IHVwZGF0ZXNcbiAgICBzb2NrZXQub24oJ3dpc2hsaXN0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50byhgdXNlci0ke2RhdGEudXNlcklkfWApLmVtaXQoJ3dpc2hsaXN0LWNoYW5nZWQnLCBkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBwcm9kdWN0IHVwZGF0ZXMgZm9yIGFkbWluXG4gICAgc29ja2V0Lm9uKCdwcm9kdWN0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50bygnYWRtaW4nKS5lbWl0KCdwcm9kdWN0LWNoYW5nZWQnLCBkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBLUEkgdXBkYXRlc1xuICAgIHNvY2tldC5vbigna3BpLXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50bygnYWRtaW4nKS5lbWl0KCdrcGktY2hhbmdlZCcsIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBkaXNjb25uZWN0ZWQ6Jywgc29ja2V0LmlkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlvO1xufTtcblxuY29uc3QgZ2V0SU8gPSAoKSA9PiB7XG4gIGlmICghaW8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvY2tldC5pbyBub3QgaW5pdGlhbGl6ZWQhJyk7XG4gIH1cbiAgcmV0dXJuIGlvO1xufTtcblxuY29uc3QgZW1pdFRvVXNlciA9ICh1c2VySWQsIGV2ZW50LCBkYXRhKSA9PiB7XG4gIGlmIChpbykge1xuICAgIGlvLnRvKGB1c2VyLSR7dXNlcklkfWApLmVtaXQoZXZlbnQsIGRhdGEpO1xuICB9XG59O1xuXG5jb25zdCBlbWl0VG9BZG1pbiA9IChldmVudCwgZGF0YSkgPT4ge1xuICBpZiAoaW8pIHtcbiAgICBpby50bygnYWRtaW4nKS5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgfVxufTtcblxuLy8gQnJvYWRjYXN0IHRvIGFsbCBjb25uZWN0ZWQgY2xpZW50c1xuY29uc3QgZW1pdFRvQWxsID0gKGV2ZW50LCBkYXRhKSA9PiB7XG4gIGlmIChpbykge1xuICAgIGlvLmVtaXQoZXZlbnQsIGRhdGEpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdFNvY2tldCxcbiAgZ2V0SU8sXG4gIGVtaXRUb1VzZXIsXG4gIGVtaXRUb0FkbWluLFxuICBlbWl0VG9BbGwsXG59O1xuIl0sIm5hbWVzIjpbIlNlcnZlciIsInJlcXVpcmUiLCJpbyIsImluaXRTb2NrZXQiLCJzZXJ2ZXIiLCJjb3JzIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsIm1ldGhvZHMiLCJvbiIsInNvY2tldCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImpvaW4iLCJ1c2VySWQiLCJkYXRhIiwiYnJvYWRjYXN0IiwidG8iLCJlbWl0IiwiZ2V0SU8iLCJFcnJvciIsImVtaXRUb1VzZXIiLCJldmVudCIsImVtaXRUb0FkbWluIiwiZW1pdFRvQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/socket.js\n");

/***/ }),

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Name is required\"\n        ],\n        trim: true,\n        maxlength: [\n            50,\n            \"Name cannot be more than 50 characters\"\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Email is required\"\n        ],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please enter a valid email\"\n        ]\n    },\n    passwordHash: {\n        type: String,\n        required: function() {\n            return !this.googleId && !this.facebookId; // Password required only for email/password auth\n        }\n    },\n    role: {\n        type: String,\n        enum: [\n            \"user\",\n            \"admin\"\n        ],\n        default: \"user\"\n    },\n    googleId: {\n        type: String,\n        sparse: true\n    },\n    facebookId: {\n        type: String,\n        sparse: true\n    },\n    image: {\n        type: String\n    },\n    profileImage: {\n        type: String\n    },\n    phone: {\n        type: String,\n        match: [\n            /^\\+?[\\d\\s-()]+$/,\n            \"Please enter a valid phone number\"\n        ]\n    },\n    addresses: [\n        {\n            type: {\n                type: String,\n                enum: [\n                    \"shipping\",\n                    \"billing\"\n                ],\n                required: true\n            },\n            street: {\n                type: String,\n                required: true\n            },\n            city: {\n                type: String,\n                required: true\n            },\n            state: {\n                type: String,\n                required: true\n            },\n            zipCode: {\n                type: String,\n                required: true\n            },\n            country: {\n                type: String,\n                required: true,\n                default: \"India\"\n            },\n            isDefault: {\n                type: Boolean,\n                default: false\n            }\n        }\n    ],\n    shippingAddress: {\n        name: String,\n        street: String,\n        city: String,\n        state: String,\n        zipCode: String,\n        country: {\n            type: String,\n            default: \"India\"\n        },\n        phone: String\n    },\n    emailVerified: {\n        type: Boolean,\n        default: false\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    // Persist simple cart and wishlist on user profile\n    cart: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            quantity: {\n                type: Number,\n                default: 1\n            },\n            slug: String\n        }\n    ],\n    wishlist: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            slug: String,\n            addedAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    lastLogin: {\n        type: Date\n    },\n    resetPasswordToken: {\n        type: String\n    },\n    resetPasswordExpires: {\n        type: Date\n    }\n}, {\n    timestamps: true\n});\n// Index for efficient queries\nuserSchema.index({\n    email: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    facebookId: 1\n});\nuserSchema.index({\n    role: 1\n});\n// Virtual for password (not stored in DB)\nuserSchema.virtual(\"password\").set(function(password) {\n    if (password) {\n        this.passwordHash = bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hashSync(password, 12);\n    }\n}).get(function() {\n    return this.passwordHash;\n});\n// Instance method to check password\nuserSchema.methods.checkPassword = function(password) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compareSync(password, this.passwordHash);\n};\n// Instance method to get public profile\nuserSchema.methods.getPublicProfile = function() {\n    const userObject = this.toObject();\n    delete userObject.passwordHash;\n    delete userObject.__v;\n    return userObject;\n};\n// Static method to find by email\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\n// Static method to find admin users\nuserSchema.statics.findAdmins = function() {\n    return this.find({\n        role: \"admin\"\n    });\n};\n// Pre-save middleware to ensure unique email\nuserSchema.pre(\"save\", async function(next) {\n    if (this.isModified(\"email\")) {\n        const existingUser = await this.constructor.findOne({\n            email: this.email,\n            _id: {\n                $ne: this._id\n            }\n        });\n        if (existingUser) {\n            throw new Error(\"Email already exists\");\n        }\n    }\n    next();\n});\n// Ensure virtuals are serialized\nuserSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.passwordHash;\n        delete ret.__v;\n        return ret;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztBQUM3Q2YsV0FBV3FFLEdBQUcsQ0FBQyxRQUFRLGVBQWVDLElBQUk7SUFDeEMsSUFBSSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxVQUFVO1FBQzVCLE1BQU1DLGVBQWUsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQ1IsT0FBTyxDQUFDO1lBQ2xEekQsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJrRSxLQUFLO2dCQUFFQyxLQUFLLElBQUksQ0FBQ0QsR0FBRztZQUFDO1FBQ3ZCO1FBQ0EsSUFBSUYsY0FBYztZQUNoQixNQUFNLElBQUlJLE1BQU07UUFDbEI7SUFDRjtJQUNBTjtBQUNGO0FBRUEsaUNBQWlDO0FBQ2pDdEUsV0FBV29ELEdBQUcsQ0FBQyxVQUFVO0lBQ3ZCeUIsVUFBVTtJQUNWQyxXQUFXLFNBQVNDLEdBQUcsRUFBRUMsR0FBRztRQUMxQixPQUFPQSxJQUFJcEUsWUFBWTtRQUN2QixPQUFPb0UsSUFBSWxCLEdBQUc7UUFDZCxPQUFPa0I7SUFDVDtBQUNGO0FBRUEsaUVBQWVsRix3REFBZSxDQUFDb0YsSUFBSSxJQUFJcEYscURBQWMsQ0FBQyxRQUFRRSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL21vZGVscy9Vc2VyLmpzPzczNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnTmFtZSBpcyByZXF1aXJlZCddLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF4bGVuZ3RoOiBbNTAsICdOYW1lIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgY2hhcmFjdGVycyddLFxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWUsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXRjaDogWy9eXFx3KyhbLi1dP1xcdyspKkBcXHcrKFsuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLywgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsJ10sXG4gIH0sXG4gIHBhc3N3b3JkSGFzaDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZ29vZ2xlSWQgJiYgIXRoaXMuZmFjZWJvb2tJZDsgLy8gUGFzc3dvcmQgcmVxdWlyZWQgb25seSBmb3IgZW1haWwvcGFzc3dvcmQgYXV0aFxuICAgIH0sXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWyd1c2VyJywgJ2FkbWluJ10sXG4gICAgZGVmYXVsdDogJ3VzZXInLFxuICB9LFxuICBnb29nbGVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBzcGFyc2U6IHRydWUsXG4gIH0sXG4gIGZhY2Vib29rSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgc3BhcnNlOiB0cnVlLFxuICB9LFxuICBpbWFnZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcHJvZmlsZUltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBwaG9uZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXRjaDogWy9eXFwrP1tcXGRcXHMtKCldKyQvLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyJ10sXG4gIH0sXG4gIGFkZHJlc3NlczogW3tcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbJ3NoaXBwaW5nJywgJ2JpbGxpbmcnXSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RyZWV0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNpdHk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgemlwQ29kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdJbmRpYScsXG4gICAgfSxcbiAgICBpc0RlZmF1bHQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICB9XSxcbiAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHN0cmVldDogU3RyaW5nLFxuICAgIGNpdHk6IFN0cmluZyxcbiAgICBzdGF0ZTogU3RyaW5nLFxuICAgIHppcENvZGU6IFN0cmluZyxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnSW5kaWEnLFxuICAgIH0sXG4gICAgcGhvbmU6IFN0cmluZyxcbiAgfSxcbiAgZW1haWxWZXJpZmllZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0sXG4gIGlzQWN0aXZlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlLFxuICB9LFxuICAvLyBQZXJzaXN0IHNpbXBsZSBjYXJ0IGFuZCB3aXNobGlzdCBvbiB1c2VyIHByb2ZpbGVcbiAgY2FydDogW1xuICAgIHtcbiAgICAgIHByb2R1Y3RJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1Byb2R1Y3QnIH0sXG4gICAgICBuYW1lOiBTdHJpbmcsXG4gICAgICBpbWFnZTogU3RyaW5nLFxuICAgICAgcHJpY2U6IE51bWJlcixcbiAgICAgIHF1YW50aXR5OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9LFxuICAgICAgc2x1ZzogU3RyaW5nLFxuICAgIH1cbiAgXSxcbiAgd2lzaGxpc3Q6IFtcbiAgICB7XG4gICAgICBwcm9kdWN0SWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdQcm9kdWN0JyB9LFxuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgaW1hZ2U6IFN0cmluZyxcbiAgICAgIHByaWNlOiBOdW1iZXIsXG4gICAgICBzbHVnOiBTdHJpbmcsXG4gICAgICBhZGRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbiAgICB9XG4gIF0sXG4gIGxhc3RMb2dpbjoge1xuICAgIHR5cGU6IERhdGUsXG4gIH0sXG4gIHJlc2V0UGFzc3dvcmRUb2tlbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcmVzZXRQYXNzd29yZEV4cGlyZXM6IHtcbiAgICB0eXBlOiBEYXRlLFxuICB9LFxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbi8vIEluZGV4IGZvciBlZmZpY2llbnQgcXVlcmllc1xudXNlclNjaGVtYS5pbmRleCh7IGVtYWlsOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGdvb2dsZUlkOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGZhY2Vib29rSWQ6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgcm9sZTogMSB9KTtcblxuLy8gVmlydHVhbCBmb3IgcGFzc3dvcmQgKG5vdCBzdG9yZWQgaW4gREIpXG51c2VyU2NoZW1hLnZpcnR1YWwoJ3Bhc3N3b3JkJylcbiAgLnNldChmdW5jdGlvbihwYXNzd29yZCkge1xuICAgIGlmIChwYXNzd29yZCkge1xuICAgICAgdGhpcy5wYXNzd29yZEhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEyKTtcbiAgICB9XG4gIH0pXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGFzc3dvcmRIYXNoO1xuICB9KTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNoZWNrIHBhc3N3b3JkXG51c2VyU2NoZW1hLm1ldGhvZHMuY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uKHBhc3N3b3JkKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRIYXNoKTtcbn07XG5cbi8vIEluc3RhbmNlIG1ldGhvZCB0byBnZXQgcHVibGljIHByb2ZpbGVcbnVzZXJTY2hlbWEubWV0aG9kcy5nZXRQdWJsaWNQcm9maWxlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHVzZXJPYmplY3QgPSB0aGlzLnRvT2JqZWN0KCk7XG4gIGRlbGV0ZSB1c2VyT2JqZWN0LnBhc3N3b3JkSGFzaDtcbiAgZGVsZXRlIHVzZXJPYmplY3QuX192O1xuICByZXR1cm4gdXNlck9iamVjdDtcbn07XG5cbi8vIFN0YXRpYyBtZXRob2QgdG8gZmluZCBieSBlbWFpbFxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xufTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIGFkbWluIHVzZXJzXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEFkbWlucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgcm9sZTogJ2FkbWluJyB9KTtcbn07XG5cbi8vIFByZS1zYXZlIG1pZGRsZXdhcmUgdG8gZW5zdXJlIHVuaXF1ZSBlbWFpbFxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICh0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCB0aGlzLmNvbnN0cnVjdG9yLmZpbmRPbmUoeyBcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLCBcbiAgICAgIF9pZDogeyAkbmU6IHRoaXMuX2lkIH0gXG4gICAgfSk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbWFpbCBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH1cbiAgfVxuICBuZXh0KCk7XG59KTtcblxuLy8gRW5zdXJlIHZpcnR1YWxzIGFyZSBzZXJpYWxpemVkXG51c2VyU2NoZW1hLnNldCgndG9KU09OJywge1xuICB2aXJ0dWFsczogdHJ1ZSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgIGRlbGV0ZSByZXQucGFzc3dvcmRIYXNoO1xuICAgIGRlbGV0ZSByZXQuX192O1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsImJjcnlwdCIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1heGxlbmd0aCIsImVtYWlsIiwidW5pcXVlIiwibG93ZXJjYXNlIiwibWF0Y2giLCJwYXNzd29yZEhhc2giLCJnb29nbGVJZCIsImZhY2Vib29rSWQiLCJyb2xlIiwiZW51bSIsImRlZmF1bHQiLCJzcGFyc2UiLCJpbWFnZSIsInByb2ZpbGVJbWFnZSIsInBob25lIiwiYWRkcmVzc2VzIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsImNvdW50cnkiLCJpc0RlZmF1bHQiLCJCb29sZWFuIiwic2hpcHBpbmdBZGRyZXNzIiwiZW1haWxWZXJpZmllZCIsImlzQWN0aXZlIiwiY2FydCIsInByb2R1Y3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZSIsIk51bWJlciIsInF1YW50aXR5Iiwic2x1ZyIsIndpc2hsaXN0IiwiYWRkZWRBdCIsIkRhdGUiLCJub3ciLCJsYXN0TG9naW4iLCJyZXNldFBhc3N3b3JkVG9rZW4iLCJyZXNldFBhc3N3b3JkRXhwaXJlcyIsInRpbWVzdGFtcHMiLCJpbmRleCIsInZpcnR1YWwiLCJzZXQiLCJwYXNzd29yZCIsImhhc2hTeW5jIiwiZ2V0IiwibWV0aG9kcyIsImNoZWNrUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsImdldFB1YmxpY1Byb2ZpbGUiLCJ1c2VyT2JqZWN0IiwidG9PYmplY3QiLCJfX3YiLCJzdGF0aWNzIiwiZmluZEJ5RW1haWwiLCJmaW5kT25lIiwidG9Mb3dlckNhc2UiLCJmaW5kQWRtaW5zIiwiZmluZCIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiZXhpc3RpbmdVc2VyIiwiY29uc3RydWN0b3IiLCJfaWQiLCIkbmUiLCJFcnJvciIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/socket.io-parser","vendor-chunks/engine.io-parser","vendor-chunks/supports-color","vendor-chunks/@socket.io","vendor-chunks/ms","vendor-chunks/has-flag","vendor-chunks/bcryptjs","vendor-chunks/cookie","vendor-chunks/engine.io","vendor-chunks/socket.io-adapter","vendor-chunks/mime-db","vendor-chunks/socket.io","vendor-chunks/negotiator","vendor-chunks/cors","vendor-chunks/accepts","vendor-chunks/mime-types","vendor-chunks/vary","vendor-chunks/base64id","vendor-chunks/object-assign"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwishlist%2Froute&page=%2Fapi%2Fwishlist%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwishlist%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();