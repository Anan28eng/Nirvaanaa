"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/route";
exports.ids = ["app/api/analytics/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_analytics_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analytics/route.js */ \"(rsc)/./app/api/analytics/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/route\",\n        pathname: \"/api/analytics\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ananya\\\\Downloads\\\\Nirvaanaa_current\\\\Nirvaanaa (1)\\\\Nirvaanaa\\\\app\\\\api\\\\analytics\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_analytics_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/analytics/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBbmFueWElNUNEb3dubG9hZHMlNUNOaXJ2YWFuYWFfY3VycmVudCU1Q05pcnZhYW5hYSUyMCgxKSU1Q05pcnZhYW5hYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQW5hbnlhJTVDRG93bmxvYWRzJTVDTmlydmFhbmFhX2N1cnJlbnQlNUNOaXJ2YWFuYWElMjAoMSklNUNOaXJ2YWFuYWEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDd0Q7QUFDckk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLz9lNDhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFuYW55YVxcXFxEb3dubG9hZHNcXFxcTmlydmFhbmFhX2N1cnJlbnRcXFxcTmlydmFhbmFhICgxKVxcXFxOaXJ2YWFuYWFcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXRpY3NcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5dGljcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5dGljc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl0aWNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcQW5hbnlhXFxcXERvd25sb2Fkc1xcXFxOaXJ2YWFuYWFfY3VycmVudFxcXFxOaXJ2YWFuYWEgKDEpXFxcXE5pcnZhYW5hYVxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5dGljc1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hbmFseXRpY3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analytics/route.js":
/*!************************************!*\
  !*** ./app/api/analytics/route.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _models_Order__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Order */ \"(rsc)/./models/Order.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.js\");\n\n\n\n\n// Analytics Schema for database queries\nconst analyticsSchema = {\n    type: {\n        type: String,\n        enum: [\n            \"revenue\",\n            \"orders\",\n            \"customers\"\n        ],\n        required: true\n    },\n    date: {\n        type: Date,\n        required: true\n    },\n    value: {\n        type: Number,\n        required: true\n    },\n    range: {\n        type: String,\n        enum: [\n            \"day\",\n            \"week\",\n            \"month\",\n            \"year\"\n        ],\n        required: true\n    }\n};\nasync function GET(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const range = searchParams.get(\"range\") || \"month\";\n        // compute real-time analytics from Orders and Users without dummy fallback\n        const days = range === \"year\" ? 365 : range === \"month\" ? 30 : range === \"week\" ? 7 : 1;\n        const startDate = new Date();\n        startDate.setDate(startDate.getDate() - (days - 1));\n        const ordersAgg = await _models_Order__WEBPACK_IMPORTED_MODULE_2__[\"default\"].aggregate([\n            {\n                $match: {\n                    createdAt: {\n                        $gte: startDate\n                    },\n                    paymentStatus: {\n                        $in: [\n                            \"paid\",\n                            \"succeeded\"\n                        ]\n                    }\n                }\n            },\n            {\n                $group: {\n                    _id: {\n                        $dateToString: {\n                            format: \"%Y-%m-%d\",\n                            date: \"$createdAt\"\n                        }\n                    },\n                    totalRevenue: {\n                        $sum: \"$total\"\n                    },\n                    totalOrders: {\n                        $sum: 1\n                    }\n                }\n            },\n            {\n                $sort: {\n                    _id: 1\n                }\n            }\n        ]);\n        const usersAgg = await _models_User__WEBPACK_IMPORTED_MODULE_3__[\"default\"].aggregate([\n            {\n                $match: {\n                    lastLogin: {\n                        $gte: startDate\n                    }\n                }\n            },\n            {\n                $group: {\n                    _id: {\n                        $dateToString: {\n                            format: \"%Y-%m-%d\",\n                            date: \"$lastLogin\"\n                        }\n                    },\n                    loggedIn: {\n                        $sum: 1\n                    }\n                }\n            },\n            {\n                $sort: {\n                    _id: 1\n                }\n            }\n        ]);\n        // Helper to build full date range and fill missing days with zeros\n        const buildSeries = (agg, field)=>{\n            const map = new Map();\n            agg.forEach((d)=>map.set(d._id, d[field] || 0));\n            const series = [];\n            const cur = new Date(startDate);\n            const end = new Date();\n            while(cur <= end){\n                const yyyy = cur.getFullYear();\n                const mm = String(cur.getMonth() + 1).padStart(2, \"0\");\n                const dd = String(cur.getDate()).padStart(2, \"0\");\n                const key = `${yyyy}-${mm}-${dd}`;\n                series.push({\n                    date: key,\n                    value: map.get(key) || 0\n                });\n                cur.setDate(cur.getDate() + 1);\n            }\n            return series;\n        };\n        const revenue = buildSeries(ordersAgg, \"totalRevenue\");\n        const orders = buildSeries(ordersAgg, \"totalOrders\");\n        const customers = buildSeries(usersAgg, \"loggedIn\");\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            revenue,\n            orders,\n            customers,\n            kpis: []\n        });\n    } catch (error) {\n        console.error(\"Analytics API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQUVuRCxNQUFNa0Q7b0JBQUtoRCxPQUFPa0MsSUFBSTFCLEdBQUcsQ0FBQ3dDLFFBQVE7Z0JBQUU7Z0JBQ2xEUixJQUFJN0IsT0FBTyxDQUFDNkIsSUFBSTVCLE9BQU8sS0FBSztZQUM5QjtZQUNBLE9BQU8yQjtRQUNUO1FBRUEsTUFBTVcsVUFBVW5CLFlBQVlsQixXQUFXO1FBQ3ZDLE1BQU1zQyxTQUFTcEIsWUFBWWxCLFdBQVc7UUFDdEMsTUFBTXVDLFlBQVlyQixZQUFZSCxVQUFVO1FBRXhDLE9BQU92QyxrRkFBWUEsQ0FBQ2dFLElBQUksQ0FBQztZQUFFSDtZQUFTQztZQUFRQztZQUFXRSxNQUFNLEVBQUU7UUFBQztJQUNsRSxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsT0FBT2xFLGtGQUFZQSxDQUFDZ0UsSUFBSSxDQUFDO1lBQUVFLE9BQU87UUFBd0IsR0FBRztZQUFFRSxRQUFRO1FBQUk7SUFDN0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25pcnZhYW5hYS1lY29tbWVyY2UvLi9hcHAvYXBpL2FuYWx5dGljcy9yb3V0ZS5qcz85OTkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnQC9tb2RlbHMvT3JkZXInO1xuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbHMvVXNlcic7XG5cbi8vIEFuYWx5dGljcyBTY2hlbWEgZm9yIGRhdGFiYXNlIHF1ZXJpZXNcbmNvbnN0IGFuYWx5dGljc1NjaGVtYSA9IHtcbiAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsncmV2ZW51ZScsICdvcmRlcnMnLCAnY3VzdG9tZXJzJ10sIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGRhdGU6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgdmFsdWU6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICByYW5nZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsnZGF5JywgJ3dlZWsnLCAnbW9udGgnLCAneWVhciddLCByZXF1aXJlZDogdHJ1ZSB9LFxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBjb25zdCByYW5nZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3JhbmdlJykgfHwgJ21vbnRoJztcbiAgICBcbiAgICAvLyBjb21wdXRlIHJlYWwtdGltZSBhbmFseXRpY3MgZnJvbSBPcmRlcnMgYW5kIFVzZXJzIHdpdGhvdXQgZHVtbXkgZmFsbGJhY2tcbiAgICBjb25zdCBkYXlzID0gcmFuZ2UgPT09ICd5ZWFyJyA/IDM2NSA6IHJhbmdlID09PSAnbW9udGgnID8gMzAgOiByYW5nZSA9PT0gJ3dlZWsnID8gNyA6IDE7XG4gICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcbiAgICBzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gKGRheXMgLSAxKSk7XG5cbiAgICBjb25zdCBvcmRlcnNBZ2cgPSBhd2FpdCBPcmRlci5hZ2dyZWdhdGUoW1xuICAgICAgeyAkbWF0Y2g6IHsgY3JlYXRlZEF0OiB7ICRndGU6IHN0YXJ0RGF0ZSB9LCBwYXltZW50U3RhdHVzOiB7ICRpbjogWydwYWlkJywgJ3N1Y2NlZWRlZCddIH0gfSB9LFxuICAgICAgeyAkZ3JvdXA6IHtcbiAgICAgICAgICBfaWQ6IHsgJGRhdGVUb1N0cmluZzogeyBmb3JtYXQ6ICclWS0lbS0lZCcsIGRhdGU6ICckY3JlYXRlZEF0JyB9IH0sXG4gICAgICAgICAgdG90YWxSZXZlbnVlOiB7ICRzdW06ICckdG90YWwnIH0sXG4gICAgICAgICAgdG90YWxPcmRlcnM6IHsgJHN1bTogMSB9LFxuICAgICAgICB9IH0sXG4gICAgICB7ICRzb3J0OiB7IF9pZDogMSB9IH0sXG4gICAgXSk7XG5cbiAgICBjb25zdCB1c2Vyc0FnZyA9IGF3YWl0IFVzZXIuYWdncmVnYXRlKFtcbiAgICAgIHsgJG1hdGNoOiB7IGxhc3RMb2dpbjogeyAkZ3RlOiBzdGFydERhdGUgfSB9IH0sXG4gICAgICB7ICRncm91cDoge1xuICAgICAgICAgIF9pZDogeyAkZGF0ZVRvU3RyaW5nOiB7IGZvcm1hdDogJyVZLSVtLSVkJywgZGF0ZTogJyRsYXN0TG9naW4nIH0gfSxcbiAgICAgICAgICBsb2dnZWRJbjogeyAkc3VtOiAxIH0sXG4gICAgICAgIH0gfSxcbiAgICAgIHsgJHNvcnQ6IHsgX2lkOiAxIH0gfSxcbiAgICBdKTtcblxuICAgIC8vIEhlbHBlciB0byBidWlsZCBmdWxsIGRhdGUgcmFuZ2UgYW5kIGZpbGwgbWlzc2luZyBkYXlzIHdpdGggemVyb3NcbiAgICBjb25zdCBidWlsZFNlcmllcyA9IChhZ2csIGZpZWxkKSA9PiB7XG4gICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICBhZ2cuZm9yRWFjaChkID0+IG1hcC5zZXQoZC5faWQsIGRbZmllbGRdIHx8IDApKTtcblxuICAgICAgY29uc3Qgc2VyaWVzID0gW107XG4gICAgICBjb25zdCBjdXIgPSBuZXcgRGF0ZShzdGFydERhdGUpO1xuICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTtcbiAgICAgIHdoaWxlIChjdXIgPD0gZW5kKSB7XG4gICAgICAgIGNvbnN0IHl5eXkgPSBjdXIuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgY29uc3QgbW0gPSBTdHJpbmcoY3VyLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCBkZCA9IFN0cmluZyhjdXIuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCBrZXkgPSBgJHt5eXl5fS0ke21tfS0ke2RkfWA7XG4gICAgICAgIHNlcmllcy5wdXNoKHsgZGF0ZToga2V5LCB2YWx1ZTogbWFwLmdldChrZXkpIHx8IDAgfSk7XG4gICAgICAgIGN1ci5zZXREYXRlKGN1ci5nZXREYXRlKCkgKyAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJpZXM7XG4gICAgfTtcblxuICAgIGNvbnN0IHJldmVudWUgPSBidWlsZFNlcmllcyhvcmRlcnNBZ2csICd0b3RhbFJldmVudWUnKTtcbiAgICBjb25zdCBvcmRlcnMgPSBidWlsZFNlcmllcyhvcmRlcnNBZ2csICd0b3RhbE9yZGVycycpO1xuICAgIGNvbnN0IGN1c3RvbWVycyA9IGJ1aWxkU2VyaWVzKHVzZXJzQWdnLCAnbG9nZ2VkSW4nKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJldmVudWUsIG9yZGVycywgY3VzdG9tZXJzLCBrcGlzOiBbXSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBbmFseXRpY3MgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkYkNvbm5lY3QiLCJPcmRlciIsIlVzZXIiLCJhbmFseXRpY3NTY2hlbWEiLCJ0eXBlIiwiU3RyaW5nIiwiZW51bSIsInJlcXVpcmVkIiwiZGF0ZSIsIkRhdGUiLCJ2YWx1ZSIsIk51bWJlciIsInJhbmdlIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsImRheXMiLCJzdGFydERhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsIm9yZGVyc0FnZyIsImFnZ3JlZ2F0ZSIsIiRtYXRjaCIsImNyZWF0ZWRBdCIsIiRndGUiLCJwYXltZW50U3RhdHVzIiwiJGluIiwiJGdyb3VwIiwiX2lkIiwiJGRhdGVUb1N0cmluZyIsImZvcm1hdCIsInRvdGFsUmV2ZW51ZSIsIiRzdW0iLCJ0b3RhbE9yZGVycyIsIiRzb3J0IiwidXNlcnNBZ2ciLCJsYXN0TG9naW4iLCJsb2dnZWRJbiIsImJ1aWxkU2VyaWVzIiwiYWdnIiwiZmllbGQiLCJtYXAiLCJNYXAiLCJmb3JFYWNoIiwiZCIsInNldCIsInNlcmllcyIsImN1ciIsImVuZCIsInl5eXkiLCJnZXRGdWxsWWVhciIsIm1tIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRkIiwia2V5IiwicHVzaCIsInJldmVudWUiLCJvcmRlcnMiLCJjdXN0b21lcnMiLCJqc29uIiwia3BpcyIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3pELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBncm93aW5nIGV4cG9uZW50aWFsbHlcclxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cclxuICovXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./models/Order.js":
/*!*************************!*\
  !*** ./models/Order.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst orderSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    orderNumber: {\n        type: String,\n        // required: true,\n        unique: true\n    },\n    userId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    items: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\",\n                required: true\n            },\n            name: {\n                type: String,\n                required: true\n            },\n            image: {\n                type: String,\n                required: true\n            },\n            price: {\n                type: Number,\n                required: true,\n                min: 0\n            },\n            originalPrice: {\n                type: Number,\n                min: 0,\n                default: 0\n            },\n            discount: {\n                type: Number,\n                min: 0,\n                default: 0\n            },\n            quantity: {\n                type: Number,\n                required: true,\n                min: 1\n            },\n            sku: String,\n            colorVariant: {\n                name: String,\n                hex: String,\n                images: [\n                    String\n                ]\n            }\n        }\n    ],\n    subtotal: {\n        type: Number,\n        required: true,\n        min: 0\n    },\n    tax: {\n        type: Number,\n        required: true,\n        min: 0,\n        default: 0\n    },\n    shipping: {\n        type: Number,\n        required: true,\n        min: 0,\n        default: 0\n    },\n    discount: {\n        type: Number,\n        required: true,\n        min: 0,\n        default: 0\n    },\n    total: {\n        type: Number,\n        required: true,\n        min: 0\n    },\n    currency: {\n        type: String,\n        required: true,\n        default: \"INR\"\n    },\n    status: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"processing\",\n            \"shipped\",\n            \"delivered\",\n            \"cancelled\",\n            \"refunded\"\n        ],\n        default: \"pending\"\n    },\n    paymentStatus: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"paid\",\n            \"failed\",\n            \"refunded\"\n        ],\n        default: \"pending\"\n    },\n    paymentMethod: {\n        type: String,\n        enum: [\n            \"razorpay\",\n            \"cod\"\n        ],\n        required: true\n    },\n    razorpayOrderId: {\n        type: String,\n        sparse: true\n    },\n    razorpayPaymentId: {\n        type: String,\n        sparse: true\n    },\n    shippingAddress: {\n        name: {\n            type: String,\n            required: true\n        },\n        phone: {\n            type: String,\n            required: true\n        },\n        street: {\n            type: String,\n            required: true\n        },\n        city: {\n            type: String,\n            required: true\n        },\n        state: {\n            type: String,\n            required: true\n        },\n        zipCode: {\n            type: String,\n            required: true\n        },\n        country: {\n            type: String,\n            required: true,\n            default: \"India\"\n        }\n    },\n    billingAddress: {\n        name: {\n            type: String,\n            required: true\n        },\n        phone: {\n            type: String,\n            required: true\n        },\n        street: {\n            type: String,\n            required: true\n        },\n        city: {\n            type: String,\n            required: true\n        },\n        state: {\n            type: String,\n            required: true\n        },\n        zipCode: {\n            type: String,\n            required: true\n        },\n        country: {\n            type: String,\n            required: true,\n            default: \"India\"\n        }\n    },\n    shippingMethod: {\n        name: {\n            type: String,\n            required: true,\n            default: \"Standard Shipping\"\n        },\n        estimatedDays: {\n            type: Number,\n            required: true,\n            default: 5\n        },\n        trackingNumber: String,\n        trackingUrl: String\n    },\n    notes: {\n        customer: String,\n        admin: String\n    },\n    timeline: [\n        {\n            status: {\n                type: String,\n                required: true\n            },\n            message: {\n                type: String,\n                required: true\n            },\n            timestamp: {\n                type: Date,\n                default: Date.now\n            },\n            updatedBy: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"User\"\n            }\n        }\n    ],\n    emailSent: {\n        confirmation: {\n            type: Boolean,\n            default: false\n        },\n        shipped: {\n            type: Boolean,\n            default: false\n        },\n        delivered: {\n            type: Boolean,\n            default: false\n        }\n    },\n    smsSent: {\n        confirmation: {\n            type: Boolean,\n            default: false\n        },\n        shipped: {\n            type: Boolean,\n            default: false\n        },\n        delivered: {\n            type: Boolean,\n            default: false\n        }\n    },\n    refundAmount: {\n        type: Number,\n        min: 0\n    },\n    refundReason: String,\n    cancelledAt: Date,\n    cancelledBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\"\n    },\n    deliveredAt: Date\n}, {\n    timestamps: true\n});\n// Indexes for efficient queries\norderSchema.index({\n    orderNumber: 1\n});\norderSchema.index({\n    userId: 1\n});\norderSchema.index({\n    status: 1\n});\norderSchema.index({\n    paymentStatus: 1\n});\norderSchema.index({\n    createdAt: -1\n});\norderSchema.index({\n    razorpayOrderId: 1\n});\norderSchema.index({\n    razorpayPaymentId: 1\n});\norderSchema.index({\n    \"shippingAddress.phone\": 1\n});\n// Virtual for order summary\norderSchema.virtual(\"orderSummary\").get(function() {\n    return {\n        orderNumber: this.orderNumber,\n        total: this.total,\n        status: this.status,\n        itemCount: this.items.length,\n        createdAt: this.createdAt\n    };\n});\n// Virtual for customer info\norderSchema.virtual(\"customerInfo\").get(function() {\n    return {\n        name: this.shippingAddress.name,\n        phone: this.shippingAddress.phone,\n        email: this.userId?.email\n    };\n});\n// Instance method to add timeline entry\norderSchema.methods.addTimelineEntry = function(status, message, updatedBy = null) {\n    this.timeline.push({\n        status,\n        message,\n        timestamp: new Date(),\n        updatedBy\n    });\n    return this.save();\n};\n// Instance method to update status\norderSchema.methods.updateStatus = function(newStatus, message, updatedBy = null) {\n    this.status = newStatus;\n    this.addTimelineEntry(newStatus, message, updatedBy);\n    // Set deliveredAt if status is delivered\n    if (newStatus === \"delivered\") {\n        this.deliveredAt = new Date();\n    }\n    // Set cancelledAt if status is cancelled\n    if (newStatus === \"cancelled\") {\n        this.cancelledAt = new Date();\n        this.cancelledBy = updatedBy;\n    }\n    return this.save();\n};\n// Instance method to calculate totals\norderSchema.methods.calculateTotals = function() {\n    this.subtotal = this.items.reduce((sum, item)=>sum + item.price * item.quantity, 0);\n    this.total = this.subtotal + this.tax + this.shipping - this.discount;\n    return this.save();\n};\n// Static method to generate order number\norderSchema.statics.generateOrderNumber = async function() {\n    const date = new Date();\n    const year = date.getFullYear().toString().slice(-2);\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const day = date.getDate().toString().padStart(2, \"0\");\n    // Get count of orders today\n    const todayStart = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n    const todayEnd = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\n    const todayOrders = await this.countDocuments({\n        createdAt: {\n            $gte: todayStart,\n            $lt: todayEnd\n        }\n    });\n    const sequence = (todayOrders + 1).toString().padStart(3, \"0\");\n    return `NV${year}${month}${day}${sequence}`;\n};\n// Static method to find by user\norderSchema.statics.findByUser = function(userId) {\n    return this.find({\n        userId\n    }).sort({\n        createdAt: -1\n    });\n};\n// Static method to find pending orders\norderSchema.statics.findPending = function() {\n    return this.find({\n        status: \"pending\"\n    }).sort({\n        createdAt: -1\n    });\n};\n// Static method to find by status\norderSchema.statics.findByStatus = function(status) {\n    return this.find({\n        status\n    }).sort({\n        createdAt: -1\n    });\n};\n// Pre-save middleware to generate order number\norderSchema.pre(\"save\", async function(next) {\n    if (this.isNew && !this.orderNumber) {\n        this.orderNumber = await this.constructor.generateOrderNumber();\n    }\n    next();\n});\n// Ensure virtuals are serialized\norderSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.__v;\n        return ret;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Order || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Order\", orderSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtBQUNwRDtBQUVBLHVDQUF1QztBQUN2Q3hFLFlBQVl3RixPQUFPLENBQUNzQixXQUFXLEdBQUc7SUFDaEMsT0FBTyxJQUFJLENBQUNGLElBQUksQ0FBQztRQUFFN0UsUUFBUTtJQUFVLEdBQUc4RSxJQUFJLENBQUM7UUFBRXJDLFdBQVcsQ0FBQztJQUFFO0FBQy9EO0FBRUEsa0NBQWtDO0FBQ2xDeEUsWUFBWXdGLE9BQU8sQ0FBQ3VCLFlBQVksR0FBRyxTQUFTaEYsTUFBTTtJQUNoRCxPQUFPLElBQUksQ0FBQzZFLElBQUksQ0FBQztRQUFFN0U7SUFBTyxHQUFHOEUsSUFBSSxDQUFDO1FBQUVyQyxXQUFXLENBQUM7SUFBRTtBQUNwRDtBQUVBLCtDQUErQztBQUMvQ3hFLFlBQVlnSCxHQUFHLENBQUMsUUFBUSxlQUFlQyxJQUFJO0lBQ3pDLElBQUksSUFBSSxDQUFDQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUNoSCxXQUFXLEVBQUU7UUFDbkMsSUFBSSxDQUFDQSxXQUFXLEdBQUcsTUFBTSxJQUFJLENBQUNpSCxXQUFXLENBQUMxQixtQkFBbUI7SUFDL0Q7SUFDQXdCO0FBQ0Y7QUFFQSxpQ0FBaUM7QUFDakNqSCxZQUFZb0gsR0FBRyxDQUFDLFVBQVU7SUFDeEJDLFVBQVU7SUFDVkMsV0FBVyxTQUFTQyxHQUFHLEVBQUVDLEdBQUc7UUFDMUIsT0FBT0EsSUFBSUMsR0FBRztRQUNkLE9BQU9EO0lBQ1Q7QUFDRjtBQUVBLGlFQUFlekgsd0RBQWUsQ0FBQzRILEtBQUssSUFBSTVILHFEQUFjLENBQUMsU0FBU0MsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25pcnZhYW5hYS1lY29tbWVyY2UvLi9tb2RlbHMvT3JkZXIuanM/ZWIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3Qgb3JkZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBvcmRlck51bWJlcjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAvLyByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZSxcclxuICB9LFxyXG4gIHVzZXJJZDoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGl0ZW1zOiBbe1xyXG4gICAgcHJvZHVjdElkOiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnUHJvZHVjdCcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIG5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBpbWFnZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHByaWNlOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMCxcclxuICAgIH0sXHJcbiAgICBvcmlnaW5hbFByaWNlOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBkZWZhdWx0OiAwLFxyXG4gICAgfSxcclxuICAgIGRpc2NvdW50OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgbWluOiAwLFxyXG4gICAgICBkZWZhdWx0OiAwLFxyXG4gICAgfSxcclxuICAgIHF1YW50aXR5OiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIG1pbjogMSxcclxuICAgIH0sXHJcbiAgICBza3U6IFN0cmluZyxcclxuICAgIGNvbG9yVmFyaWFudDoge1xyXG4gICAgICBuYW1lOiBTdHJpbmcsXHJcbiAgICAgIGhleDogU3RyaW5nLFxyXG4gICAgICBpbWFnZXM6IFtTdHJpbmddLFxyXG4gICAgfSxcclxuICB9XSxcclxuICBzdWJ0b3RhbDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICBtaW46IDAsXHJcbiAgfSxcclxuICB0YXg6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgbWluOiAwLFxyXG4gICAgZGVmYXVsdDogMCxcclxuICB9LFxyXG4gIHNoaXBwaW5nOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIG1pbjogMCxcclxuICAgIGRlZmF1bHQ6IDAsXHJcbiAgfSxcclxuICBkaXNjb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICBtaW46IDAsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gIH0sXHJcbiAgdG90YWw6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgY3VycmVuY3k6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgZGVmYXVsdDogJ0lOUicsXHJcbiAgfSxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsncGVuZGluZycsICdwcm9jZXNzaW5nJywgJ3NoaXBwZWQnLCAnZGVsaXZlcmVkJywgJ2NhbmNlbGxlZCcsICdyZWZ1bmRlZCddLFxyXG4gICAgZGVmYXVsdDogJ3BlbmRpbmcnLFxyXG4gIH0sXHJcbiAgcGF5bWVudFN0YXR1czoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydwZW5kaW5nJywgJ3BhaWQnLCAnZmFpbGVkJywgJ3JlZnVuZGVkJ10sXHJcbiAgICBkZWZhdWx0OiAncGVuZGluZycsXHJcbiAgfSxcclxuICBwYXltZW50TWV0aG9kOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ3Jhem9ycGF5JywgJ2NvZCddLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgfSxcclxuICByYXpvcnBheU9yZGVySWQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHNwYXJzZTogdHJ1ZSxcclxuICB9LFxyXG4gIHJhem9ycGF5UGF5bWVudElkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBzcGFyc2U6IHRydWUsXHJcbiAgfSxcclxuICBzaGlwcGluZ0FkZHJlc3M6IHtcclxuICAgIG5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwaG9uZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHN0cmVldDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGNpdHk6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBzdGF0ZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHppcENvZGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBjb3VudHJ5OiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIGRlZmF1bHQ6ICdJbmRpYScsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgYmlsbGluZ0FkZHJlc3M6IHtcclxuICAgIG5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBwaG9uZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHN0cmVldDoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGNpdHk6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBzdGF0ZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIHppcENvZGU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICBjb3VudHJ5OiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIGRlZmF1bHQ6ICdJbmRpYScsXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgc2hpcHBpbmdNZXRob2Q6IHtcclxuICAgIG5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgZGVmYXVsdDogJ1N0YW5kYXJkIFNoaXBwaW5nJyxcclxuICAgIH0sXHJcbiAgICBlc3RpbWF0ZWREYXlzOiB7XHJcbiAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgIGRlZmF1bHQ6IDUsXHJcbiAgICB9LFxyXG4gICAgdHJhY2tpbmdOdW1iZXI6IFN0cmluZyxcclxuICAgIHRyYWNraW5nVXJsOiBTdHJpbmcsXHJcbiAgfSxcclxuICBub3Rlczoge1xyXG4gICAgY3VzdG9tZXI6IFN0cmluZyxcclxuICAgIGFkbWluOiBTdHJpbmcsXHJcbiAgfSxcclxuICB0aW1lbGluZTogW3tcclxuICAgIHN0YXR1czoge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIG1lc3NhZ2U6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIH0sXHJcbiAgICB0aW1lc3RhbXA6IHtcclxuICAgICAgdHlwZTogRGF0ZSxcclxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZEJ5OiB7XHJcbiAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcclxuICAgICAgcmVmOiAnVXNlcicsXHJcbiAgICB9LFxyXG4gIH1dLFxyXG4gIGVtYWlsU2VudDoge1xyXG4gICAgY29uZmlybWF0aW9uOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIHNoaXBwZWQ6IHtcclxuICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgZGVsaXZlcmVkOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHNtc1NlbnQ6IHtcclxuICAgIGNvbmZpcm1hdGlvbjoge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcclxuICAgIH0sXHJcbiAgICBzaGlwcGVkOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxyXG4gICAgfSxcclxuICAgIGRlbGl2ZXJlZDoge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcclxuICAgIH0sXHJcbiAgfSxcclxuICByZWZ1bmRBbW91bnQ6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIG1pbjogMCxcclxuICB9LFxyXG4gIHJlZnVuZFJlYXNvbjogU3RyaW5nLFxyXG4gIGNhbmNlbGxlZEF0OiBEYXRlLFxyXG4gIGNhbmNlbGxlZEJ5OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICB9LFxyXG4gIGRlbGl2ZXJlZEF0OiBEYXRlLFxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZSxcclxufSk7XHJcblxyXG4vLyBJbmRleGVzIGZvciBlZmZpY2llbnQgcXVlcmllc1xyXG5vcmRlclNjaGVtYS5pbmRleCh7IG9yZGVyTnVtYmVyOiAxIH0pO1xyXG5vcmRlclNjaGVtYS5pbmRleCh7IHVzZXJJZDogMSB9KTtcclxub3JkZXJTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcbm9yZGVyU2NoZW1hLmluZGV4KHsgcGF5bWVudFN0YXR1czogMSB9KTtcclxub3JkZXJTY2hlbWEuaW5kZXgoeyBjcmVhdGVkQXQ6IC0xIH0pO1xyXG5vcmRlclNjaGVtYS5pbmRleCh7IHJhem9ycGF5T3JkZXJJZDogMSB9KTtcclxub3JkZXJTY2hlbWEuaW5kZXgoeyByYXpvcnBheVBheW1lbnRJZDogMSB9KTtcclxub3JkZXJTY2hlbWEuaW5kZXgoeyAnc2hpcHBpbmdBZGRyZXNzLnBob25lJzogMSB9KTtcclxuXHJcbi8vIFZpcnR1YWwgZm9yIG9yZGVyIHN1bW1hcnlcclxub3JkZXJTY2hlbWEudmlydHVhbCgnb3JkZXJTdW1tYXJ5JykuZ2V0KGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBvcmRlck51bWJlcjogdGhpcy5vcmRlck51bWJlcixcclxuICAgIHRvdGFsOiB0aGlzLnRvdGFsLFxyXG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcclxuICAgIGl0ZW1Db3VudDogdGhpcy5pdGVtcy5sZW5ndGgsXHJcbiAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LFxyXG4gIH07XHJcbn0pO1xyXG5cclxuLy8gVmlydHVhbCBmb3IgY3VzdG9tZXIgaW5mb1xyXG5vcmRlclNjaGVtYS52aXJ0dWFsKCdjdXN0b21lckluZm8nKS5nZXQoZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6IHRoaXMuc2hpcHBpbmdBZGRyZXNzLm5hbWUsXHJcbiAgICBwaG9uZTogdGhpcy5zaGlwcGluZ0FkZHJlc3MucGhvbmUsXHJcbiAgICBlbWFpbDogdGhpcy51c2VySWQ/LmVtYWlsLFxyXG4gIH07XHJcbn0pO1xyXG5cclxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGFkZCB0aW1lbGluZSBlbnRyeVxyXG5vcmRlclNjaGVtYS5tZXRob2RzLmFkZFRpbWVsaW5lRW50cnkgPSBmdW5jdGlvbihzdGF0dXMsIG1lc3NhZ2UsIHVwZGF0ZWRCeSA9IG51bGwpIHtcclxuICB0aGlzLnRpbWVsaW5lLnB1c2goe1xyXG4gICAgc3RhdHVzLFxyXG4gICAgbWVzc2FnZSxcclxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgIHVwZGF0ZWRCeSxcclxuICB9KTtcclxuICByZXR1cm4gdGhpcy5zYXZlKCk7XHJcbn07XHJcblxyXG4vLyBJbnN0YW5jZSBtZXRob2QgdG8gdXBkYXRlIHN0YXR1c1xyXG5vcmRlclNjaGVtYS5tZXRob2RzLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uKG5ld1N0YXR1cywgbWVzc2FnZSwgdXBkYXRlZEJ5ID0gbnVsbCkge1xyXG4gIHRoaXMuc3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gIHRoaXMuYWRkVGltZWxpbmVFbnRyeShuZXdTdGF0dXMsIG1lc3NhZ2UsIHVwZGF0ZWRCeSk7XHJcbiAgXHJcbiAgLy8gU2V0IGRlbGl2ZXJlZEF0IGlmIHN0YXR1cyBpcyBkZWxpdmVyZWRcclxuICBpZiAobmV3U3RhdHVzID09PSAnZGVsaXZlcmVkJykge1xyXG4gICAgdGhpcy5kZWxpdmVyZWRBdCA9IG5ldyBEYXRlKCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNldCBjYW5jZWxsZWRBdCBpZiBzdGF0dXMgaXMgY2FuY2VsbGVkXHJcbiAgaWYgKG5ld1N0YXR1cyA9PT0gJ2NhbmNlbGxlZCcpIHtcclxuICAgIHRoaXMuY2FuY2VsbGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdGhpcy5jYW5jZWxsZWRCeSA9IHVwZGF0ZWRCeTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpO1xyXG59O1xyXG5cclxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNhbGN1bGF0ZSB0b3RhbHNcclxub3JkZXJTY2hlbWEubWV0aG9kcy5jYWxjdWxhdGVUb3RhbHMgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLnN1YnRvdGFsID0gdGhpcy5pdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgKGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KSwgMCk7XHJcbiAgdGhpcy50b3RhbCA9IHRoaXMuc3VidG90YWwgKyB0aGlzLnRheCArIHRoaXMuc2hpcHBpbmcgLSB0aGlzLmRpc2NvdW50O1xyXG4gIHJldHVybiB0aGlzLnNhdmUoKTtcclxufTtcclxuXHJcbi8vIFN0YXRpYyBtZXRob2QgdG8gZ2VuZXJhdGUgb3JkZXIgbnVtYmVyXHJcbm9yZGVyU2NoZW1hLnN0YXRpY3MuZ2VuZXJhdGVPcmRlck51bWJlciA9IGFzeW5jIGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zbGljZSgtMik7XHJcbiAgY29uc3QgbW9udGggPSAoZGF0ZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcclxuICBcclxuICAvLyBHZXQgY291bnQgb2Ygb3JkZXJzIHRvZGF5XHJcbiAgY29uc3QgdG9kYXlTdGFydCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XHJcbiAgY29uc3QgdG9kYXlFbmQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkgKyAxKTtcclxuICBcclxuICBjb25zdCB0b2RheU9yZGVycyA9IGF3YWl0IHRoaXMuY291bnREb2N1bWVudHMoe1xyXG4gICAgY3JlYXRlZEF0OiB7ICRndGU6IHRvZGF5U3RhcnQsICRsdDogdG9kYXlFbmQgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIGNvbnN0IHNlcXVlbmNlID0gKHRvZGF5T3JkZXJzICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgzLCAnMCcpO1xyXG4gIHJldHVybiBgTlYke3llYXJ9JHttb250aH0ke2RheX0ke3NlcXVlbmNlfWA7XHJcbn07XHJcblxyXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGZpbmQgYnkgdXNlclxyXG5vcmRlclNjaGVtYS5zdGF0aWNzLmZpbmRCeVVzZXIgPSBmdW5jdGlvbih1c2VySWQpIHtcclxuICByZXR1cm4gdGhpcy5maW5kKHsgdXNlcklkIH0pLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xyXG59O1xyXG5cclxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIHBlbmRpbmcgb3JkZXJzXHJcbm9yZGVyU2NoZW1hLnN0YXRpY3MuZmluZFBlbmRpbmcgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4gdGhpcy5maW5kKHsgc3RhdHVzOiAncGVuZGluZycgfSkuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XHJcbn07XHJcblxyXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGZpbmQgYnkgc3RhdHVzXHJcbm9yZGVyU2NoZW1hLnN0YXRpY3MuZmluZEJ5U3RhdHVzID0gZnVuY3Rpb24oc3RhdHVzKSB7XHJcbiAgcmV0dXJuIHRoaXMuZmluZCh7IHN0YXR1cyB9KS5zb3J0KHsgY3JlYXRlZEF0OiAtMSB9KTtcclxufTtcclxuXHJcbi8vIFByZS1zYXZlIG1pZGRsZXdhcmUgdG8gZ2VuZXJhdGUgb3JkZXIgbnVtYmVyXHJcbm9yZGVyU2NoZW1hLnByZSgnc2F2ZScsIGFzeW5jIGZ1bmN0aW9uKG5leHQpIHtcclxuICBpZiAodGhpcy5pc05ldyAmJiAhdGhpcy5vcmRlck51bWJlcikge1xyXG4gICAgdGhpcy5vcmRlck51bWJlciA9IGF3YWl0IHRoaXMuY29uc3RydWN0b3IuZ2VuZXJhdGVPcmRlck51bWJlcigpO1xyXG4gIH1cclxuICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuLy8gRW5zdXJlIHZpcnR1YWxzIGFyZSBzZXJpYWxpemVkXHJcbm9yZGVyU2NoZW1hLnNldCgndG9KU09OJywge1xyXG4gIHZpcnR1YWxzOiB0cnVlLFxyXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24oZG9jLCByZXQpIHtcclxuICAgIGRlbGV0ZSByZXQuX192O1xyXG4gICAgcmV0dXJuIHJldDtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5PcmRlciB8fCBtb25nb29zZS5tb2RlbCgnT3JkZXInLCBvcmRlclNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIm9yZGVyU2NoZW1hIiwiU2NoZW1hIiwib3JkZXJOdW1iZXIiLCJ0eXBlIiwiU3RyaW5nIiwidW5pcXVlIiwidXNlcklkIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiaXRlbXMiLCJwcm9kdWN0SWQiLCJuYW1lIiwiaW1hZ2UiLCJwcmljZSIsIk51bWJlciIsIm1pbiIsIm9yaWdpbmFsUHJpY2UiLCJkZWZhdWx0IiwiZGlzY291bnQiLCJxdWFudGl0eSIsInNrdSIsImNvbG9yVmFyaWFudCIsImhleCIsImltYWdlcyIsInN1YnRvdGFsIiwidGF4Iiwic2hpcHBpbmciLCJ0b3RhbCIsImN1cnJlbmN5Iiwic3RhdHVzIiwiZW51bSIsInBheW1lbnRTdGF0dXMiLCJwYXltZW50TWV0aG9kIiwicmF6b3JwYXlPcmRlcklkIiwic3BhcnNlIiwicmF6b3JwYXlQYXltZW50SWQiLCJzaGlwcGluZ0FkZHJlc3MiLCJwaG9uZSIsInN0cmVldCIsImNpdHkiLCJzdGF0ZSIsInppcENvZGUiLCJjb3VudHJ5IiwiYmlsbGluZ0FkZHJlc3MiLCJzaGlwcGluZ01ldGhvZCIsImVzdGltYXRlZERheXMiLCJ0cmFja2luZ051bWJlciIsInRyYWNraW5nVXJsIiwibm90ZXMiLCJjdXN0b21lciIsImFkbWluIiwidGltZWxpbmUiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInVwZGF0ZWRCeSIsImVtYWlsU2VudCIsImNvbmZpcm1hdGlvbiIsIkJvb2xlYW4iLCJzaGlwcGVkIiwiZGVsaXZlcmVkIiwic21zU2VudCIsInJlZnVuZEFtb3VudCIsInJlZnVuZFJlYXNvbiIsImNhbmNlbGxlZEF0IiwiY2FuY2VsbGVkQnkiLCJkZWxpdmVyZWRBdCIsInRpbWVzdGFtcHMiLCJpbmRleCIsImNyZWF0ZWRBdCIsInZpcnR1YWwiLCJnZXQiLCJpdGVtQ291bnQiLCJsZW5ndGgiLCJlbWFpbCIsIm1ldGhvZHMiLCJhZGRUaW1lbGluZUVudHJ5IiwicHVzaCIsInNhdmUiLCJ1cGRhdGVTdGF0dXMiLCJuZXdTdGF0dXMiLCJjYWxjdWxhdGVUb3RhbHMiLCJyZWR1Y2UiLCJzdW0iLCJpdGVtIiwic3RhdGljcyIsImdlbmVyYXRlT3JkZXJOdW1iZXIiLCJkYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwidG9TdHJpbmciLCJzbGljZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJwYWRTdGFydCIsImRheSIsImdldERhdGUiLCJ0b2RheVN0YXJ0IiwidG9kYXlFbmQiLCJ0b2RheU9yZGVycyIsImNvdW50RG9jdW1lbnRzIiwiJGd0ZSIsIiRsdCIsInNlcXVlbmNlIiwiZmluZEJ5VXNlciIsImZpbmQiLCJzb3J0IiwiZmluZFBlbmRpbmciLCJmaW5kQnlTdGF0dXMiLCJwcmUiLCJuZXh0IiwiaXNOZXciLCJjb25zdHJ1Y3RvciIsInNldCIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwiX192IiwibW9kZWxzIiwiT3JkZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./models/Order.js\n");

/***/ }),

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Name is required\"\n        ],\n        trim: true,\n        maxlength: [\n            50,\n            \"Name cannot be more than 50 characters\"\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Email is required\"\n        ],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please enter a valid email\"\n        ]\n    },\n    passwordHash: {\n        type: String,\n        required: function() {\n            return !this.googleId && !this.facebookId; // Password required only for email/password auth\n        }\n    },\n    role: {\n        type: String,\n        enum: [\n            \"user\",\n            \"admin\"\n        ],\n        default: \"user\"\n    },\n    googleId: {\n        type: String,\n        sparse: true\n    },\n    facebookId: {\n        type: String,\n        sparse: true\n    },\n    image: {\n        type: String\n    },\n    profileImage: {\n        type: String\n    },\n    phone: {\n        type: String,\n        match: [\n            /^\\+?[\\d\\s-()]+$/,\n            \"Please enter a valid phone number\"\n        ]\n    },\n    addresses: [\n        {\n            type: {\n                type: String,\n                enum: [\n                    \"shipping\",\n                    \"billing\"\n                ],\n                required: true\n            },\n            street: {\n                type: String,\n                required: true\n            },\n            city: {\n                type: String,\n                required: true\n            },\n            state: {\n                type: String,\n                required: true\n            },\n            zipCode: {\n                type: String,\n                required: true\n            },\n            country: {\n                type: String,\n                required: true,\n                default: \"India\"\n            },\n            isDefault: {\n                type: Boolean,\n                default: false\n            }\n        }\n    ],\n    shippingAddress: {\n        name: String,\n        street: String,\n        city: String,\n        state: String,\n        zipCode: String,\n        country: {\n            type: String,\n            default: \"India\"\n        },\n        phone: String\n    },\n    emailVerified: {\n        type: Boolean,\n        default: false\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    // Persist simple cart and wishlist on user profile\n    cart: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            quantity: {\n                type: Number,\n                default: 1\n            },\n            slug: String\n        }\n    ],\n    wishlist: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            slug: String,\n            addedAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    lastLogin: {\n        type: Date\n    },\n    resetPasswordToken: {\n        type: String\n    },\n    resetPasswordExpires: {\n        type: Date\n    }\n}, {\n    timestamps: true\n});\n// Index for efficient queries\nuserSchema.index({\n    email: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    facebookId: 1\n});\nuserSchema.index({\n    role: 1\n});\n// Virtual for password (not stored in DB)\nuserSchema.virtual(\"password\").set(function(password) {\n    if (password) {\n        this.passwordHash = bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hashSync(password, 12);\n    }\n}).get(function() {\n    return this.passwordHash;\n});\n// Instance method to check password\nuserSchema.methods.checkPassword = function(password) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compareSync(password, this.passwordHash);\n};\n// Instance method to get public profile\nuserSchema.methods.getPublicProfile = function() {\n    const userObject = this.toObject();\n    delete userObject.passwordHash;\n    delete userObject.__v;\n    return userObject;\n};\n// Static method to find by email\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\n// Static method to find admin users\nuserSchema.statics.findAdmins = function() {\n    return this.find({\n        role: \"admin\"\n    });\n};\n// Pre-save middleware to ensure unique email\nuserSchema.pre(\"save\", async function(next) {\n    if (this.isModified(\"email\")) {\n        const existingUser = await this.constructor.findOne({\n            email: this.email,\n            _id: {\n                $ne: this._id\n            }\n        });\n        if (existingUser) {\n            throw new Error(\"Email already exists\");\n        }\n    }\n    next();\n});\n// Ensure virtuals are serialized\nuserSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.passwordHash;\n        delete ret.__v;\n        return ret;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztBQUM3Q2YsV0FBV3FFLEdBQUcsQ0FBQyxRQUFRLGVBQWVDLElBQUk7SUFDeEMsSUFBSSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxVQUFVO1FBQzVCLE1BQU1DLGVBQWUsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQ1IsT0FBTyxDQUFDO1lBQ2xEekQsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJrRSxLQUFLO2dCQUFFQyxLQUFLLElBQUksQ0FBQ0QsR0FBRztZQUFDO1FBQ3ZCO1FBQ0EsSUFBSUYsY0FBYztZQUNoQixNQUFNLElBQUlJLE1BQU07UUFDbEI7SUFDRjtJQUNBTjtBQUNGO0FBRUEsaUNBQWlDO0FBQ2pDdEUsV0FBV29ELEdBQUcsQ0FBQyxVQUFVO0lBQ3ZCeUIsVUFBVTtJQUNWQyxXQUFXLFNBQVNDLEdBQUcsRUFBRUMsR0FBRztRQUMxQixPQUFPQSxJQUFJcEUsWUFBWTtRQUN2QixPQUFPb0UsSUFBSWxCLEdBQUc7UUFDZCxPQUFPa0I7SUFDVDtBQUNGO0FBRUEsaUVBQWVsRix3REFBZSxDQUFDb0YsSUFBSSxJQUFJcEYscURBQWMsQ0FBQyxRQUFRRSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL21vZGVscy9Vc2VyLmpzPzczNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnTmFtZSBpcyByZXF1aXJlZCddLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF4bGVuZ3RoOiBbNTAsICdOYW1lIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgY2hhcmFjdGVycyddLFxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWUsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXRjaDogWy9eXFx3KyhbLi1dP1xcdyspKkBcXHcrKFsuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLywgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsJ10sXG4gIH0sXG4gIHBhc3N3b3JkSGFzaDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZ29vZ2xlSWQgJiYgIXRoaXMuZmFjZWJvb2tJZDsgLy8gUGFzc3dvcmQgcmVxdWlyZWQgb25seSBmb3IgZW1haWwvcGFzc3dvcmQgYXV0aFxuICAgIH0sXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWyd1c2VyJywgJ2FkbWluJ10sXG4gICAgZGVmYXVsdDogJ3VzZXInLFxuICB9LFxuICBnb29nbGVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBzcGFyc2U6IHRydWUsXG4gIH0sXG4gIGZhY2Vib29rSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgc3BhcnNlOiB0cnVlLFxuICB9LFxuICBpbWFnZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcHJvZmlsZUltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBwaG9uZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXRjaDogWy9eXFwrP1tcXGRcXHMtKCldKyQvLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyJ10sXG4gIH0sXG4gIGFkZHJlc3NlczogW3tcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbJ3NoaXBwaW5nJywgJ2JpbGxpbmcnXSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RyZWV0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNpdHk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgemlwQ29kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdJbmRpYScsXG4gICAgfSxcbiAgICBpc0RlZmF1bHQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICB9XSxcbiAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHN0cmVldDogU3RyaW5nLFxuICAgIGNpdHk6IFN0cmluZyxcbiAgICBzdGF0ZTogU3RyaW5nLFxuICAgIHppcENvZGU6IFN0cmluZyxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnSW5kaWEnLFxuICAgIH0sXG4gICAgcGhvbmU6IFN0cmluZyxcbiAgfSxcbiAgZW1haWxWZXJpZmllZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0sXG4gIGlzQWN0aXZlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlLFxuICB9LFxuICAvLyBQZXJzaXN0IHNpbXBsZSBjYXJ0IGFuZCB3aXNobGlzdCBvbiB1c2VyIHByb2ZpbGVcbiAgY2FydDogW1xuICAgIHtcbiAgICAgIHByb2R1Y3RJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1Byb2R1Y3QnIH0sXG4gICAgICBuYW1lOiBTdHJpbmcsXG4gICAgICBpbWFnZTogU3RyaW5nLFxuICAgICAgcHJpY2U6IE51bWJlcixcbiAgICAgIHF1YW50aXR5OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9LFxuICAgICAgc2x1ZzogU3RyaW5nLFxuICAgIH1cbiAgXSxcbiAgd2lzaGxpc3Q6IFtcbiAgICB7XG4gICAgICBwcm9kdWN0SWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdQcm9kdWN0JyB9LFxuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgaW1hZ2U6IFN0cmluZyxcbiAgICAgIHByaWNlOiBOdW1iZXIsXG4gICAgICBzbHVnOiBTdHJpbmcsXG4gICAgICBhZGRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbiAgICB9XG4gIF0sXG4gIGxhc3RMb2dpbjoge1xuICAgIHR5cGU6IERhdGUsXG4gIH0sXG4gIHJlc2V0UGFzc3dvcmRUb2tlbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcmVzZXRQYXNzd29yZEV4cGlyZXM6IHtcbiAgICB0eXBlOiBEYXRlLFxuICB9LFxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbi8vIEluZGV4IGZvciBlZmZpY2llbnQgcXVlcmllc1xudXNlclNjaGVtYS5pbmRleCh7IGVtYWlsOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGdvb2dsZUlkOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGZhY2Vib29rSWQ6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgcm9sZTogMSB9KTtcblxuLy8gVmlydHVhbCBmb3IgcGFzc3dvcmQgKG5vdCBzdG9yZWQgaW4gREIpXG51c2VyU2NoZW1hLnZpcnR1YWwoJ3Bhc3N3b3JkJylcbiAgLnNldChmdW5jdGlvbihwYXNzd29yZCkge1xuICAgIGlmIChwYXNzd29yZCkge1xuICAgICAgdGhpcy5wYXNzd29yZEhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEyKTtcbiAgICB9XG4gIH0pXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGFzc3dvcmRIYXNoO1xuICB9KTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNoZWNrIHBhc3N3b3JkXG51c2VyU2NoZW1hLm1ldGhvZHMuY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uKHBhc3N3b3JkKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRIYXNoKTtcbn07XG5cbi8vIEluc3RhbmNlIG1ldGhvZCB0byBnZXQgcHVibGljIHByb2ZpbGVcbnVzZXJTY2hlbWEubWV0aG9kcy5nZXRQdWJsaWNQcm9maWxlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHVzZXJPYmplY3QgPSB0aGlzLnRvT2JqZWN0KCk7XG4gIGRlbGV0ZSB1c2VyT2JqZWN0LnBhc3N3b3JkSGFzaDtcbiAgZGVsZXRlIHVzZXJPYmplY3QuX192O1xuICByZXR1cm4gdXNlck9iamVjdDtcbn07XG5cbi8vIFN0YXRpYyBtZXRob2QgdG8gZmluZCBieSBlbWFpbFxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xufTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIGFkbWluIHVzZXJzXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEFkbWlucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgcm9sZTogJ2FkbWluJyB9KTtcbn07XG5cbi8vIFByZS1zYXZlIG1pZGRsZXdhcmUgdG8gZW5zdXJlIHVuaXF1ZSBlbWFpbFxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICh0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCB0aGlzLmNvbnN0cnVjdG9yLmZpbmRPbmUoeyBcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLCBcbiAgICAgIF9pZDogeyAkbmU6IHRoaXMuX2lkIH0gXG4gICAgfSk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbWFpbCBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH1cbiAgfVxuICBuZXh0KCk7XG59KTtcblxuLy8gRW5zdXJlIHZpcnR1YWxzIGFyZSBzZXJpYWxpemVkXG51c2VyU2NoZW1hLnNldCgndG9KU09OJywge1xuICB2aXJ0dWFsczogdHJ1ZSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgIGRlbGV0ZSByZXQucGFzc3dvcmRIYXNoO1xuICAgIGRlbGV0ZSByZXQuX192O1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsImJjcnlwdCIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1heGxlbmd0aCIsImVtYWlsIiwidW5pcXVlIiwibG93ZXJjYXNlIiwibWF0Y2giLCJwYXNzd29yZEhhc2giLCJnb29nbGVJZCIsImZhY2Vib29rSWQiLCJyb2xlIiwiZW51bSIsImRlZmF1bHQiLCJzcGFyc2UiLCJpbWFnZSIsInByb2ZpbGVJbWFnZSIsInBob25lIiwiYWRkcmVzc2VzIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsImNvdW50cnkiLCJpc0RlZmF1bHQiLCJCb29sZWFuIiwic2hpcHBpbmdBZGRyZXNzIiwiZW1haWxWZXJpZmllZCIsImlzQWN0aXZlIiwiY2FydCIsInByb2R1Y3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZSIsIk51bWJlciIsInF1YW50aXR5Iiwic2x1ZyIsIndpc2hsaXN0IiwiYWRkZWRBdCIsIkRhdGUiLCJub3ciLCJsYXN0TG9naW4iLCJyZXNldFBhc3N3b3JkVG9rZW4iLCJyZXNldFBhc3N3b3JkRXhwaXJlcyIsInRpbWVzdGFtcHMiLCJpbmRleCIsInZpcnR1YWwiLCJzZXQiLCJwYXNzd29yZCIsImhhc2hTeW5jIiwiZ2V0IiwibWV0aG9kcyIsImNoZWNrUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsImdldFB1YmxpY1Byb2ZpbGUiLCJ1c2VyT2JqZWN0IiwidG9PYmplY3QiLCJfX3YiLCJzdGF0aWNzIiwiZmluZEJ5RW1haWwiLCJmaW5kT25lIiwidG9Mb3dlckNhc2UiLCJmaW5kQWRtaW5zIiwiZmluZCIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiZXhpc3RpbmdVc2VyIiwiY29uc3RydWN0b3IiLCJfaWQiLCIkbmUiLCJFcnJvciIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();