/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/route";
exports.ids = ["app/api/products/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?c6f9":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?ae40":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?4410":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?c757":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/products/route.js */ \"(rsc)/./app/api/products/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/route\",\n        pathname: \"/api/products\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ananya\\\\Downloads\\\\Nirvaanaa_current\\\\Nirvaanaa (1)\\\\Nirvaanaa\\\\app\\\\api\\\\products\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_products_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/products/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBbmFueWElNUNEb3dubG9hZHMlNUNOaXJ2YWFuYWFfY3VycmVudCU1Q05pcnZhYW5hYSUyMCgxKSU1Q05pcnZhYW5hYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQW5hbnlhJTVDRG93bmxvYWRzJTVDTmlydmFhbmFhX2N1cnJlbnQlNUNOaXJ2YWFuYWElMjAoMSklNUNOaXJ2YWFuYWEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDdUQ7QUFDcEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLz80OTYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFuYW55YVxcXFxEb3dubG9hZHNcXFxcTmlydmFhbmFhX2N1cnJlbnRcXFxcTmlydmFhbmFhICgxKVxcXFxOaXJ2YWFuYWFcXFxcYXBwXFxcXGFwaVxcXFxwcm9kdWN0c1xcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJvZHVjdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBbmFueWFcXFxcRG93bmxvYWRzXFxcXE5pcnZhYW5hYV9jdXJyZW50XFxcXE5pcnZhYW5hYSAoMSlcXFxcTmlydmFhbmFhXFxcXGFwcFxcXFxhcGlcXFxccHJvZHVjdHNcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/products/route.js":
/*!***********************************!*\
  !*** ./app/api/products/route.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Product */ \"(rsc)/./models/Product.js\");\n/* harmony import */ var _models_TagDiscount__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/TagDiscount */ \"(rsc)/./models/TagDiscount.js\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/socket */ \"(rsc)/./lib/socket.js\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lib_socket__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nasync function GET(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\")) || 1;\n        const limit = parseInt(searchParams.get(\"limit\")) || 12;\n        const category = searchParams.get(\"category\");\n        const search = searchParams.get(\"search\");\n        const sort = searchParams.get(\"sort\") || \"createdAt\";\n        const order = searchParams.get(\"order\") || \"desc\";\n        const minPrice = searchParams.get(\"minPrice\");\n        const maxPrice = searchParams.get(\"maxPrice\");\n        const tags = searchParams.get(\"tags\");\n        const featured = searchParams.get(\"featured\");\n        const inStock = searchParams.get(\"inStock\");\n        // Build query\n        const query = {\n            published: true\n        };\n        if (category) {\n            // Handle \"bags\" category to include all bag-related categories\n            if (category === \"bags\") {\n                query.category = {\n                    $in: [\n                        \"clutch\",\n                        \"kitty-bag\",\n                        \"long-tote-bag\",\n                        \"picnic-bag\",\n                        \"potli-purse\",\n                        \"sling-bags\",\n                        \"velvet-clutch-with-flaps\"\n                    ]\n                };\n            } else {\n                query.category = category;\n            }\n        }\n        if (search) {\n            // Sanitize search input to prevent regex injection\n            const sanitizedSearch = search.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n            query.$or = [\n                {\n                    title: {\n                        $regex: sanitizedSearch,\n                        $options: \"i\"\n                    }\n                },\n                {\n                    description: {\n                        $regex: sanitizedSearch,\n                        $options: \"i\"\n                    }\n                },\n                {\n                    tags: {\n                        $in: [\n                            new RegExp(sanitizedSearch, \"i\")\n                        ]\n                    }\n                }\n            ];\n        }\n        if (minPrice || maxPrice) {\n            query.price = {};\n            if (minPrice) query.price.$gte = parseFloat(minPrice);\n            if (maxPrice) query.price.$lte = parseFloat(maxPrice);\n        }\n        if (tags) {\n            const tagArray = tags.split(\",\").map((tag)=>tag.trim().toLowerCase());\n            query.tags = {\n                $in: tagArray\n            };\n        }\n        if (featured === \"true\") {\n            query.featured = true;\n        }\n        if (inStock === \"true\") {\n            query.stock = {\n                $gt: 0\n            };\n        }\n        // Build sort object\n        const sortObj = {};\n        sortObj[sort] = order === \"desc\" ? -1 : 1;\n        // Calculate pagination\n        const skip = (page - 1) * limit;\n        // Execute query\n        const [rawProducts, total, activeDiscounts] = await Promise.all([\n            _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(query).sort(sortObj).skip(skip).limit(limit).lean({\n                virtuals: true\n            }),\n            _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].countDocuments(query),\n            _models_TagDiscount__WEBPACK_IMPORTED_MODULE_3__[\"default\"].find({\n                active: true\n            }).lean()\n        ]);\n        // Normalize products to include frontend-friendly fields (id, name, mainImage, inStock)\n        // Build tag->percent map\n        const tagToPercent = new Map();\n        for (const d of activeDiscounts){\n            tagToPercent.set(d.tag, d.percent);\n        }\n        const products = rawProducts.map((p)=>{\n            const baseDiscount = typeof p.discount === \"number\" ? p.discount : 0;\n            let tagDiscount = 0;\n            if (Array.isArray(p.tags) && p.tags.length) {\n                for (const t of p.tags){\n                    const pct = tagToPercent.get(String(t).toLowerCase());\n                    if (typeof pct === \"number\") tagDiscount = Math.max(tagDiscount, pct);\n                }\n            }\n            const effectiveDiscount = Math.max(baseDiscount, tagDiscount);\n            return {\n                ...p,\n                id: p._id,\n                name: p.title,\n                mainImage: p.images && p.images.length > 0 ? p.images[0].url : p.mainImage || null,\n                inStock: typeof p.stock === \"number\" ? p.stock > 0 : false,\n                price: typeof p.price === \"number\" ? p.price : Number(p.price || 0),\n                discount: effectiveDiscount\n            };\n        });\n        const totalPages = Math.ceil(total / limit);\n        const hasNextPage = page < totalPages;\n        const hasPrevPage = page > 1;\n        const totalProducts = total;\n        const categoryCounts = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].aggregate([\n            {\n                $group: {\n                    _id: \"$category\",\n                    count: {\n                        $sum: 1\n                    }\n                }\n            }\n        ]);\n        // Aggregate tag counts\n        const tagCounts = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].aggregate([\n            {\n                $unwind: \"$tags\"\n            },\n            {\n                $group: {\n                    _id: \"$tags\",\n                    count: {\n                        $sum: 1\n                    }\n                }\n            }\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            products,\n            totalProducts,\n            pagination: {\n                page,\n                limit,\n                total,\n                totalPages,\n                hasNextPage,\n                hasPrevPage\n            },\n            categories: categoryCounts.map((c)=>({\n                    id: c._id,\n                    count: c.count\n                })),\n            tags: tagCounts.map((t)=>({\n                    id: t._id,\n                    count: t.count\n                }))\n        });\n    } catch (error) {\n        console.error(\"Products API error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch products\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const { getServerSession } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/next\"), __webpack_require__.e(\"vendor-chunks/next-auth\"), __webpack_require__.e(\"vendor-chunks/@babel\"), __webpack_require__.e(\"vendor-chunks/jose\"), __webpack_require__.e(\"vendor-chunks/openid-client\"), __webpack_require__.e(\"vendor-chunks/oauth\"), __webpack_require__.e(\"vendor-chunks/object-hash\"), __webpack_require__.e(\"vendor-chunks/preact\"), __webpack_require__.e(\"vendor-chunks/preact-render-to-string\"), __webpack_require__.e(\"vendor-chunks/uuid\"), __webpack_require__.e(\"vendor-chunks/oidc-token-hash\"), __webpack_require__.e(\"vendor-chunks/@panva\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\", 23));\n        const { authOptions } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/next-auth\"), __webpack_require__.e(\"vendor-chunks/bcryptjs\"), __webpack_require__.e(\"_rsc_lib_auth_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/auth */ \"(rsc)/./lib/auth.js\"));\n        const session = await getServerSession(authOptions);\n        if (!session || session.user.role !== \"admin\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const body = await request.json();\n        // Validate required fields\n        const { title, description, price, category } = body;\n        if (!title || !description || !price || !category) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate category enum\n        const validCategories = [\n            \"bangle-box\",\n            \"clutch\",\n            \"gift-hampers\",\n            \"goggle-cover\",\n            \"kitty-bag\",\n            \"long-tote-bag\",\n            \"picnic-bag\",\n            \"potli-purse\",\n            \"sling-bags\",\n            \"velvet-clutch-with-flaps\"\n        ];\n        if (!validCategories.includes(category)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: `Invalid category. Must be one of: ${validCategories.join(\", \")}`\n            }, {\n                status: 400\n            });\n        }\n        // Generate slug from title if not provided\n        const slug = body.slug || title.toLowerCase().replace(/[^a-z0-9\\s-]/g, \"\").replace(/\\s+/g, \"-\").replace(/-+/g, \"-\").trim(\"-\");\n        // Check if slug already exists\n        const existingProduct = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            slug\n        });\n        if (existingProduct) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Product with this slug already exists\"\n            }, {\n                status: 400\n            });\n        }\n        // Prepare product data with defaults\n        // Normalize and sanitize tags: accept comma or array\n        let tags = Array.isArray(body.tags) ? body.tags : typeof body.tags === \"string\" ? body.tags.split(\",\") : [];\n        tags = tags.map((t)=>String(t).trim().toLowerCase()).filter(Boolean);\n        // Validate and clean color variants\n        let colorVariants = [];\n        if (body.colorVariants && Array.isArray(body.colorVariants)) {\n            colorVariants = body.colorVariants.filter((v)=>v && v.name && v.name.trim() && v.hex && /^#[0-9A-Fa-f]{6}$/i.test(v.hex)).map((v)=>({\n                    name: v.name.trim(),\n                    hex: v.hex.trim().toUpperCase(),\n                    images: Array.isArray(v.images) ? v.images.filter((img)=>img && (typeof img === \"string\" ? img.trim() : img)).map((img)=>typeof img === \"string\" ? img.trim() : img?.url || img) : []\n                }));\n        }\n        const productData = {\n            ...body,\n            slug,\n            stock: body.stock || 10,\n            discount: typeof body.discount === \"number\" ? body.discount : 0,\n            published: body.published !== undefined ? body.published : true,\n            tags,\n            colorVariants: colorVariants.length > 0 ? colorVariants : undefined,\n            images: body.images || (body.mainImage ? [\n                {\n                    url: body.mainImage,\n                    alt: title,\n                    publicId: `product-${Date.now()}`\n                }\n            ] : []),\n            createdBy: session.user.id\n        };\n        const product = new _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"](productData);\n        await product.save();\n        // Emit real-time update to admin\n        (0,_lib_socket__WEBPACK_IMPORTED_MODULE_4__.emitToAdmin)(\"product-changed\", {\n            action: \"created\",\n            product: product.toObject()\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(product, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Create product error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to create product\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { getServerSession } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/next\"), __webpack_require__.e(\"vendor-chunks/next-auth\"), __webpack_require__.e(\"vendor-chunks/@babel\"), __webpack_require__.e(\"vendor-chunks/jose\"), __webpack_require__.e(\"vendor-chunks/openid-client\"), __webpack_require__.e(\"vendor-chunks/oauth\"), __webpack_require__.e(\"vendor-chunks/object-hash\"), __webpack_require__.e(\"vendor-chunks/preact\"), __webpack_require__.e(\"vendor-chunks/preact-render-to-string\"), __webpack_require__.e(\"vendor-chunks/uuid\"), __webpack_require__.e(\"vendor-chunks/oidc-token-hash\"), __webpack_require__.e(\"vendor-chunks/@panva\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\", 23));\n        const { authOptions } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/next-auth\"), __webpack_require__.e(\"vendor-chunks/bcryptjs\"), __webpack_require__.e(\"_rsc_lib_auth_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @/lib/auth */ \"(rsc)/./lib/auth.js\"));\n        const session = await getServerSession(authOptions);\n        if (!session || session.user.role !== \"admin\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"id required\"\n        }, {\n            status: 400\n        });\n        const product = await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(id);\n        if (!product) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Product not found\"\n        }, {\n            status: 404\n        });\n        // Hard delete from database\n        await _models_Product__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndDelete(id);\n        // Emit real-time update to all clients\n        try {\n            (0,_lib_socket__WEBPACK_IMPORTED_MODULE_4__.emitToAdmin)(\"product-changed\", {\n                action: \"deleted\",\n                productId: id\n            });\n            (0,_lib_socket__WEBPACK_IMPORTED_MODULE_4__.emitToAll)(\"product-changed\", {\n                action: \"deleted\",\n                productId: id\n            });\n        } catch (e) {\n        // ignore emit errors\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true\n        });\n    } catch (error) {\n        console.error(\"Delete product error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to delete product\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0ZBQVlBLENBQUNnRyxJQUFJLENBQUM7WUFBRUksT0FBTztRQUFvQixHQUFHO1lBQUVFLFFBQVE7UUFBSTtRQUVyRiw0QkFBNEI7UUFDNUIsTUFBTXBHLHVEQUFPQSxDQUFDdUksaUJBQWlCLENBQUMzRDtRQUVoQyx1Q0FBdUM7UUFDdkMsSUFBSTtZQUNGMUUsd0RBQVdBLENBQUMsbUJBQW1CO2dCQUFFaUksUUFBUTtnQkFBV0ssV0FBVzVEO1lBQUc7WUFDbEV6RSxzREFBU0EsQ0FBQyxtQkFBbUI7Z0JBQUVnSSxRQUFRO2dCQUFXSyxXQUFXNUQ7WUFBRztRQUNsRSxFQUFFLE9BQU82RCxHQUFHO1FBQ1YscUJBQXFCO1FBQ3ZCO1FBRUEsT0FBTzNJLGtGQUFZQSxDQUFDZ0csSUFBSSxDQUFDO1lBQUU0QyxTQUFTO1FBQUs7SUFDM0MsRUFBRSxPQUFPeEMsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMseUJBQXlCQTtRQUN2QyxPQUFPcEcsa0ZBQVlBLENBQUNnRyxJQUFJLENBQUM7WUFBRUksT0FBTztRQUEyQixHQUFHO1lBQUVFLFFBQVE7UUFBSTtJQUNoRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2FwcC9hcGkvcHJvZHVjdHMvcm91dGUuanM/YjA2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgZGJDb25uZWN0IGZyb20gJ0AvbGliL21vbmdvZGInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnQC9tb2RlbHMvUHJvZHVjdCc7XG5pbXBvcnQgVGFnRGlzY291bnQgZnJvbSAnQC9tb2RlbHMvVGFnRGlzY291bnQnO1xuaW1wb3J0IHsgZW1pdFRvQWRtaW4sIGVtaXRUb0FsbCB9IGZyb20gJ0AvbGliL3NvY2tldCc7XG5cblxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykpIHx8IDE7XG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpKSB8fCAxMjtcbiAgICBjb25zdCBjYXRlZ29yeSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NhdGVnb3J5Jyk7XG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLmdldCgnc2VhcmNoJyk7XG4gICAgY29uc3Qgc29ydCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3NvcnQnKSB8fCAnY3JlYXRlZEF0JztcbiAgICBjb25zdCBvcmRlciA9IHNlYXJjaFBhcmFtcy5nZXQoJ29yZGVyJykgfHwgJ2Rlc2MnO1xuICAgIGNvbnN0IG1pblByaWNlID0gc2VhcmNoUGFyYW1zLmdldCgnbWluUHJpY2UnKTtcbiAgICBjb25zdCBtYXhQcmljZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ21heFByaWNlJyk7XG4gICAgY29uc3QgdGFncyA9IHNlYXJjaFBhcmFtcy5nZXQoJ3RhZ3MnKTtcbiAgICBjb25zdCBmZWF0dXJlZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2ZlYXR1cmVkJyk7XG4gICAgY29uc3QgaW5TdG9jayA9IHNlYXJjaFBhcmFtcy5nZXQoJ2luU3RvY2snKTtcblxuICAgIC8vIEJ1aWxkIHF1ZXJ5XG4gICAgY29uc3QgcXVlcnkgPSB7IHB1Ymxpc2hlZDogdHJ1ZSB9O1xuXG4gICAgaWYgKGNhdGVnb3J5KSB7XG4gICAgICAvLyBIYW5kbGUgXCJiYWdzXCIgY2F0ZWdvcnkgdG8gaW5jbHVkZSBhbGwgYmFnLXJlbGF0ZWQgY2F0ZWdvcmllc1xuICAgICAgaWYgKGNhdGVnb3J5ID09PSAnYmFncycpIHtcbiAgICAgICAgcXVlcnkuY2F0ZWdvcnkgPSB7IFxuICAgICAgICAgICRpbjogWydjbHV0Y2gnLCAna2l0dHktYmFnJywgJ2xvbmctdG90ZS1iYWcnLCAncGljbmljLWJhZycsICdwb3RsaS1wdXJzZScsICdzbGluZy1iYWdzJywgJ3ZlbHZldC1jbHV0Y2gtd2l0aC1mbGFwcyddXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeS5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgIC8vIFNhbml0aXplIHNlYXJjaCBpbnB1dCB0byBwcmV2ZW50IHJlZ2V4IGluamVjdGlvblxuICAgICAgY29uc3Qgc2FuaXRpemVkU2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7XG4gICAgICBxdWVyeS4kb3IgPSBbXG4gICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBzYW5pdGl6ZWRTZWFyY2gsICRvcHRpb25zOiAnaScgfSB9LFxuICAgICAgICB7IGRlc2NyaXB0aW9uOiB7ICRyZWdleDogc2FuaXRpemVkU2VhcmNoLCAkb3B0aW9uczogJ2knIH0gfSxcbiAgICAgICAgeyB0YWdzOiB7ICRpbjogW25ldyBSZWdFeHAoc2FuaXRpemVkU2VhcmNoLCAnaScpXSB9IH0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIGlmIChtaW5QcmljZSB8fCBtYXhQcmljZSkge1xuICAgICAgcXVlcnkucHJpY2UgPSB7fTtcbiAgICAgIGlmIChtaW5QcmljZSkgcXVlcnkucHJpY2UuJGd0ZSA9IHBhcnNlRmxvYXQobWluUHJpY2UpO1xuICAgICAgaWYgKG1heFByaWNlKSBxdWVyeS5wcmljZS4kbHRlID0gcGFyc2VGbG9hdChtYXhQcmljZSk7XG4gICAgfVxuXG4gICAgaWYgKHRhZ3MpIHtcbiAgICAgIGNvbnN0IHRhZ0FycmF5ID0gdGFncy5zcGxpdCgnLCcpLm1hcCh0YWcgPT4gdGFnLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIHF1ZXJ5LnRhZ3MgPSB7ICRpbjogdGFnQXJyYXkgfTtcbiAgICB9XG5cbiAgICBpZiAoZmVhdHVyZWQgPT09ICd0cnVlJykge1xuICAgICAgcXVlcnkuZmVhdHVyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpblN0b2NrID09PSAndHJ1ZScpIHtcbiAgICAgIHF1ZXJ5LnN0b2NrID0geyAkZ3Q6IDAgfTtcbiAgICB9XG5cbiAgICAvLyBCdWlsZCBzb3J0IG9iamVjdFxuICAgIGNvbnN0IHNvcnRPYmogPSB7fTtcbiAgICBzb3J0T2JqW3NvcnRdID0gb3JkZXIgPT09ICdkZXNjJyA/IC0xIDogMTtcblxuICAgIC8vIENhbGN1bGF0ZSBwYWdpbmF0aW9uXG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcblxuICAgIC8vIEV4ZWN1dGUgcXVlcnlcbiAgICBjb25zdCBbcmF3UHJvZHVjdHMsIHRvdGFsLCBhY3RpdmVEaXNjb3VudHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgUHJvZHVjdC5maW5kKHF1ZXJ5KVxuICAgICAgICAuc29ydChzb3J0T2JqKVxuICAgICAgICAuc2tpcChza2lwKVxuICAgICAgICAubGltaXQobGltaXQpXG4gICAgICAgIC5sZWFuKHsgdmlydHVhbHM6IHRydWUgfSksXG4gICAgICBQcm9kdWN0LmNvdW50RG9jdW1lbnRzKHF1ZXJ5KSxcbiAgICAgIFRhZ0Rpc2NvdW50LmZpbmQoeyBhY3RpdmU6IHRydWUgfSkubGVhbigpLFxuICAgIF0pO1xuXG4gICAgLy8gTm9ybWFsaXplIHByb2R1Y3RzIHRvIGluY2x1ZGUgZnJvbnRlbmQtZnJpZW5kbHkgZmllbGRzIChpZCwgbmFtZSwgbWFpbkltYWdlLCBpblN0b2NrKVxuICAgIC8vIEJ1aWxkIHRhZy0+cGVyY2VudCBtYXBcbiAgICBjb25zdCB0YWdUb1BlcmNlbnQgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBkIG9mIGFjdGl2ZURpc2NvdW50cykge1xuICAgICAgdGFnVG9QZXJjZW50LnNldChkLnRhZywgZC5wZXJjZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9kdWN0cyA9IHJhd1Byb2R1Y3RzLm1hcChwID0+IHtcbiAgICAgIGNvbnN0IGJhc2VEaXNjb3VudCA9IHR5cGVvZiBwLmRpc2NvdW50ID09PSAnbnVtYmVyJyA/IHAuZGlzY291bnQgOiAwO1xuICAgICAgbGV0IHRhZ0Rpc2NvdW50ID0gMDtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHAudGFncykgJiYgcC50YWdzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgcC50YWdzKSB7XG4gICAgICAgICAgY29uc3QgcGN0ID0gdGFnVG9QZXJjZW50LmdldChTdHJpbmcodCkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwY3QgPT09ICdudW1iZXInKSB0YWdEaXNjb3VudCA9IE1hdGgubWF4KHRhZ0Rpc2NvdW50LCBwY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBlZmZlY3RpdmVEaXNjb3VudCA9IE1hdGgubWF4KGJhc2VEaXNjb3VudCwgdGFnRGlzY291bnQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucCxcbiAgICAgICAgaWQ6IHAuX2lkLFxuICAgICAgICBuYW1lOiBwLnRpdGxlLFxuICAgICAgICBtYWluSW1hZ2U6IChwLmltYWdlcyAmJiBwLmltYWdlcy5sZW5ndGggPiAwKSA/IHAuaW1hZ2VzWzBdLnVybCA6IChwLm1haW5JbWFnZSB8fCBudWxsKSxcbiAgICAgICAgaW5TdG9jazogdHlwZW9mIHAuc3RvY2sgPT09ICdudW1iZXInID8gcC5zdG9jayA+IDAgOiBmYWxzZSxcbiAgICAgICAgcHJpY2U6IHR5cGVvZiBwLnByaWNlID09PSAnbnVtYmVyJyA/IHAucHJpY2UgOiBOdW1iZXIocC5wcmljZSB8fCAwKSxcbiAgICAgICAgZGlzY291bnQ6IGVmZmVjdGl2ZURpc2NvdW50LFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLmNlaWwodG90YWwgLyBsaW1pdCk7XG4gICAgY29uc3QgaGFzTmV4dFBhZ2UgPSBwYWdlIDwgdG90YWxQYWdlcztcbiAgICBjb25zdCBoYXNQcmV2UGFnZSA9IHBhZ2UgPiAxO1xuICAgIGNvbnN0IHRvdGFsUHJvZHVjdHM9dG90YWw7XG5cbiAgICBjb25zdCBjYXRlZ29yeUNvdW50cyA9IGF3YWl0IFByb2R1Y3QuYWdncmVnYXRlKFtcbiAgXG4gIHsgJGdyb3VwOiB7IF9pZDogJyRjYXRlZ29yeScsIGNvdW50OiB7ICRzdW06IDEgfSB9IH1cbl0pO1xuXG4vLyBBZ2dyZWdhdGUgdGFnIGNvdW50c1xuY29uc3QgdGFnQ291bnRzID0gYXdhaXQgUHJvZHVjdC5hZ2dyZWdhdGUoW1xuICBcbiAgeyAkdW53aW5kOiAnJHRhZ3MnIH0sXG4gIHsgJGdyb3VwOiB7IF9pZDogJyR0YWdzJywgY291bnQ6IHsgJHN1bTogMSB9IH0gfVxuXSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcHJvZHVjdHMsXG4gICAgICB0b3RhbFByb2R1Y3RzLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBwYWdlLFxuICAgICAgICBsaW1pdCxcbiAgICAgICAgdG90YWwsXG4gICAgICAgIHRvdGFsUGFnZXMsXG4gICAgICAgIGhhc05leHRQYWdlLFxuICAgICAgICBoYXNQcmV2UGFnZSxcbiAgICAgIH0sXG4gICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yeUNvdW50cy5tYXAoYyA9PiAoeyBpZDogYy5faWQsIGNvdW50OiBjLmNvdW50IH0pKSxcbnRhZ3M6IHRhZ0NvdW50cy5tYXAodCA9PiAoeyBpZDogdC5faWQsIGNvdW50OiB0LmNvdW50IH0pKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQcm9kdWN0cyBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcHJvZHVjdHMnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldFNlcnZlclNlc3Npb24gfSA9IGF3YWl0IGltcG9ydCgnbmV4dC1hdXRoJyk7XG4gICAgY29uc3QgeyBhdXRoT3B0aW9ucyB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi9hdXRoJyk7XG4gICAgXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuICAgIFxuICAgIGlmICghc2Vzc2lvbiB8fCBzZXNzaW9uLnVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIHByaWNlLCBjYXRlZ29yeSB9ID0gYm9keTtcbiAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhcHJpY2UgfHwgIWNhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGNhdGVnb3J5IGVudW1cbiAgICBjb25zdCB2YWxpZENhdGVnb3JpZXMgPSBbXG4gICAgICAnYmFuZ2xlLWJveCcsXG4gICAgICAnY2x1dGNoJyxcbiAgICAgICdnaWZ0LWhhbXBlcnMnLFxuICAgICAgJ2dvZ2dsZS1jb3ZlcicsXG4gICAgICAna2l0dHktYmFnJyxcbiAgICAgICdsb25nLXRvdGUtYmFnJyxcbiAgICAgICdwaWNuaWMtYmFnJyxcbiAgICAgICdwb3RsaS1wdXJzZScsXG4gICAgICAnc2xpbmctYmFncycsXG4gICAgICAndmVsdmV0LWNsdXRjaC13aXRoLWZsYXBzJ1xuICAgIF07XG4gICAgaWYgKCF2YWxpZENhdGVnb3JpZXMuaW5jbHVkZXMoY2F0ZWdvcnkpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IGBJbnZhbGlkIGNhdGVnb3J5LiBNdXN0IGJlIG9uZSBvZjogJHt2YWxpZENhdGVnb3JpZXMuam9pbignLCAnKX1gIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBzbHVnIGZyb20gdGl0bGUgaWYgbm90IHByb3ZpZGVkXG4gICAgY29uc3Qgc2x1ZyA9IGJvZHkuc2x1ZyB8fCB0aXRsZVxuICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC9bXmEtejAtOVxccy1dL2csICcnKVxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcbiAgICAgIC50cmltKCctJyk7XG5cbiAgICAvLyBDaGVjayBpZiBzbHVnIGFscmVhZHkgZXhpc3RzXG4gICAgY29uc3QgZXhpc3RpbmdQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgc2x1ZyB9KTtcbiAgICBpZiAoZXhpc3RpbmdQcm9kdWN0KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdQcm9kdWN0IHdpdGggdGhpcyBzbHVnIGFscmVhZHkgZXhpc3RzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSBwcm9kdWN0IGRhdGEgd2l0aCBkZWZhdWx0c1xuICAgIC8vIE5vcm1hbGl6ZSBhbmQgc2FuaXRpemUgdGFnczogYWNjZXB0IGNvbW1hIG9yIGFycmF5XG4gICAgbGV0IHRhZ3MgPSBBcnJheS5pc0FycmF5KGJvZHkudGFncykgPyBib2R5LnRhZ3MgOiAodHlwZW9mIGJvZHkudGFncyA9PT0gJ3N0cmluZycgPyBib2R5LnRhZ3Muc3BsaXQoJywnKSA6IFtdKTtcbiAgICB0YWdzID0gdGFncy5tYXAodCA9PiBTdHJpbmcodCkudHJpbSgpLnRvTG93ZXJDYXNlKCkpLmZpbHRlcihCb29sZWFuKTtcblxuICAgIC8vIFZhbGlkYXRlIGFuZCBjbGVhbiBjb2xvciB2YXJpYW50c1xuICAgIGxldCBjb2xvclZhcmlhbnRzID0gW107XG4gICAgaWYgKGJvZHkuY29sb3JWYXJpYW50cyAmJiBBcnJheS5pc0FycmF5KGJvZHkuY29sb3JWYXJpYW50cykpIHtcbiAgICAgIGNvbG9yVmFyaWFudHMgPSBib2R5LmNvbG9yVmFyaWFudHNcbiAgICAgICAgLmZpbHRlcih2ID0+IHYgJiYgdi5uYW1lICYmIHYubmFtZS50cmltKCkgJiYgdi5oZXggJiYgL14jWzAtOUEtRmEtZl17Nn0kL2kudGVzdCh2LmhleCkpXG4gICAgICAgIC5tYXAodiA9PiAoe1xuICAgICAgICAgIG5hbWU6IHYubmFtZS50cmltKCksXG4gICAgICAgICAgaGV4OiB2LmhleC50cmltKCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICBpbWFnZXM6IEFycmF5LmlzQXJyYXkodi5pbWFnZXMpIFxuICAgICAgICAgICAgPyB2LmltYWdlcy5maWx0ZXIoaW1nID0+IGltZyAmJiAodHlwZW9mIGltZyA9PT0gJ3N0cmluZycgPyBpbWcudHJpbSgpIDogaW1nKSlcbiAgICAgICAgICAgICAgLm1hcChpbWcgPT4gdHlwZW9mIGltZyA9PT0gJ3N0cmluZycgPyBpbWcudHJpbSgpIDogKGltZz8udXJsIHx8IGltZykpXG4gICAgICAgICAgICA6IFtdXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHtcbiAgICAgIC4uLmJvZHksXG4gICAgICBzbHVnLFxuICAgICAgc3RvY2s6IGJvZHkuc3RvY2sgfHwgMTAsIC8vIERlZmF1bHQgc3RvY2tcbiAgICAgIGRpc2NvdW50OiB0eXBlb2YgYm9keS5kaXNjb3VudCA9PT0gJ251bWJlcicgPyBib2R5LmRpc2NvdW50IDogMCxcbiAgICAgIHB1Ymxpc2hlZDogYm9keS5wdWJsaXNoZWQgIT09IHVuZGVmaW5lZCA/IGJvZHkucHVibGlzaGVkIDogdHJ1ZSxcbiAgICAgIHRhZ3MsXG4gICAgICBjb2xvclZhcmlhbnRzOiBjb2xvclZhcmlhbnRzLmxlbmd0aCA+IDAgPyBjb2xvclZhcmlhbnRzIDogdW5kZWZpbmVkLFxuICAgICAgaW1hZ2VzOiBib2R5LmltYWdlcyB8fCAoYm9keS5tYWluSW1hZ2UgPyBbe1xuICAgICAgICB1cmw6IGJvZHkubWFpbkltYWdlLFxuICAgICAgICBhbHQ6IHRpdGxlLFxuICAgICAgICBwdWJsaWNJZDogYHByb2R1Y3QtJHtEYXRlLm5vdygpfWBcbiAgICAgIH1dIDogW10pLFxuICAgICAgY3JlYXRlZEJ5OiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgfTtcblxuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdChwcm9kdWN0RGF0YSk7XG5cbiAgICBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcblxuICAgIC8vIEVtaXQgcmVhbC10aW1lIHVwZGF0ZSB0byBhZG1pblxuICAgIGVtaXRUb0FkbWluKCdwcm9kdWN0LWNoYW5nZWQnLCB7IFxuICAgICAgYWN0aW9uOiAnY3JlYXRlZCcsIFxuICAgICAgcHJvZHVjdDogcHJvZHVjdC50b09iamVjdCgpIFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHByb2R1Y3QsIHsgc3RhdHVzOiAyMDEgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ3JlYXRlIHByb2R1Y3QgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHByb2R1Y3QnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9ID0gYXdhaXQgaW1wb3J0KCduZXh0LWF1dGgnKTtcbiAgICBjb25zdCB7IGF1dGhPcHRpb25zIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2F1dGgnKTtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG5cbiAgICBpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi51c2VyLnJvbGUgIT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBpZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2lkJyk7XG4gICAgaWYgKCFpZCkgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdpZCByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcblxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKGlkKTtcbiAgICBpZiAoIXByb2R1Y3QpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUHJvZHVjdCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG5cbiAgICAvLyBIYXJkIGRlbGV0ZSBmcm9tIGRhdGFiYXNlXG4gICAgYXdhaXQgUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZShpZCk7XG5cbiAgICAvLyBFbWl0IHJlYWwtdGltZSB1cGRhdGUgdG8gYWxsIGNsaWVudHNcbiAgICB0cnkge1xuICAgICAgZW1pdFRvQWRtaW4oJ3Byb2R1Y3QtY2hhbmdlZCcsIHsgYWN0aW9uOiAnZGVsZXRlZCcsIHByb2R1Y3RJZDogaWQgfSk7XG4gICAgICBlbWl0VG9BbGwoJ3Byb2R1Y3QtY2hhbmdlZCcsIHsgYWN0aW9uOiAnZGVsZXRlZCcsIHByb2R1Y3RJZDogaWQgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gaWdub3JlIGVtaXQgZXJyb3JzXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEZWxldGUgcHJvZHVjdCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIHByb2R1Y3QnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkYkNvbm5lY3QiLCJQcm9kdWN0IiwiVGFnRGlzY291bnQiLCJlbWl0VG9BZG1pbiIsImVtaXRUb0FsbCIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJwYWdlIiwicGFyc2VJbnQiLCJnZXQiLCJsaW1pdCIsImNhdGVnb3J5Iiwic2VhcmNoIiwic29ydCIsIm9yZGVyIiwibWluUHJpY2UiLCJtYXhQcmljZSIsInRhZ3MiLCJmZWF0dXJlZCIsImluU3RvY2siLCJxdWVyeSIsInB1Ymxpc2hlZCIsIiRpbiIsInNhbml0aXplZFNlYXJjaCIsInJlcGxhY2UiLCIkb3IiLCJ0aXRsZSIsIiRyZWdleCIsIiRvcHRpb25zIiwiZGVzY3JpcHRpb24iLCJSZWdFeHAiLCJwcmljZSIsIiRndGUiLCJwYXJzZUZsb2F0IiwiJGx0ZSIsInRhZ0FycmF5Iiwic3BsaXQiLCJtYXAiLCJ0YWciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJzdG9jayIsIiRndCIsInNvcnRPYmoiLCJza2lwIiwicmF3UHJvZHVjdHMiLCJ0b3RhbCIsImFjdGl2ZURpc2NvdW50cyIsIlByb21pc2UiLCJhbGwiLCJmaW5kIiwibGVhbiIsInZpcnR1YWxzIiwiY291bnREb2N1bWVudHMiLCJhY3RpdmUiLCJ0YWdUb1BlcmNlbnQiLCJNYXAiLCJkIiwic2V0IiwicGVyY2VudCIsInByb2R1Y3RzIiwicCIsImJhc2VEaXNjb3VudCIsImRpc2NvdW50IiwidGFnRGlzY291bnQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJ0IiwicGN0IiwiU3RyaW5nIiwiTWF0aCIsIm1heCIsImVmZmVjdGl2ZURpc2NvdW50IiwiaWQiLCJfaWQiLCJuYW1lIiwibWFpbkltYWdlIiwiaW1hZ2VzIiwiTnVtYmVyIiwidG90YWxQYWdlcyIsImNlaWwiLCJoYXNOZXh0UGFnZSIsImhhc1ByZXZQYWdlIiwidG90YWxQcm9kdWN0cyIsImNhdGVnb3J5Q291bnRzIiwiYWdncmVnYXRlIiwiJGdyb3VwIiwiY291bnQiLCIkc3VtIiwidGFnQ291bnRzIiwiJHVud2luZCIsImpzb24iLCJwYWdpbmF0aW9uIiwiY2F0ZWdvcmllcyIsImMiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJQT1NUIiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwic2Vzc2lvbiIsInVzZXIiLCJyb2xlIiwiYm9keSIsInZhbGlkQ2F0ZWdvcmllcyIsImluY2x1ZGVzIiwiam9pbiIsInNsdWciLCJleGlzdGluZ1Byb2R1Y3QiLCJmaW5kT25lIiwiZmlsdGVyIiwiQm9vbGVhbiIsImNvbG9yVmFyaWFudHMiLCJ2IiwiaGV4IiwidGVzdCIsInRvVXBwZXJDYXNlIiwiaW1nIiwicHJvZHVjdERhdGEiLCJ1bmRlZmluZWQiLCJhbHQiLCJwdWJsaWNJZCIsIkRhdGUiLCJub3ciLCJjcmVhdGVkQnkiLCJwcm9kdWN0Iiwic2F2ZSIsImFjdGlvbiIsInRvT2JqZWN0IiwiREVMRVRFIiwiZmluZEJ5SWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsInByb2R1Y3RJZCIsImUiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/products/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3pELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBncm93aW5nIGV4cG9uZW50aWFsbHlcclxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cclxuICovXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./lib/socket.js":
/*!***********************!*\
  !*** ./lib/socket.js ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const { Server } = __webpack_require__(/*! socket.io */ \"(rsc)/./node_modules/socket.io/dist/index.js\");\nlet io;\nconst initSocket = (server)=>{\n    io = new Server(server, {\n        cors: {\n            origin: process.env.NEXTAUTH_URL || \"http://localhost:3000\",\n            methods: [\n                \"GET\",\n                \"POST\"\n            ]\n        }\n    });\n    io.on(\"connection\", (socket)=>{\n        console.log(\"Client connected:\", socket.id);\n        // Join admin room for admin-specific updates\n        socket.on(\"join-admin\", ()=>{\n            socket.join(\"admin\");\n            console.log(\"Admin joined:\", socket.id);\n        });\n        // Join user-specific room\n        socket.on(\"join-user\", (userId)=>{\n            socket.join(`user-${userId}`);\n            console.log(\"User joined:\", userId);\n        });\n        // Handle cart updates\n        socket.on(\"cart-updated\", (data)=>{\n            socket.broadcast.to(`user-${data.userId}`).emit(\"cart-changed\", data);\n        });\n        // Handle wishlist updates\n        socket.on(\"wishlist-updated\", (data)=>{\n            socket.broadcast.to(`user-${data.userId}`).emit(\"wishlist-changed\", data);\n        });\n        // Handle product updates for admin\n        socket.on(\"product-updated\", (data)=>{\n            socket.broadcast.to(\"admin\").emit(\"product-changed\", data);\n        });\n        // Handle KPI updates\n        socket.on(\"kpi-updated\", (data)=>{\n            socket.broadcast.to(\"admin\").emit(\"kpi-changed\", data);\n        });\n        socket.on(\"disconnect\", ()=>{\n            console.log(\"Client disconnected:\", socket.id);\n        });\n    });\n    return io;\n};\nconst getIO = ()=>{\n    if (!io) {\n        throw new Error(\"Socket.io not initialized!\");\n    }\n    return io;\n};\nconst emitToUser = (userId, event, data)=>{\n    if (io) {\n        io.to(`user-${userId}`).emit(event, data);\n    }\n};\nconst emitToAdmin = (event, data)=>{\n    if (io) {\n        io.to(\"admin\").emit(event, data);\n    }\n};\n// Broadcast to all connected clients\nconst emitToAll = (event, data)=>{\n    if (io) {\n        io.emit(event, data);\n    }\n};\nmodule.exports = {\n    initSocket,\n    getIO,\n    emitToUser,\n    emitToAdmin,\n    emitToAll\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc29ja2V0LmpzIiwibWFwcGluZ3MiOiJBQUFBLE1BQU0sRUFBRUEsTUFBTSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO0FBRTNCLElBQUlDO0FBRUosTUFBTUMsYUFBYSxDQUFDQztJQUNsQkYsS0FBSyxJQUFJRixPQUFPSSxRQUFRO1FBQ3RCQyxNQUFNO1lBQ0pDLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxJQUFJO1lBQ3BDQyxTQUFTO2dCQUFDO2dCQUFPO2FBQU87UUFDMUI7SUFDRjtJQUVBUixHQUFHUyxFQUFFLENBQUMsY0FBYyxDQUFDQztRQUNuQkMsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQkYsT0FBT0csRUFBRTtRQUUxQyw2Q0FBNkM7UUFDN0NILE9BQU9ELEVBQUUsQ0FBQyxjQUFjO1lBQ3RCQyxPQUFPSSxJQUFJLENBQUM7WUFDWkgsUUFBUUMsR0FBRyxDQUFDLGlCQUFpQkYsT0FBT0csRUFBRTtRQUN4QztRQUVBLDBCQUEwQjtRQUMxQkgsT0FBT0QsRUFBRSxDQUFDLGFBQWEsQ0FBQ007WUFDdEJMLE9BQU9JLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRUMsT0FBTyxDQUFDO1lBQzVCSixRQUFRQyxHQUFHLENBQUMsZ0JBQWdCRztRQUM5QjtRQUVBLHNCQUFzQjtRQUN0QkwsT0FBT0QsRUFBRSxDQUFDLGdCQUFnQixDQUFDTztZQUN6Qk4sT0FBT08sU0FBUyxDQUFDQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUVGLEtBQUtELE1BQU0sQ0FBQyxDQUFDLEVBQUVJLElBQUksQ0FBQyxnQkFBZ0JIO1FBQ2xFO1FBRUEsMEJBQTBCO1FBQzFCTixPQUFPRCxFQUFFLENBQUMsb0JBQW9CLENBQUNPO1lBQzdCTixPQUFPTyxTQUFTLENBQUNDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRUYsS0FBS0QsTUFBTSxDQUFDLENBQUMsRUFBRUksSUFBSSxDQUFDLG9CQUFvQkg7UUFDdEU7UUFFQSxtQ0FBbUM7UUFDbkNOLE9BQU9ELEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQ087WUFDNUJOLE9BQU9PLFNBQVMsQ0FBQ0MsRUFBRSxDQUFDLFNBQVNDLElBQUksQ0FBQyxtQkFBbUJIO1FBQ3ZEO1FBRUEscUJBQXFCO1FBQ3JCTixPQUFPRCxFQUFFLENBQUMsZUFBZSxDQUFDTztZQUN4Qk4sT0FBT08sU0FBUyxDQUFDQyxFQUFFLENBQUMsU0FBU0MsSUFBSSxDQUFDLGVBQWVIO1FBQ25EO1FBRUFOLE9BQU9ELEVBQUUsQ0FBQyxjQUFjO1lBQ3RCRSxRQUFRQyxHQUFHLENBQUMsd0JBQXdCRixPQUFPRyxFQUFFO1FBQy9DO0lBQ0Y7SUFFQSxPQUFPYjtBQUNUO0FBRUEsTUFBTW9CLFFBQVE7SUFDWixJQUFJLENBQUNwQixJQUFJO1FBQ1AsTUFBTSxJQUFJcUIsTUFBTTtJQUNsQjtJQUNBLE9BQU9yQjtBQUNUO0FBRUEsTUFBTXNCLGFBQWEsQ0FBQ1AsUUFBUVEsT0FBT1A7SUFDakMsSUFBSWhCLElBQUk7UUFDTkEsR0FBR2tCLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRUgsT0FBTyxDQUFDLEVBQUVJLElBQUksQ0FBQ0ksT0FBT1A7SUFDdEM7QUFDRjtBQUVBLE1BQU1RLGNBQWMsQ0FBQ0QsT0FBT1A7SUFDMUIsSUFBSWhCLElBQUk7UUFDTkEsR0FBR2tCLEVBQUUsQ0FBQyxTQUFTQyxJQUFJLENBQUNJLE9BQU9QO0lBQzdCO0FBQ0Y7QUFFQSxxQ0FBcUM7QUFDckMsTUFBTVMsWUFBWSxDQUFDRixPQUFPUDtJQUN4QixJQUFJaEIsSUFBSTtRQUNOQSxHQUFHbUIsSUFBSSxDQUFDSSxPQUFPUDtJQUNqQjtBQUNGO0FBRUFVLE9BQU9DLE9BQU8sR0FBRztJQUNmMUI7SUFDQW1CO0lBQ0FFO0lBQ0FFO0lBQ0FDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLy4vbGliL3NvY2tldC5qcz81NzQwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgU2VydmVyIH0gPSByZXF1aXJlKCdzb2NrZXQuaW8nKTtcblxubGV0IGlvO1xuXG5jb25zdCBpbml0U29ja2V0ID0gKHNlcnZlcikgPT4ge1xuICBpbyA9IG5ldyBTZXJ2ZXIoc2VydmVyLCB7XG4gICAgY29yczoge1xuICAgICAgb3JpZ2luOiBwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXG4gICAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJ10sXG4gICAgfSxcbiAgfSk7XG5cbiAgaW8ub24oJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0NsaWVudCBjb25uZWN0ZWQ6Jywgc29ja2V0LmlkKTtcblxuICAgIC8vIEpvaW4gYWRtaW4gcm9vbSBmb3IgYWRtaW4tc3BlY2lmaWMgdXBkYXRlc1xuICAgIHNvY2tldC5vbignam9pbi1hZG1pbicsICgpID0+IHtcbiAgICAgIHNvY2tldC5qb2luKCdhZG1pbicpO1xuICAgICAgY29uc29sZS5sb2coJ0FkbWluIGpvaW5lZDonLCBzb2NrZXQuaWQpO1xuICAgIH0pO1xuXG4gICAgLy8gSm9pbiB1c2VyLXNwZWNpZmljIHJvb21cbiAgICBzb2NrZXQub24oJ2pvaW4tdXNlcicsICh1c2VySWQpID0+IHtcbiAgICAgIHNvY2tldC5qb2luKGB1c2VyLSR7dXNlcklkfWApO1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgam9pbmVkOicsIHVzZXJJZCk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgY2FydCB1cGRhdGVzXG4gICAgc29ja2V0Lm9uKCdjYXJ0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50byhgdXNlci0ke2RhdGEudXNlcklkfWApLmVtaXQoJ2NhcnQtY2hhbmdlZCcsIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHdpc2hsaXN0IHVwZGF0ZXNcbiAgICBzb2NrZXQub24oJ3dpc2hsaXN0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50byhgdXNlci0ke2RhdGEudXNlcklkfWApLmVtaXQoJ3dpc2hsaXN0LWNoYW5nZWQnLCBkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBwcm9kdWN0IHVwZGF0ZXMgZm9yIGFkbWluXG4gICAgc29ja2V0Lm9uKCdwcm9kdWN0LXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50bygnYWRtaW4nKS5lbWl0KCdwcm9kdWN0LWNoYW5nZWQnLCBkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBLUEkgdXBkYXRlc1xuICAgIHNvY2tldC5vbigna3BpLXVwZGF0ZWQnLCAoZGF0YSkgPT4ge1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50bygnYWRtaW4nKS5lbWl0KCdrcGktY2hhbmdlZCcsIGRhdGEpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NsaWVudCBkaXNjb25uZWN0ZWQ6Jywgc29ja2V0LmlkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlvO1xufTtcblxuY29uc3QgZ2V0SU8gPSAoKSA9PiB7XG4gIGlmICghaW8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NvY2tldC5pbyBub3QgaW5pdGlhbGl6ZWQhJyk7XG4gIH1cbiAgcmV0dXJuIGlvO1xufTtcblxuY29uc3QgZW1pdFRvVXNlciA9ICh1c2VySWQsIGV2ZW50LCBkYXRhKSA9PiB7XG4gIGlmIChpbykge1xuICAgIGlvLnRvKGB1c2VyLSR7dXNlcklkfWApLmVtaXQoZXZlbnQsIGRhdGEpO1xuICB9XG59O1xuXG5jb25zdCBlbWl0VG9BZG1pbiA9IChldmVudCwgZGF0YSkgPT4ge1xuICBpZiAoaW8pIHtcbiAgICBpby50bygnYWRtaW4nKS5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgfVxufTtcblxuLy8gQnJvYWRjYXN0IHRvIGFsbCBjb25uZWN0ZWQgY2xpZW50c1xuY29uc3QgZW1pdFRvQWxsID0gKGV2ZW50LCBkYXRhKSA9PiB7XG4gIGlmIChpbykge1xuICAgIGlvLmVtaXQoZXZlbnQsIGRhdGEpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdFNvY2tldCxcbiAgZ2V0SU8sXG4gIGVtaXRUb1VzZXIsXG4gIGVtaXRUb0FkbWluLFxuICBlbWl0VG9BbGwsXG59O1xuIl0sIm5hbWVzIjpbIlNlcnZlciIsInJlcXVpcmUiLCJpbyIsImluaXRTb2NrZXQiLCJzZXJ2ZXIiLCJjb3JzIiwib3JpZ2luIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsIm1ldGhvZHMiLCJvbiIsInNvY2tldCIsImNvbnNvbGUiLCJsb2ciLCJpZCIsImpvaW4iLCJ1c2VySWQiLCJkYXRhIiwiYnJvYWRjYXN0IiwidG8iLCJlbWl0IiwiZ2V0SU8iLCJFcnJvciIsImVtaXRUb1VzZXIiLCJldmVudCIsImVtaXRUb0FkbWluIiwiZW1pdFRvQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/socket.js\n");

/***/ }),

/***/ "(rsc)/./models/Product.js":
/*!***************************!*\
  !*** ./models/Product.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst productSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: [\n            true,\n            \"Product title is required\"\n        ],\n        trim: true,\n        maxlength: [\n            100,\n            \"Title cannot be more than 100 characters\"\n        ]\n    },\n    slug: {\n        type: String,\n        required: [\n            true,\n            \"Product slug is required\"\n        ],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^[a-z0-9-]+$/,\n            \"Slug can only contain lowercase letters, numbers, and hyphens\"\n        ]\n    },\n    description: {\n        type: String,\n        required: [\n            true,\n            \"Product description is required\"\n        ],\n        maxlength: [\n            2000,\n            \"Description cannot be more than 2000 characters\"\n        ]\n    },\n    shortDescription: {\n        type: String,\n        maxlength: [\n            200,\n            \"Short description cannot be more than 200 characters\"\n        ]\n    },\n    images: [\n        {\n            url: {\n                type: String,\n                required: true\n            },\n            alt: {\n                type: String,\n                required: true\n            },\n            publicId: {\n                type: String,\n                required: true\n            }\n        }\n    ],\n    price: {\n        type: Number,\n        required: [\n            true,\n            \"Product price is required\"\n        ],\n        min: [\n            0,\n            \"Price cannot be negative\"\n        ]\n    },\n    // Discount percentage (0-100)\n    discount: {\n        type: Number,\n        min: [\n            0,\n            \"Discount cannot be negative\"\n        ],\n        max: [\n            100,\n            \"Discount cannot be more than 100%\"\n        ],\n        default: 0\n    },\n    comparePrice: {\n        type: Number,\n        min: [\n            0,\n            \"Compare price cannot be negative\"\n        ]\n    },\n    stock: {\n        type: Number,\n        required: [\n            true,\n            \"Stock quantity is required\"\n        ],\n        min: [\n            0,\n            \"Stock cannot be negative\"\n        ],\n        default: 10\n    },\n    sku: {\n        type: String,\n        unique: true,\n        sparse: true,\n        trim: true\n    },\n    tags: [\n        {\n            type: String,\n            trim: true,\n            lowercase: true\n        }\n    ],\n    category: {\n        type: String,\n        required: [\n            true,\n            \"Product category is required\"\n        ],\n        enum: [\n            \"bangle-box\",\n            \"clutch\",\n            \"gift-hampers\",\n            \"goggle-cover\",\n            \"kitty-bag\",\n            \"long-tote-bag\",\n            \"picnic-bag\",\n            \"potli-purse\",\n            \"sling-bags\",\n            \"velvet-clutch-with-flaps\"\n        ]\n    },\n    subcategory: {\n        type: String,\n        trim: true\n    },\n    materials: [\n        {\n            type: String,\n            trim: true\n        }\n    ],\n    dimensions: {\n        length: Number,\n        width: Number,\n        height: Number,\n        unit: {\n            type: String,\n            enum: [\n                \"cm\",\n                \"inches\"\n            ],\n            default: \"cm\"\n        }\n    },\n    weight: {\n        value: Number,\n        unit: {\n            type: String,\n            enum: [\n                \"g\",\n                \"kg\",\n                \"lbs\"\n            ],\n            default: \"g\"\n        }\n    },\n    colors: [\n        {\n            name: String,\n            hex: String\n        }\n    ],\n    colorVariants: [\n        {\n            name: {\n                type: String,\n                required: true,\n                trim: true\n            },\n            hex: {\n                type: String,\n                required: true,\n                match: [\n                    /^#[0-9A-Fa-f]{6}$/,\n                    \"Hex color must be in format #RRGGBB\"\n                ]\n            },\n            images: [\n                {\n                    type: String,\n                    trim: true\n                }\n            ]\n        }\n    ],\n    published: {\n        type: Boolean,\n        default: true\n    },\n    featured: {\n        type: Boolean,\n        default: false\n    },\n    seo: {\n        metaTitle: {\n            type: String,\n            maxlength: [\n                60,\n                \"Meta title cannot be more than 60 characters\"\n            ]\n        },\n        metaDescription: {\n            type: String,\n            maxlength: [\n                160,\n                \"Meta description cannot be more than 160 characters\"\n            ]\n        },\n        keywords: [\n            String\n        ]\n    },\n    ratings: {\n        average: {\n            type: Number,\n            default: 0,\n            min: 0,\n            max: 5\n        },\n        count: {\n            type: Number,\n            default: 0,\n            min: 0\n        }\n    },\n    salesCount: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    isHandmade: {\n        type: Boolean,\n        default: true\n    },\n    madeIn: {\n        type: String,\n        default: \"India\"\n    },\n    careInstructions: {\n        type: String,\n        maxlength: [\n            500,\n            \"Care instructions cannot be more than 500 characters\"\n        ]\n    }\n}, {\n    timestamps: true\n});\n// Indexes for efficient queries\nproductSchema.index({\n    slug: 1\n});\nproductSchema.index({\n    category: 1\n});\nproductSchema.index({\n    tags: 1\n});\nproductSchema.index({\n    published: 1\n});\nproductSchema.index({\n    featured: 1\n});\nproductSchema.index({\n    \"ratings.average\": -1\n});\nproductSchema.index({\n    salesCount: -1\n});\nproductSchema.index({\n    createdAt: -1\n});\nproductSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.__v;\n        return ret;\n    }\n});\n// Virtual for discount percentage\nproductSchema.virtual(\"discountPercentage\").get(function() {\n    if (this.comparePrice && this.comparePrice > this.price) {\n        return Math.round((this.comparePrice - this.price) / this.comparePrice * 100);\n    }\n    return 0;\n});\n// Virtual for in stock status\nproductSchema.virtual(\"inStock\").get(function() {\n    return this.stock > 0;\n});\n// Virtual for main image\nproductSchema.virtual(\"mainImage\").get(function() {\n    return this.images.length > 0 ? this.images[0] : null;\n});\n// Instance method to update stock\nproductSchema.methods.updateStock = function(quantity) {\n    this.stock = Math.max(0, this.stock - quantity);\n    return this.save();\n};\n// Instance method to increment sales count\nproductSchema.methods.incrementSales = function(quantity = 1) {\n    this.salesCount += quantity;\n    return this.save();\n};\n// Static method to find published products\nproductSchema.statics.findPublished = function() {\n    return this.find({\n        published: true\n    });\n};\n// Static method to find featured products\nproductSchema.statics.findFeatured = function() {\n    return this.find({\n        published: true,\n        featured: true\n    });\n};\n// Static method to find by category\nproductSchema.statics.findByCategory = function(category) {\n    return this.find({\n        published: true,\n        category\n    });\n};\n// Static method to search products\nproductSchema.statics.search = function(query) {\n    return this.find({\n        published: true,\n        $or: [\n            {\n                title: {\n                    $regex: query,\n                    $options: \"i\"\n                }\n            },\n            {\n                description: {\n                    $regex: query,\n                    $options: \"i\"\n                }\n            },\n            {\n                tags: {\n                    $in: [\n                        new RegExp(query, \"i\")\n                    ]\n                }\n            }\n        ]\n    });\n};\n// Pre-save middleware to generate slug if not provided\nproductSchema.pre(\"save\", function(next) {\n    if (!this.slug && this.title) {\n        this.slug = this.title.toLowerCase().replace(/[^a-z0-9\\s-]/g, \"\").replace(/\\s+/g, \"-\").replace(/-+/g, \"-\").trim(\"-\");\n    }\n    next();\n});\n// Ensure virtuals are serialized\nproductSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.__v;\n        return ret;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Product || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", productSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvUHJvZHVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsZ0JBQWdCLElBQUlELHdEQUFlLENBQUM7SUFDeENHLE9BQU87UUFDTEMsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBNEI7UUFDN0NDLE1BQU07UUFDTkMsV0FBVztZQUFDO1lBQUs7U0FBMkM7SUFDOUQ7SUFDQUMsTUFBTTtRQUNKTCxNQUFNQztRQUNOQyxVQUFVO1lBQUM7WUFBTTtTQUEyQjtRQUM1Q0ksUUFBUTtRQUNSQyxXQUFXO1FBQ1hKLE1BQU07UUFDTkssT0FBTztZQUFDO1lBQWdCO1NBQWdFO0lBQzFGO0lBQ0FDLGFBQWE7UUFDWFQsTUFBTUM7UUFDTkMsVUFBVTtZQUFDO1lBQU07U0FBa0M7UUFDbkRFLFdBQVc7WUFBQztZQUFNO1NBQWtEO0lBQ3RFO0lBQ0FNLGtCQUFrQjtRQUNoQlYsTUFBTUM7UUFDTkcsV0FBVztZQUFDO1lBQUs7U0FBdUQ7SUFDMUU7SUFDQU8sUUFBUTtRQUFDO1lBQ1BDLEtBQUs7Z0JBQ0haLE1BQU1DO2dCQUNOQyxVQUFVO1lBQ1o7WUFDQVcsS0FBSztnQkFDSGIsTUFBTUM7Z0JBQ05DLFVBQVU7WUFDWjtZQUNBWSxVQUFVO2dCQUNSZCxNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1FBQ0Y7S0FBRTtJQUNGYSxPQUFPO1FBQ0xmLE1BQU1nQjtRQUNOZCxVQUFVO1lBQUM7WUFBTTtTQUE0QjtRQUM3Q2UsS0FBSztZQUFDO1lBQUc7U0FBMkI7SUFDdEM7SUFDQSw4QkFBOEI7SUFDOUJDLFVBQVU7UUFDUmxCLE1BQU1nQjtRQUNOQyxLQUFLO1lBQUM7WUFBRztTQUE4QjtRQUN2Q0UsS0FBSztZQUFDO1lBQUs7U0FBb0M7UUFDL0NDLFNBQVM7SUFDWDtJQUNBQyxjQUFjO1FBQ1pyQixNQUFNZ0I7UUFDTkMsS0FBSztZQUFDO1lBQUc7U0FBbUM7SUFDOUM7SUFDQUssT0FBTztRQUNMdEIsTUFBTWdCO1FBQ05kLFVBQVU7WUFBQztZQUFNO1NBQTZCO1FBQzlDZSxLQUFLO1lBQUM7WUFBRztTQUEyQjtRQUNwQ0csU0FBUztJQUNYO0lBQ0FHLEtBQUs7UUFDSHZCLE1BQU1DO1FBQ05LLFFBQVE7UUFDUmtCLFFBQVE7UUFDUnJCLE1BQU07SUFDUjtJQUNBc0IsTUFBTTtRQUFDO1lBQ0x6QixNQUFNQztZQUNORSxNQUFNO1lBQ05JLFdBQVc7UUFDYjtLQUFFO0lBQ0ZtQixVQUFVO1FBQ1IxQixNQUFNQztRQUNOQyxVQUFVO1lBQUM7WUFBTTtTQUErQjtRQUNoRHlCLE1BQU07WUFDSjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNEO0lBQ0g7SUFDQUMsYUFBYTtRQUNYNUIsTUFBTUM7UUFDTkUsTUFBTTtJQUNSO0lBQ0EwQixXQUFXO1FBQUM7WUFDVjdCLE1BQU1DO1lBQ05FLE1BQU07UUFDUjtLQUFFO0lBQ0YyQixZQUFZO1FBQ1ZDLFFBQVFmO1FBQ1JnQixPQUFPaEI7UUFDUGlCLFFBQVFqQjtRQUNSa0IsTUFBTTtZQUNKbEMsTUFBTUM7WUFDTjBCLE1BQU07Z0JBQUM7Z0JBQU07YUFBUztZQUN0QlAsU0FBUztRQUNYO0lBQ0Y7SUFDQWUsUUFBUTtRQUNOQyxPQUFPcEI7UUFDUGtCLE1BQU07WUFDSmxDLE1BQU1DO1lBQ04wQixNQUFNO2dCQUFDO2dCQUFLO2dCQUFNO2FBQU07WUFDeEJQLFNBQVM7UUFDWDtJQUNGO0lBQ0FpQixRQUFRO1FBQUM7WUFDUEMsTUFBTXJDO1lBQ05zQyxLQUFLdEM7UUFDUDtLQUFFO0lBQ0Z1QyxlQUFlO1FBQUM7WUFDZEYsTUFBTTtnQkFDSnRDLE1BQU1DO2dCQUNOQyxVQUFVO2dCQUNWQyxNQUFNO1lBQ1I7WUFDQW9DLEtBQUs7Z0JBQ0h2QyxNQUFNQztnQkFDTkMsVUFBVTtnQkFDVk0sT0FBTztvQkFBQztvQkFBcUI7aUJBQXNDO1lBQ3JFO1lBQ0FHLFFBQVE7Z0JBQUM7b0JBQ1BYLE1BQU1DO29CQUNORSxNQUFNO2dCQUNSO2FBQUU7UUFDSjtLQUFFO0lBQ0ZzQyxXQUFXO1FBQ1R6QyxNQUFNMEM7UUFDTnRCLFNBQVM7SUFDWDtJQUNBdUIsVUFBVTtRQUNSM0MsTUFBTTBDO1FBQ050QixTQUFTO0lBQ1g7SUFDQXdCLEtBQUs7UUFDSEMsV0FBVztZQUNUN0MsTUFBTUM7WUFDTkcsV0FBVztnQkFBQztnQkFBSTthQUErQztRQUNqRTtRQUNBMEMsaUJBQWlCO1lBQ2Y5QyxNQUFNQztZQUNORyxXQUFXO2dCQUFDO2dCQUFLO2FBQXNEO1FBQ3pFO1FBQ0EyQyxVQUFVO1lBQUM5QztTQUFPO0lBQ3BCO0lBQ0ErQyxTQUFTO1FBQ1BDLFNBQVM7WUFDUGpELE1BQU1nQjtZQUNOSSxTQUFTO1lBQ1RILEtBQUs7WUFDTEUsS0FBSztRQUNQO1FBQ0ErQixPQUFPO1lBQ0xsRCxNQUFNZ0I7WUFDTkksU0FBUztZQUNUSCxLQUFLO1FBQ1A7SUFDRjtJQUNBa0MsWUFBWTtRQUNWbkQsTUFBTWdCO1FBQ05JLFNBQVM7UUFDVEgsS0FBSztJQUNQO0lBQ0FtQyxZQUFZO1FBQ1ZwRCxNQUFNMEM7UUFDTnRCLFNBQVM7SUFDWDtJQUNBaUMsUUFBUTtRQUNOckQsTUFBTUM7UUFDTm1CLFNBQVM7SUFDWDtJQUNBa0Msa0JBQWtCO1FBQ2hCdEQsTUFBTUM7UUFDTkcsV0FBVztZQUFDO1lBQUs7U0FBdUQ7SUFDMUU7QUFDRixHQUFHO0lBQ0RtRCxZQUFZO0FBQ2Q7QUFFQSxnQ0FBZ0M7QUFDaEMxRCxjQUFjMkQsS0FBSyxDQUFDO0lBQUVuRCxNQUFNO0FBQUU7QUFDOUJSLGNBQWMyRCxLQUFLLENBQUM7SUFBRTlCLFVBQVU7QUFBRTtBQUNsQzdCLGNBQWMyRCxLQUFLLENBQUM7SUFBRS9CLE1BQU07QUFBRTtBQUM5QjVCLGNBQWMyRCxLQUFLLENBQUM7SUFBRWYsV0FBVztBQUFFO0FBQ25DNUMsY0FBYzJELEtBQUssQ0FBQztJQUFFYixVQUFVO0FBQUU7QUFDbEM5QyxjQUFjMkQsS0FBSyxDQUFDO0lBQUUsbUJBQW1CLENBQUM7QUFBRTtBQUM1QzNELGNBQWMyRCxLQUFLLENBQUM7SUFBRUwsWUFBWSxDQUFDO0FBQUU7QUFDckN0RCxjQUFjMkQsS0FBSyxDQUFDO0lBQUVDLFdBQVcsQ0FBQztBQUFFO0FBQ3BDNUQsY0FBYzZELEdBQUcsQ0FBQyxVQUFVO0lBQzFCQyxVQUFVO0lBQ1ZDLFdBQVcsU0FBVUMsR0FBRyxFQUFFQyxHQUFHO1FBQzNCLE9BQU9BLElBQUlDLEdBQUc7UUFDZCxPQUFPRDtJQUNUO0FBQ0Y7QUFHQSxrQ0FBa0M7QUFDbENqRSxjQUFjbUUsT0FBTyxDQUFDLHNCQUFzQkMsR0FBRyxDQUFDO0lBQzlDLElBQUksSUFBSSxDQUFDNUMsWUFBWSxJQUFJLElBQUksQ0FBQ0EsWUFBWSxHQUFHLElBQUksQ0FBQ04sS0FBSyxFQUFFO1FBQ3ZELE9BQU9tRCxLQUFLQyxLQUFLLENBQUMsQ0FBRSxJQUFJLENBQUM5QyxZQUFZLEdBQUcsSUFBSSxDQUFDTixLQUFLLElBQUksSUFBSSxDQUFDTSxZQUFZLEdBQUk7SUFDN0U7SUFDQSxPQUFPO0FBQ1Q7QUFFQSw4QkFBOEI7QUFDOUJ4QixjQUFjbUUsT0FBTyxDQUFDLFdBQVdDLEdBQUcsQ0FBQztJQUNuQyxPQUFPLElBQUksQ0FBQzNDLEtBQUssR0FBRztBQUN0QjtBQUdBLHlCQUF5QjtBQUN6QnpCLGNBQWNtRSxPQUFPLENBQUMsYUFBYUMsR0FBRyxDQUFDO0lBQ3JDLE9BQU8sSUFBSSxDQUFDdEQsTUFBTSxDQUFDb0IsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDcEIsTUFBTSxDQUFDLEVBQUUsR0FBRztBQUNuRDtBQUVBLGtDQUFrQztBQUNsQ2QsY0FBY3VFLE9BQU8sQ0FBQ0MsV0FBVyxHQUFHLFNBQVNDLFFBQVE7SUFDbkQsSUFBSSxDQUFDaEQsS0FBSyxHQUFHNEMsS0FBSy9DLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQ0csS0FBSyxHQUFHZ0Q7SUFDdEMsT0FBTyxJQUFJLENBQUNDLElBQUk7QUFDbEI7QUFFQSwyQ0FBMkM7QUFDM0MxRSxjQUFjdUUsT0FBTyxDQUFDSSxjQUFjLEdBQUcsU0FBU0YsV0FBVyxDQUFDO0lBQzFELElBQUksQ0FBQ25CLFVBQVUsSUFBSW1CO0lBQ25CLE9BQU8sSUFBSSxDQUFDQyxJQUFJO0FBQ2xCO0FBRUEsMkNBQTJDO0FBQzNDMUUsY0FBYzRFLE9BQU8sQ0FBQ0MsYUFBYSxHQUFHO0lBQ3BDLE9BQU8sSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFBRWxDLFdBQVc7SUFBSztBQUNyQztBQUVBLDBDQUEwQztBQUMxQzVDLGNBQWM0RSxPQUFPLENBQUNHLFlBQVksR0FBRztJQUNuQyxPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDO1FBQUVsQyxXQUFXO1FBQU1FLFVBQVU7SUFBSztBQUNyRDtBQUVBLG9DQUFvQztBQUNwQzlDLGNBQWM0RSxPQUFPLENBQUNJLGNBQWMsR0FBRyxTQUFTbkQsUUFBUTtJQUN0RCxPQUFPLElBQUksQ0FBQ2lELElBQUksQ0FBQztRQUFFbEMsV0FBVztRQUFNZjtJQUFTO0FBQy9DO0FBRUEsbUNBQW1DO0FBQ25DN0IsY0FBYzRFLE9BQU8sQ0FBQ0ssTUFBTSxHQUFHLFNBQVNDLEtBQUs7SUFDM0MsT0FBTyxJQUFJLENBQUNKLElBQUksQ0FBQztRQUNmbEMsV0FBVztRQUNYdUMsS0FBSztZQUNIO2dCQUFFakYsT0FBTztvQkFBRWtGLFFBQVFGO29CQUFPRyxVQUFVO2dCQUFJO1lBQUU7WUFDMUM7Z0JBQUV6RSxhQUFhO29CQUFFd0UsUUFBUUY7b0JBQU9HLFVBQVU7Z0JBQUk7WUFBRTtZQUNoRDtnQkFBRXpELE1BQU07b0JBQUUwRCxLQUFLO3dCQUFDLElBQUlDLE9BQU9MLE9BQU87cUJBQUs7Z0JBQUM7WUFBRTtTQUMzQztJQUNIO0FBQ0Y7QUFFQSx1REFBdUQ7QUFDdkRsRixjQUFjd0YsR0FBRyxDQUFDLFFBQVEsU0FBU0MsSUFBSTtJQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDakYsSUFBSSxJQUFJLElBQUksQ0FBQ04sS0FBSyxFQUFFO1FBQzVCLElBQUksQ0FBQ00sSUFBSSxHQUFHLElBQUksQ0FBQ04sS0FBSyxDQUNuQndGLFdBQVcsR0FDWEMsT0FBTyxDQUFDLGlCQUFpQixJQUN6QkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJBLE9BQU8sQ0FBQyxPQUFPLEtBQ2ZyRixJQUFJLENBQUM7SUFDVjtJQUNBbUY7QUFDRjtBQUVBLGlDQUFpQztBQUNqQ3pGLGNBQWM2RCxHQUFHLENBQUMsVUFBVTtJQUMxQkMsVUFBVTtJQUNWQyxXQUFXLFNBQVNDLEdBQUcsRUFBRUMsR0FBRztRQUMxQixPQUFPQSxJQUFJQyxHQUFHO1FBQ2QsT0FBT0Q7SUFDVDtBQUNGO0FBRUEsaUVBQWVsRSx3REFBZSxDQUFDOEYsT0FBTyxJQUFJOUYscURBQWMsQ0FBQyxXQUFXQyxjQUFjQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL21vZGVscy9Qcm9kdWN0LmpzPzA5YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgcHJvZHVjdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICB0aXRsZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdQcm9kdWN0IHRpdGxlIGlzIHJlcXVpcmVkJ10sXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXhsZW5ndGg6IFsxMDAsICdUaXRsZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDEwMCBjaGFyYWN0ZXJzJ10sXG4gIH0sXG4gIHNsdWc6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJvZHVjdCBzbHVnIGlzIHJlcXVpcmVkJ10sXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICAgIG1hdGNoOiBbL15bYS16MC05LV0rJC8sICdTbHVnIGNhbiBvbmx5IGNvbnRhaW4gbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIGFuZCBoeXBoZW5zJ10sXG4gIH0sXG4gIGRlc2NyaXB0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1Byb2R1Y3QgZGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnXSxcbiAgICBtYXhsZW5ndGg6IFsyMDAwLCAnRGVzY3JpcHRpb24gY2Fubm90IGJlIG1vcmUgdGhhbiAyMDAwIGNoYXJhY3RlcnMnXSxcbiAgfSxcbiAgc2hvcnREZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXhsZW5ndGg6IFsyMDAsICdTaG9ydCBkZXNjcmlwdGlvbiBjYW5ub3QgYmUgbW9yZSB0aGFuIDIwMCBjaGFyYWN0ZXJzJ10sXG4gIH0sXG4gIGltYWdlczogW3tcbiAgICB1cmw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgYWx0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHB1YmxpY0lkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICB9XSxcbiAgcHJpY2U6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnUHJvZHVjdCBwcmljZSBpcyByZXF1aXJlZCddLFxuICAgIG1pbjogWzAsICdQcmljZSBjYW5ub3QgYmUgbmVnYXRpdmUnXSxcbiAgfSxcbiAgLy8gRGlzY291bnQgcGVyY2VudGFnZSAoMC0xMDApXG4gIGRpc2NvdW50OiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIG1pbjogWzAsICdEaXNjb3VudCBjYW5ub3QgYmUgbmVnYXRpdmUnXSxcbiAgICBtYXg6IFsxMDAsICdEaXNjb3VudCBjYW5ub3QgYmUgbW9yZSB0aGFuIDEwMCUnXSxcbiAgICBkZWZhdWx0OiAwLFxuICB9LFxuICBjb21wYXJlUHJpY2U6IHtcbiAgICB0eXBlOiBOdW1iZXIsXG4gICAgbWluOiBbMCwgJ0NvbXBhcmUgcHJpY2UgY2Fubm90IGJlIG5lZ2F0aXZlJ10sXG4gIH0sXG4gIHN0b2NrOiB7XG4gICAgdHlwZTogTnVtYmVyLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1N0b2NrIHF1YW50aXR5IGlzIHJlcXVpcmVkJ10sXG4gICAgbWluOiBbMCwgJ1N0b2NrIGNhbm5vdCBiZSBuZWdhdGl2ZSddLFxuICAgIGRlZmF1bHQ6IDEwLFxuICB9LFxuICBza3U6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIHNwYXJzZTogdHJ1ZSxcbiAgICB0cmltOiB0cnVlLFxuICB9LFxuICB0YWdzOiBbe1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICB0cmltOiB0cnVlLFxuICAgIGxvd2VyY2FzZTogdHJ1ZSxcbiAgfV0sXG4gIGNhdGVnb3J5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiBbdHJ1ZSwgJ1Byb2R1Y3QgY2F0ZWdvcnkgaXMgcmVxdWlyZWQnXSxcbiAgICBlbnVtOiBbXG4gICAgICAnYmFuZ2xlLWJveCcsXG4gICAgICAnY2x1dGNoJyxcbiAgICAgICdnaWZ0LWhhbXBlcnMnLFxuICAgICAgJ2dvZ2dsZS1jb3ZlcicsXG4gICAgICAna2l0dHktYmFnJyxcbiAgICAgICdsb25nLXRvdGUtYmFnJyxcbiAgICAgICdwaWNuaWMtYmFnJyxcbiAgICAgICdwb3RsaS1wdXJzZScsXG4gICAgICAnc2xpbmctYmFncycsXG4gICAgICAndmVsdmV0LWNsdXRjaC13aXRoLWZsYXBzJ1xuICAgIF0sXG4gIH0sXG4gIHN1YmNhdGVnb3J5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHRyaW06IHRydWUsXG4gIH0sXG4gIG1hdGVyaWFsczogW3tcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdHJpbTogdHJ1ZSxcbiAgfV0sXG4gIGRpbWVuc2lvbnM6IHtcbiAgICBsZW5ndGg6IE51bWJlcixcbiAgICB3aWR0aDogTnVtYmVyLFxuICAgIGhlaWdodDogTnVtYmVyLFxuICAgIHVuaXQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGVudW06IFsnY20nLCAnaW5jaGVzJ10sXG4gICAgICBkZWZhdWx0OiAnY20nLFxuICAgIH0sXG4gIH0sXG4gIHdlaWdodDoge1xuICAgIHZhbHVlOiBOdW1iZXIsXG4gICAgdW5pdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZW51bTogWydnJywgJ2tnJywgJ2xicyddLFxuICAgICAgZGVmYXVsdDogJ2cnLFxuICAgIH0sXG4gIH0sXG4gIGNvbG9yczogW3tcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgaGV4OiBTdHJpbmcsXG4gIH1dLFxuICBjb2xvclZhcmlhbnRzOiBbe1xuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9LFxuICAgIGhleDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICBtYXRjaDogWy9eI1swLTlBLUZhLWZdezZ9JC8sICdIZXggY29sb3IgbXVzdCBiZSBpbiBmb3JtYXQgI1JSR0dCQiddLFxuICAgIH0sXG4gICAgaW1hZ2VzOiBbe1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgdHJpbTogdHJ1ZSxcbiAgICB9XSxcbiAgfV0sXG4gIHB1Ymxpc2hlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgfSxcbiAgZmVhdHVyZWQ6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IGZhbHNlLFxuICB9LFxuICBzZW86IHtcbiAgICBtZXRhVGl0bGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIG1heGxlbmd0aDogWzYwLCAnTWV0YSB0aXRsZSBjYW5ub3QgYmUgbW9yZSB0aGFuIDYwIGNoYXJhY3RlcnMnXSxcbiAgICB9LFxuICAgIG1ldGFEZXNjcmlwdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgbWF4bGVuZ3RoOiBbMTYwLCAnTWV0YSBkZXNjcmlwdGlvbiBjYW5ub3QgYmUgbW9yZSB0aGFuIDE2MCBjaGFyYWN0ZXJzJ10sXG4gICAgfSxcbiAgICBrZXl3b3JkczogW1N0cmluZ10sXG4gIH0sXG4gIHJhdGluZ3M6IHtcbiAgICBhdmVyYWdlOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgbWluOiAwLFxuICAgICAgbWF4OiA1LFxuICAgIH0sXG4gICAgY291bnQ6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICBtaW46IDAsXG4gICAgfSxcbiAgfSxcbiAgc2FsZXNDb3VudDoge1xuICAgIHR5cGU6IE51bWJlcixcbiAgICBkZWZhdWx0OiAwLFxuICAgIG1pbjogMCxcbiAgfSxcbiAgaXNIYW5kbWFkZToge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZSxcbiAgfSxcbiAgbWFkZUluOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6ICdJbmRpYScsXG4gIH0sXG4gIGNhcmVJbnN0cnVjdGlvbnM6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgbWF4bGVuZ3RoOiBbNTAwLCAnQ2FyZSBpbnN0cnVjdGlvbnMgY2Fubm90IGJlIG1vcmUgdGhhbiA1MDAgY2hhcmFjdGVycyddLFxuICB9LFxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbi8vIEluZGV4ZXMgZm9yIGVmZmljaWVudCBxdWVyaWVzXG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgc2x1ZzogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBjYXRlZ29yeTogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyB0YWdzOiAxIH0pO1xucHJvZHVjdFNjaGVtYS5pbmRleCh7IHB1Ymxpc2hlZDogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyBmZWF0dXJlZDogMSB9KTtcbnByb2R1Y3RTY2hlbWEuaW5kZXgoeyAncmF0aW5ncy5hdmVyYWdlJzogLTEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgc2FsZXNDb3VudDogLTEgfSk7XG5wcm9kdWN0U2NoZW1hLmluZGV4KHsgY3JlYXRlZEF0OiAtMSB9KTtcbnByb2R1Y3RTY2hlbWEuc2V0KCd0b0pTT04nLCB7XG4gIHZpcnR1YWxzOiB0cnVlLFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uIChkb2MsIHJldCkge1xuICAgIGRlbGV0ZSByZXQuX192O1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG59KTtcblxuXG4vLyBWaXJ0dWFsIGZvciBkaXNjb3VudCBwZXJjZW50YWdlXG5wcm9kdWN0U2NoZW1hLnZpcnR1YWwoJ2Rpc2NvdW50UGVyY2VudGFnZScpLmdldChmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuY29tcGFyZVByaWNlICYmIHRoaXMuY29tcGFyZVByaWNlID4gdGhpcy5wcmljZSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKCgodGhpcy5jb21wYXJlUHJpY2UgLSB0aGlzLnByaWNlKSAvIHRoaXMuY29tcGFyZVByaWNlKSAqIDEwMCk7XG4gIH1cbiAgcmV0dXJuIDA7XG59KTtcblxuLy8gVmlydHVhbCBmb3IgaW4gc3RvY2sgc3RhdHVzXG5wcm9kdWN0U2NoZW1hLnZpcnR1YWwoJ2luU3RvY2snKS5nZXQoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zdG9jayA+IDA7XG59KTtcblxuXG4vLyBWaXJ0dWFsIGZvciBtYWluIGltYWdlXG5wcm9kdWN0U2NoZW1hLnZpcnR1YWwoJ21haW5JbWFnZScpLmdldChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW1hZ2VzLmxlbmd0aCA+IDAgPyB0aGlzLmltYWdlc1swXSA6IG51bGw7XG59KTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIHVwZGF0ZSBzdG9ja1xucHJvZHVjdFNjaGVtYS5tZXRob2RzLnVwZGF0ZVN0b2NrID0gZnVuY3Rpb24ocXVhbnRpdHkpIHtcbiAgdGhpcy5zdG9jayA9IE1hdGgubWF4KDAsIHRoaXMuc3RvY2sgLSBxdWFudGl0eSk7XG4gIHJldHVybiB0aGlzLnNhdmUoKTtcbn07XG5cbi8vIEluc3RhbmNlIG1ldGhvZCB0byBpbmNyZW1lbnQgc2FsZXMgY291bnRcbnByb2R1Y3RTY2hlbWEubWV0aG9kcy5pbmNyZW1lbnRTYWxlcyA9IGZ1bmN0aW9uKHF1YW50aXR5ID0gMSkge1xuICB0aGlzLnNhbGVzQ291bnQgKz0gcXVhbnRpdHk7XG4gIHJldHVybiB0aGlzLnNhdmUoKTtcbn07XG5cbi8vIFN0YXRpYyBtZXRob2QgdG8gZmluZCBwdWJsaXNoZWQgcHJvZHVjdHNcbnByb2R1Y3RTY2hlbWEuc3RhdGljcy5maW5kUHVibGlzaGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBwdWJsaXNoZWQ6IHRydWUgfSk7XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGZpbmQgZmVhdHVyZWQgcHJvZHVjdHNcbnByb2R1Y3RTY2hlbWEuc3RhdGljcy5maW5kRmVhdHVyZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmluZCh7IHB1Ymxpc2hlZDogdHJ1ZSwgZmVhdHVyZWQ6IHRydWUgfSk7XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kIHRvIGZpbmQgYnkgY2F0ZWdvcnlcbnByb2R1Y3RTY2hlbWEuc3RhdGljcy5maW5kQnlDYXRlZ29yeSA9IGZ1bmN0aW9uKGNhdGVnb3J5KSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBwdWJsaXNoZWQ6IHRydWUsIGNhdGVnb3J5IH0pO1xufTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBzZWFyY2ggcHJvZHVjdHNcbnByb2R1Y3RTY2hlbWEuc3RhdGljcy5zZWFyY2ggPSBmdW5jdGlvbihxdWVyeSkge1xuICByZXR1cm4gdGhpcy5maW5kKHtcbiAgICBwdWJsaXNoZWQ6IHRydWUsXG4gICAgJG9yOiBbXG4gICAgICB7IHRpdGxlOiB7ICRyZWdleDogcXVlcnksICRvcHRpb25zOiAnaScgfSB9LFxuICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHF1ZXJ5LCAkb3B0aW9uczogJ2knIH0gfSxcbiAgICAgIHsgdGFnczogeyAkaW46IFtuZXcgUmVnRXhwKHF1ZXJ5LCAnaScpXSB9IH0sXG4gICAgXSxcbiAgfSk7XG59O1xuXG4vLyBQcmUtc2F2ZSBtaWRkbGV3YXJlIHRvIGdlbmVyYXRlIHNsdWcgaWYgbm90IHByb3ZpZGVkXG5wcm9kdWN0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgaWYgKCF0aGlzLnNsdWcgJiYgdGhpcy50aXRsZSkge1xuICAgIHRoaXMuc2x1ZyA9IHRoaXMudGl0bGVcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTlcXHMtXS9nLCAnJylcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcbiAgICAgIC5yZXBsYWNlKC8tKy9nLCAnLScpXG4gICAgICAudHJpbSgnLScpO1xuICB9XG4gIG5leHQoKTtcbn0pO1xuXG4vLyBFbnN1cmUgdmlydHVhbHMgYXJlIHNlcmlhbGl6ZWRcbnByb2R1Y3RTY2hlbWEuc2V0KCd0b0pTT04nLCB7XG4gIHZpcnR1YWxzOiB0cnVlLFxuICB0cmFuc2Zvcm06IGZ1bmN0aW9uKGRvYywgcmV0KSB7XG4gICAgZGVsZXRlIHJldC5fX3Y7XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUHJvZHVjdCB8fCBtb25nb29zZS5tb2RlbCgnUHJvZHVjdCcsIHByb2R1Y3RTY2hlbWEpO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicHJvZHVjdFNjaGVtYSIsIlNjaGVtYSIsInRpdGxlIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1heGxlbmd0aCIsInNsdWciLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJtYXRjaCIsImRlc2NyaXB0aW9uIiwic2hvcnREZXNjcmlwdGlvbiIsImltYWdlcyIsInVybCIsImFsdCIsInB1YmxpY0lkIiwicHJpY2UiLCJOdW1iZXIiLCJtaW4iLCJkaXNjb3VudCIsIm1heCIsImRlZmF1bHQiLCJjb21wYXJlUHJpY2UiLCJzdG9jayIsInNrdSIsInNwYXJzZSIsInRhZ3MiLCJjYXRlZ29yeSIsImVudW0iLCJzdWJjYXRlZ29yeSIsIm1hdGVyaWFscyIsImRpbWVuc2lvbnMiLCJsZW5ndGgiLCJ3aWR0aCIsImhlaWdodCIsInVuaXQiLCJ3ZWlnaHQiLCJ2YWx1ZSIsImNvbG9ycyIsIm5hbWUiLCJoZXgiLCJjb2xvclZhcmlhbnRzIiwicHVibGlzaGVkIiwiQm9vbGVhbiIsImZlYXR1cmVkIiwic2VvIiwibWV0YVRpdGxlIiwibWV0YURlc2NyaXB0aW9uIiwia2V5d29yZHMiLCJyYXRpbmdzIiwiYXZlcmFnZSIsImNvdW50Iiwic2FsZXNDb3VudCIsImlzSGFuZG1hZGUiLCJtYWRlSW4iLCJjYXJlSW5zdHJ1Y3Rpb25zIiwidGltZXN0YW1wcyIsImluZGV4IiwiY3JlYXRlZEF0Iiwic2V0IiwidmlydHVhbHMiLCJ0cmFuc2Zvcm0iLCJkb2MiLCJyZXQiLCJfX3YiLCJ2aXJ0dWFsIiwiZ2V0IiwiTWF0aCIsInJvdW5kIiwibWV0aG9kcyIsInVwZGF0ZVN0b2NrIiwicXVhbnRpdHkiLCJzYXZlIiwiaW5jcmVtZW50U2FsZXMiLCJzdGF0aWNzIiwiZmluZFB1Ymxpc2hlZCIsImZpbmQiLCJmaW5kRmVhdHVyZWQiLCJmaW5kQnlDYXRlZ29yeSIsInNlYXJjaCIsInF1ZXJ5IiwiJG9yIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCIkaW4iLCJSZWdFeHAiLCJwcmUiLCJuZXh0IiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwibW9kZWxzIiwiUHJvZHVjdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/Product.js\n");

/***/ }),

/***/ "(rsc)/./models/TagDiscount.js":
/*!*******************************!*\
  !*** ./models/TagDiscount.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst tagDiscountSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    tag: {\n        type: String,\n        required: true,\n        lowercase: true,\n        trim: true,\n        index: true\n    },\n    percent: {\n        type: Number,\n        required: true,\n        min: 0,\n        max: 100\n    },\n    active: {\n        type: Boolean,\n        default: true\n    },\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\"\n    }\n}, {\n    timestamps: true,\n    toJSON: {\n        transform: function(doc, ret) {\n            delete ret.__v;\n            return ret;\n        }\n    }\n});\ntagDiscountSchema.index({\n    tag: 1\n}, {\n    unique: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).TagDiscount || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"TagDiscount\", tagDiscountSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvVGFnRGlzY291bnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLG9CQUFvQixJQUFJRCx3REFBZSxDQUMzQztJQUNFRyxLQUFLO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7UUFBTUMsV0FBVztRQUFNQyxNQUFNO1FBQU1DLE9BQU87SUFBSztJQUM5RUMsU0FBUztRQUFFTixNQUFNTztRQUFRTCxVQUFVO1FBQU1NLEtBQUs7UUFBR0MsS0FBSztJQUFJO0lBQzFEQyxRQUFRO1FBQUVWLE1BQU1XO1FBQVNDLFNBQVM7SUFBSztJQUN2Q0MsV0FBVztRQUFFYixNQUFNSix3REFBZSxDQUFDa0IsS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7SUFBTztBQUNqRSxHQUNBO0lBQ0VDLFlBQVk7SUFDWkMsUUFBUTtRQUNOQyxXQUFXLFNBQVVDLEdBQUcsRUFBRUMsR0FBRztZQUMzQixPQUFPQSxJQUFJQyxHQUFHO1lBQ2QsT0FBT0Q7UUFDVDtJQUNGO0FBQ0Y7QUFHRnhCLGtCQUFrQlEsS0FBSyxDQUFDO0lBQUVOLEtBQUs7QUFBRSxHQUFHO0lBQUV3QixRQUFRO0FBQUs7QUFFbkQsaUVBQWUzQix3REFBZSxDQUFDNkIsV0FBVyxJQUFJN0IscURBQWMsQ0FBQyxlQUFlQyxrQkFBa0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLy4vbW9kZWxzL1RhZ0Rpc2NvdW50LmpzPzZiNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IHRhZ0Rpc2NvdW50U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICB0YWc6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgbG93ZXJjYXNlOiB0cnVlLCB0cmltOiB0cnVlLCBpbmRleDogdHJ1ZSB9LFxyXG4gICAgcGVyY2VudDogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBtaW46IDAsIG1heDogMTAwIH0sXHJcbiAgICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgY3JlYXRlZEJ5OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnVXNlcicgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB0b0pTT046IHtcclxuICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZG9jLCByZXQpIHtcclxuICAgICAgICBkZWxldGUgcmV0Ll9fdjtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9XHJcbik7XHJcblxyXG50YWdEaXNjb3VudFNjaGVtYS5pbmRleCh7IHRhZzogMSB9LCB7IHVuaXF1ZTogdHJ1ZSB9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5UYWdEaXNjb3VudCB8fCBtb25nb29zZS5tb2RlbCgnVGFnRGlzY291bnQnLCB0YWdEaXNjb3VudFNjaGVtYSk7XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwidGFnRGlzY291bnRTY2hlbWEiLCJTY2hlbWEiLCJ0YWciLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJsb3dlcmNhc2UiLCJ0cmltIiwiaW5kZXgiLCJwZXJjZW50IiwiTnVtYmVyIiwibWluIiwibWF4IiwiYWN0aXZlIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJjcmVhdGVkQnkiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwidGltZXN0YW1wcyIsInRvSlNPTiIsInRyYW5zZm9ybSIsImRvYyIsInJldCIsIl9fdiIsInVuaXF1ZSIsIm1vZGVscyIsIlRhZ0Rpc2NvdW50IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/TagDiscount.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/socket.io-parser","vendor-chunks/engine.io-parser","vendor-chunks/supports-color","vendor-chunks/@socket.io","vendor-chunks/ms","vendor-chunks/has-flag","vendor-chunks/cookie","vendor-chunks/engine.io","vendor-chunks/socket.io-adapter","vendor-chunks/mime-db","vendor-chunks/socket.io","vendor-chunks/negotiator","vendor-chunks/cors","vendor-chunks/accepts","vendor-chunks/mime-types","vendor-chunks/vary","vendor-chunks/base64id","vendor-chunks/object-assign"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();