"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/announcements/announcement/route";
exports.ids = ["app/api/announcements/announcement/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fannouncements%2Fannouncement%2Froute&page=%2Fapi%2Fannouncements%2Fannouncement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fannouncements%2Fannouncement%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fannouncements%2Fannouncement%2Froute&page=%2Fapi%2Fannouncements%2Fannouncement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fannouncements%2Fannouncement%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_announcements_announcement_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/announcements/announcement/route.js */ \"(rsc)/./app/api/announcements/announcement/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/announcements/announcement/route\",\n        pathname: \"/api/announcements/announcement\",\n        filename: \"route\",\n        bundlePath: \"app/api/announcements/announcement/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Ananya\\\\Downloads\\\\Nirvaanaa_current\\\\Nirvaanaa (1)\\\\Nirvaanaa\\\\app\\\\api\\\\announcements\\\\announcement\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_Ananya_Downloads_Nirvaanaa_current_Nirvaanaa_1_Nirvaanaa_app_api_announcements_announcement_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/announcements/announcement/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbm5vdW5jZW1lbnRzJTJGYW5ub3VuY2VtZW50JTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbm5vdW5jZW1lbnRzJTJGYW5ub3VuY2VtZW50JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5ub3VuY2VtZW50cyUyRmFubm91bmNlbWVudCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNBbmFueWElNUNEb3dubG9hZHMlNUNOaXJ2YWFuYWFfY3VycmVudCU1Q05pcnZhYW5hYSUyMCgxKSU1Q05pcnZhYW5hYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQW5hbnlhJTVDRG93bmxvYWRzJTVDTmlydmFhbmFhX2N1cnJlbnQlNUNOaXJ2YWFuYWElMjAoMSklNUNOaXJ2YWFuYWEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDMEU7QUFDdko7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLz9kYjQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEFuYW55YVxcXFxEb3dubG9hZHNcXFxcTmlydmFhbmFhX2N1cnJlbnRcXFxcTmlydmFhbmFhICgxKVxcXFxOaXJ2YWFuYWFcXFxcYXBwXFxcXGFwaVxcXFxhbm5vdW5jZW1lbnRzXFxcXGFubm91bmNlbWVudFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5ub3VuY2VtZW50cy9hbm5vdW5jZW1lbnQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbm5vdW5jZW1lbnRzL2Fubm91bmNlbWVudFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5ub3VuY2VtZW50cy9hbm5vdW5jZW1lbnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxBbmFueWFcXFxcRG93bmxvYWRzXFxcXE5pcnZhYW5hYV9jdXJyZW50XFxcXE5pcnZhYW5hYSAoMSlcXFxcTmlydmFhbmFhXFxcXGFwcFxcXFxhcGlcXFxcYW5ub3VuY2VtZW50c1xcXFxhbm5vdW5jZW1lbnRcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5ub3VuY2VtZW50cy9hbm5vdW5jZW1lbnQvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fannouncements%2Fannouncement%2Froute&page=%2Fapi%2Fannouncements%2Fannouncement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fannouncements%2Fannouncement%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/announcements/announcement/route.js":
/*!*****************************************************!*\
  !*** ./app/api/announcements/announcement/route.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var _models_Announcement_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/models/Announcement.js */ \"(rsc)/./models/Announcement.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.js\");\n\n\n\n\n\nasync function GET() {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const banner = await _models_Announcement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findAnnouncementBanner();\n        if (!banner || !banner.isAnnouncementActive) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"No active banner found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            banner\n        }, {\n            status: 200\n        });\n    } catch (err) {\n        console.error(\"GET banner error:\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed to fetch banner\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const body = await req.json();\n        const { id } = body || {};\n        if (!id) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n                error: \"Invalid request body\"\n            }, {\n                status: 400\n            });\n        }\n        // Build flexible update allowing optional fields; only set provided fields\n        const update = {};\n        if (typeof body.isAnnouncementActive === \"boolean\") update.isAnnouncementActive = body.isAnnouncementActive;\n        if (typeof body.backgroundColor === \"string\") update.backgroundColor = body.backgroundColor;\n        if (typeof body.image === \"string\") update.image = body.image;\n        if (typeof body.priority === \"number\") update.priority = body.priority;\n        if (typeof body.link === \"object\" && body.link) update.link = body.link;\n        if (body.startDate) update.startDate = new Date(body.startDate);\n        if (body.endDate) update.endDate = new Date(body.endDate);\n        const banner = await _models_Announcement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByIdAndUpdate(id, update, {\n            new: true\n        });\n        if (!banner) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Banner not found\"\n        }, {\n            status: 404\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            banner\n        }, {\n            status: 200\n        });\n    } catch (err) {\n        console.error(\"PUT banner error:\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed to update banner\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(req) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_3__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_4__.authOptions);\n        if (!session?.user) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Unauthorized\"\n        }, {\n            status: 401\n        });\n        const body = await req.json();\n        const { image, backgroundColor, link, priority, startDate, endDate } = body || {};\n        if (!image) return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Image is required\"\n        }, {\n            status: 400\n        });\n        const created = await _models_Announcement_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            type: \"announcement\",\n            image: typeof image === \"string\" ? image : undefined,\n            backgroundColor: typeof backgroundColor === \"string\" ? backgroundColor : undefined,\n            link: typeof link === \"object\" && link ? link : undefined,\n            priority: typeof priority === \"number\" ? priority : undefined,\n            startDate: startDate ? new Date(startDate) : undefined,\n            endDate: endDate ? new Date(endDate) : undefined,\n            createdBy: session.user.id,\n            isAnnouncementActive: typeof body.isAnnouncementActive === \"boolean\" ? body.isAnnouncementActive : false\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            banner: created\n        }, {\n            status: 201\n        });\n    } catch (err) {\n        console.error(\"POST announcement error:\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_2__[\"default\"].json({\n            error: \"Failed to create banner\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50L3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNkO0FBQ0s7QUFDRTtBQUNKO0FBRWxDLGVBQWVLO0lBQ3BCLElBQUk7UUFDRixNQUFNSix3REFBU0E7UUFDZixNQUFNSyxTQUFTLE1BQU1OLCtEQUFZQSxDQUFDTyxzQkFBc0I7UUFDeEQsSUFBSSxDQUFDRCxVQUFVLENBQUNBLE9BQU9FLG9CQUFvQixFQUFFO1lBQzNDLE9BQU9OLGtGQUFZQSxDQUFDTyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBeUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzlFO1FBQ0EsT0FBT1Qsa0ZBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFSDtRQUFPLEdBQUc7WUFBRUssUUFBUTtRQUFJO0lBQ3JELEVBQUUsT0FBT0MsS0FBSztRQUNaQyxRQUFRSCxLQUFLLENBQUMscUJBQXFCRTtRQUNuQyxPQUFPVixrRkFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBeUIsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDOUU7QUFDRjtBQUVPLGVBQWVHLElBQUlDLEdBQUc7SUFDM0IsSUFBSTtRQUNGLE1BQU1kLHdEQUFTQTtRQUNmLE1BQU1lLE9BQU8sTUFBTUQsSUFBSU4sSUFBSTtRQUMzQixNQUFNLEVBQUVRLEVBQUUsRUFBRSxHQUFHRCxRQUFRLENBQUM7UUFDeEIsSUFBSSxDQUFDQyxJQUFJO1lBQ1AsT0FBT2Ysa0ZBQVlBLENBQUNPLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUF1QixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDNUU7UUFFQSwyRUFBMkU7UUFDM0UsTUFBTU8sU0FBUyxDQUFDO1FBQ2hCLElBQUksT0FBT0YsS0FBS1Isb0JBQW9CLEtBQUssV0FBV1UsT0FBT1Ysb0JBQW9CLEdBQUdRLEtBQUtSLG9CQUFvQjtRQUUzRyxJQUFJLE9BQU9RLEtBQUtHLGVBQWUsS0FBSyxVQUFVRCxPQUFPQyxlQUFlLEdBQUdILEtBQUtHLGVBQWU7UUFFM0YsSUFBSSxPQUFPSCxLQUFLSSxLQUFLLEtBQUssVUFBVUYsT0FBT0UsS0FBSyxHQUFHSixLQUFLSSxLQUFLO1FBQzdELElBQUksT0FBT0osS0FBS0ssUUFBUSxLQUFLLFVBQVVILE9BQU9HLFFBQVEsR0FBR0wsS0FBS0ssUUFBUTtRQUN0RSxJQUFJLE9BQU9MLEtBQUtNLElBQUksS0FBSyxZQUFZTixLQUFLTSxJQUFJLEVBQUVKLE9BQU9JLElBQUksR0FBR04sS0FBS00sSUFBSTtRQUN2RSxJQUFJTixLQUFLTyxTQUFTLEVBQUVMLE9BQU9LLFNBQVMsR0FBRyxJQUFJQyxLQUFLUixLQUFLTyxTQUFTO1FBQzlELElBQUlQLEtBQUtTLE9BQU8sRUFBRVAsT0FBT08sT0FBTyxHQUFHLElBQUlELEtBQUtSLEtBQUtTLE9BQU87UUFFeEQsTUFBTW5CLFNBQVMsTUFBTU4sK0RBQVlBLENBQUMwQixpQkFBaUIsQ0FBQ1QsSUFBSUMsUUFBUTtZQUFFUyxLQUFLO1FBQUs7UUFDNUUsSUFBSSxDQUFDckIsUUFBUSxPQUFPSixrRkFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBbUIsR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFDbkYsT0FBT1Qsa0ZBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFSDtRQUFPLEdBQUc7WUFBRUssUUFBUTtRQUFJO0lBQ3JELEVBQUUsT0FBT0MsS0FBSztRQUNaQyxRQUFRSCxLQUFLLENBQUMscUJBQXFCRTtRQUNuQyxPQUFPVixrRkFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBMEIsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDL0U7QUFDRjtBQUVPLGVBQWVpQixLQUFLYixHQUFHO0lBQzVCLElBQUk7UUFDRixNQUFNZCx3REFBU0E7UUFDZixNQUFNNEIsVUFBVSxNQUFNMUIsMkRBQWdCQSxDQUFDQyxrREFBV0E7UUFDbEQsSUFBSSxDQUFDeUIsU0FBU0MsTUFBTSxPQUFPNUIsa0ZBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWUsR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFFdEYsTUFBTUssT0FBTyxNQUFNRCxJQUFJTixJQUFJO1FBQzNCLE1BQU0sRUFBRVcsS0FBSyxFQUFFRCxlQUFlLEVBQUVHLElBQUksRUFBRUQsUUFBUSxFQUFFRSxTQUFTLEVBQUVFLE9BQU8sRUFBRSxHQUFHVCxRQUFRLENBQUM7UUFDaEYsSUFBSSxDQUFDSSxPQUFPLE9BQU9sQixrRkFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBb0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFFbkYsTUFBTW9CLFVBQVUsTUFBTS9CLCtEQUFZQSxDQUFDZ0MsTUFBTSxDQUFDO1lBQ3hDQyxNQUFNO1lBRU5iLE9BQU8sT0FBT0EsVUFBVSxXQUFXQSxRQUFRYztZQUMzQ2YsaUJBQWlCLE9BQU9BLG9CQUFvQixXQUFXQSxrQkFBa0JlO1lBRXpFWixNQUFNLE9BQU9BLFNBQVMsWUFBWUEsT0FBT0EsT0FBT1k7WUFDaERiLFVBQVUsT0FBT0EsYUFBYSxXQUFXQSxXQUFXYTtZQUNwRFgsV0FBV0EsWUFBWSxJQUFJQyxLQUFLRCxhQUFhVztZQUM3Q1QsU0FBU0EsVUFBVSxJQUFJRCxLQUFLQyxXQUFXUztZQUN2Q0MsV0FBV04sUUFBUUMsSUFBSSxDQUFDYixFQUFFO1lBQzFCVCxzQkFBc0IsT0FBT1EsS0FBS1Isb0JBQW9CLEtBQUssWUFBWVEsS0FBS1Isb0JBQW9CLEdBQUc7UUFDckc7UUFFQSxPQUFPTixrRkFBWUEsQ0FBQ08sSUFBSSxDQUFDO1lBQUVILFFBQVF5QjtRQUFRLEdBQUc7WUFBRXBCLFFBQVE7UUFBSTtJQUM5RCxFQUFFLE9BQU9DLEtBQUs7UUFDWkMsUUFBUUgsS0FBSyxDQUFDLDRCQUE0QkU7UUFDMUMsT0FBT1Ysa0ZBQVlBLENBQUNPLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTBCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQy9FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uaXJ2YWFuYWEtZWNvbW1lcmNlLy4vYXBwL2FwaS9hbm5vdW5jZW1lbnRzL2Fubm91bmNlbWVudC9yb3V0ZS5qcz80NzgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBbm5vdW5jZW1lbnQgZnJvbSAnQC9tb2RlbHMvQW5ub3VuY2VtZW50LmpzJztcclxuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICdAL2xpYi9tb25nb2RiJztcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgY29uc3QgYmFubmVyID0gYXdhaXQgQW5ub3VuY2VtZW50LmZpbmRBbm5vdW5jZW1lbnRCYW5uZXIoKTtcclxuICAgIGlmICghYmFubmVyIHx8ICFiYW5uZXIuaXNBbm5vdW5jZW1lbnRBY3RpdmUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdObyBhY3RpdmUgYmFubmVyIGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgYmFubmVyIH0sIHsgc3RhdHVzOiAyMDAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdHRVQgYmFubmVyIGVycm9yOicsIGVycik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBiYW5uZXInIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcSkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgY29uc3QgeyBpZCB9ID0gYm9keSB8fCB7fTtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHJlcXVlc3QgYm9keScgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBCdWlsZCBmbGV4aWJsZSB1cGRhdGUgYWxsb3dpbmcgb3B0aW9uYWwgZmllbGRzOyBvbmx5IHNldCBwcm92aWRlZCBmaWVsZHNcclxuICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xyXG4gICAgaWYgKHR5cGVvZiBib2R5LmlzQW5ub3VuY2VtZW50QWN0aXZlID09PSAnYm9vbGVhbicpIHVwZGF0ZS5pc0Fubm91bmNlbWVudEFjdGl2ZSA9IGJvZHkuaXNBbm5vdW5jZW1lbnRBY3RpdmU7XHJcbiAgICBcclxuICAgIGlmICh0eXBlb2YgYm9keS5iYWNrZ3JvdW5kQ29sb3IgPT09ICdzdHJpbmcnKSB1cGRhdGUuYmFja2dyb3VuZENvbG9yID0gYm9keS5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICBcclxuICAgIGlmICh0eXBlb2YgYm9keS5pbWFnZSA9PT0gJ3N0cmluZycpIHVwZGF0ZS5pbWFnZSA9IGJvZHkuaW1hZ2U7XHJcbiAgICBpZiAodHlwZW9mIGJvZHkucHJpb3JpdHkgPT09ICdudW1iZXInKSB1cGRhdGUucHJpb3JpdHkgPSBib2R5LnByaW9yaXR5O1xyXG4gICAgaWYgKHR5cGVvZiBib2R5LmxpbmsgPT09ICdvYmplY3QnICYmIGJvZHkubGluaykgdXBkYXRlLmxpbmsgPSBib2R5Lmxpbms7XHJcbiAgICBpZiAoYm9keS5zdGFydERhdGUpIHVwZGF0ZS5zdGFydERhdGUgPSBuZXcgRGF0ZShib2R5LnN0YXJ0RGF0ZSk7XHJcbiAgICBpZiAoYm9keS5lbmREYXRlKSB1cGRhdGUuZW5kRGF0ZSA9IG5ldyBEYXRlKGJvZHkuZW5kRGF0ZSk7XHJcblxyXG4gICAgY29uc3QgYmFubmVyID0gYXdhaXQgQW5ub3VuY2VtZW50LmZpbmRCeUlkQW5kVXBkYXRlKGlkLCB1cGRhdGUsIHsgbmV3OiB0cnVlIH0pO1xyXG4gICAgaWYgKCFiYW5uZXIpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQmFubmVyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGJhbm5lciB9LCB7IHN0YXR1czogMjAwIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignUFVUIGJhbm5lciBlcnJvcjonLCBlcnIpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIGJhbm5lcicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcSkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcclxuICAgIGlmICghc2Vzc2lvbj8udXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICBjb25zdCB7IGltYWdlLCBiYWNrZ3JvdW5kQ29sb3IsIGxpbmssIHByaW9yaXR5LCBzdGFydERhdGUsIGVuZERhdGUgfSA9IGJvZHkgfHwge307XHJcbiAgICBpZiAoIWltYWdlKSByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ltYWdlIGlzIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG5cclxuICAgIGNvbnN0IGNyZWF0ZWQgPSBhd2FpdCBBbm5vdW5jZW1lbnQuY3JlYXRlKHtcclxuICAgICAgdHlwZTogJ2Fubm91bmNlbWVudCcsXHJcbiAgICAgXHJcbiAgICAgIGltYWdlOiB0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnID8gaW1hZ2UgOiB1bmRlZmluZWQsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdHlwZW9mIGJhY2tncm91bmRDb2xvciA9PT0gJ3N0cmluZycgPyBiYWNrZ3JvdW5kQ29sb3IgOiB1bmRlZmluZWQsXHJcbiAgICAgIFxyXG4gICAgICBsaW5rOiB0eXBlb2YgbGluayA9PT0gJ29iamVjdCcgJiYgbGluayA/IGxpbmsgOiB1bmRlZmluZWQsXHJcbiAgICAgIHByaW9yaXR5OiB0eXBlb2YgcHJpb3JpdHkgPT09ICdudW1iZXInID8gcHJpb3JpdHkgOiB1bmRlZmluZWQsXHJcbiAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlID8gbmV3IERhdGUoc3RhcnREYXRlKSA6IHVuZGVmaW5lZCxcclxuICAgICAgZW5kRGF0ZTogZW5kRGF0ZSA/IG5ldyBEYXRlKGVuZERhdGUpIDogdW5kZWZpbmVkLCAgXHJcbiAgICAgIGNyZWF0ZWRCeTogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICBpc0Fubm91bmNlbWVudEFjdGl2ZTogdHlwZW9mIGJvZHkuaXNBbm5vdW5jZW1lbnRBY3RpdmUgPT09ICdib29sZWFuJyA/IGJvZHkuaXNBbm5vdW5jZW1lbnRBY3RpdmUgOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGJhbm5lcjogY3JlYXRlZCB9LCB7IHN0YXR1czogMjAxIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignUE9TVCBhbm5vdW5jZW1lbnQgZXJyb3I6JywgZXJyKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBiYW5uZXInIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJBbm5vdW5jZW1lbnQiLCJkYkNvbm5lY3QiLCJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJHRVQiLCJiYW5uZXIiLCJmaW5kQW5ub3VuY2VtZW50QmFubmVyIiwiaXNBbm5vdW5jZW1lbnRBY3RpdmUiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJlcnIiLCJjb25zb2xlIiwiUFVUIiwicmVxIiwiYm9keSIsImlkIiwidXBkYXRlIiwiYmFja2dyb3VuZENvbG9yIiwiaW1hZ2UiLCJwcmlvcml0eSIsImxpbmsiLCJzdGFydERhdGUiLCJEYXRlIiwiZW5kRGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibmV3IiwiUE9TVCIsInNlc3Npb24iLCJ1c2VyIiwiY3JlYXRlZCIsImNyZWF0ZSIsInR5cGUiLCJ1bmRlZmluZWQiLCJjcmVhdGVkQnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/announcements/announcement/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/facebook */ \"(rsc)/./node_modules/next-auth/providers/facebook.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./models/User.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    throw new Error(\"Email and password are required\");\n                }\n                await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                const user = await _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n                    email: credentials.email\n                });\n                if (!user) {\n                    throw new Error(\"Invalid email or password\");\n                }\n                if (!user.passwordHash) {\n                    throw new Error(\"Please sign in with your social account\");\n                }\n                // Inside authorize\n                const isValidPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_5___default().compare(credentials.password, user.passwordHash);\n                if (!isValidPassword) {\n                    throw new Error(\"Invalid email or password\");\n                }\n                if (!user.isActive) {\n                    throw new Error(\"Account is deactivated\");\n                }\n                return {\n                    id: user._id.toString(),\n                    name: user.name,\n                    email: user.email,\n                    role: user.role,\n                    image: user.image\n                };\n            }\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_facebook__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: process.env.FACEBOOK_CLIENT_ID,\n            clientSecret: process.env.FACEBOOK_CLIENT_SECRET\n        })\n    ],\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            if (account?.provider === \"google\" || account?.provider === \"facebook\") {\n                await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                const existingUser = await _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n                    $or: [\n                        {\n                            email: user.email\n                        },\n                        {\n                            googleId: account.provider === \"google\" ? profile.sub : null\n                        },\n                        {\n                            facebookId: account.provider === \"facebook\" ? profile.id : null\n                        }\n                    ]\n                });\n                if (existingUser) {\n                    // Update social IDs if not present\n                    if (account.provider === \"google\" && !existingUser.googleId) {\n                        existingUser.googleId = profile.sub;\n                        existingUser.image = user.image;\n                        await existingUser.save();\n                    } else if (account.provider === \"facebook\" && !existingUser.facebookId) {\n                        existingUser.facebookId = profile.id;\n                        existingUser.image = user.image;\n                        await existingUser.save();\n                    }\n                    return existingUser.isActive;\n                } else {\n                    // Create new user\n                    const newUser = new _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n                        name: user.name,\n                        email: user.email,\n                        image: user.image,\n                        googleId: account.provider === \"google\" ? profile.sub : null,\n                        facebookId: account.provider === \"facebook\" ? profile.id : null,\n                        emailVerified: true\n                    });\n                    await newUser.save();\n                    return true;\n                }\n            }\n            // track lastLogin for real-time KPI customer activity\n            try {\n                await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                const dbUser = await _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n                    email: user.email\n                });\n                if (dbUser) {\n                    dbUser.lastLogin = new Date();\n                    await dbUser.save();\n                }\n            } catch (e) {}\n            return true;\n        },\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.role = user.role;\n                token.id = user.id;\n                // Set shorter expiry for admin users (2 hours)\n                if (user.role === \"admin\") {\n                    token.maxAge = 2 * 60 * 60; // 2 hours in seconds\n                }\n            }\n            if (account?.provider === \"google\" || account?.provider === \"facebook\") {\n                await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                const dbUser = await _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n                    email: token.email\n                });\n                if (dbUser) {\n                    token.role = dbUser.role;\n                    token.id = dbUser._id.toString();\n                    // Set shorter expiry for admin users (2 hours)\n                    if (dbUser.role === \"admin\") {\n                        token.maxAge = 2 * 60 * 60; // 2 hours in seconds\n                    }\n                }\n            }\n            // Check if admin token has expired\n            if (token.role === \"admin\" && token.maxAge) {\n                const now = Math.floor(Date.now() / 1000);\n                const issuedAt = token.iat || now;\n                if (now - issuedAt > token.maxAge) {\n                    // Token expired for admin\n                    return null;\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                // Verify admin role on every request (server-side check)\n                if (token.role === \"admin\") {\n                    await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n                    const dbUser = await _models_User__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findById(token.id);\n                    if (!dbUser || dbUser.role !== \"admin\" || !dbUser.isActive) {\n                        // Revoke admin access if role changed or user deactivated\n                        session.user.role = \"user\";\n                    }\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/error\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    cookies: {\n        sessionToken: {\n            name: `next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\"\n            }\n        },\n        callbackUrl: {\n            name: `next-auth.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\"\n            }\n        },\n        csrfToken: {\n            name: `next-auth.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: \"development\" === \"production\"\n            }\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: \"development\" === \"development\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJLENBQUMwQixVQUFVQSxPQUFPdkIsSUFBSSxLQUFLLFdBQVcsQ0FBQ3VCLE9BQU8zQixRQUFRLEVBQUU7d0JBQzFELDBEQUEwRDt3QkFDMUR1QyxRQUFRNUMsSUFBSSxDQUFDUyxJQUFJLEdBQUc7b0JBQ3RCO2dCQUNGO1lBQ0Y7WUFDQSxPQUFPbUM7UUFDVDtJQUNGO0lBQ0FFLE9BQU87UUFDTDFCLFFBQVE7UUFDUjJCLE9BQU87SUFDVDtJQUNBSCxTQUFTO1FBQ1BJLFVBQVU7UUFDVlYsUUFBUSxLQUFLLEtBQUssS0FBSztJQUN6QjtJQUNBVyxTQUFTO1FBQ1BDLGNBQWM7WUFDWjFELE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztZQUMvQjJELFNBQVM7Z0JBQ1BDLFVBQVU7Z0JBQ1ZDLFVBQVU7Z0JBQ1ZDLE1BQU07Z0JBQ05DLFFBQVEzQyxrQkFBeUI7WUFDbkM7UUFDRjtRQUNBNEMsYUFBYTtZQUNYaEUsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQzlCMkQsU0FBUztnQkFDUEMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUTNDLGtCQUF5QjtZQUNuQztRQUNGO1FBQ0E2QyxXQUFXO1lBQ1RqRSxNQUFNLENBQUMsb0JBQW9CLENBQUM7WUFDNUIyRCxTQUFTO2dCQUNQQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxNQUFNO2dCQUNOQyxRQUFRM0Msa0JBQXlCO1lBQ25DO1FBQ0Y7SUFDRjtJQUNBOEMsUUFBUTlDLFFBQVFDLEdBQUcsQ0FBQzhDLGVBQWU7SUFDbkNDLE9BQU9oRCxrQkFBeUI7QUFDbEMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL25pcnZhYW5hYS1lY29tbWVyY2UvLi9saWIvYXV0aC5qcz8yODdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlJztcbmltcG9ydCBGYWNlYm9va1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZmFjZWJvb2snO1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICdAL2xpYi9tb25nb2RiJztcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWxzL1VzZXInO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfSxcbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uZW1haWwgfHwgIWNyZWRlbnRpYWxzPy5wYXNzd29yZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgZGJDb25uZWN0KCk7XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCB9KTtcblxuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdXNlci5wYXNzd29yZEhhc2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBzaWduIGluIHdpdGggeW91ciBzb2NpYWwgYWNjb3VudCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zaWRlIGF1dGhvcml6ZVxuICAgICAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZEhhc2gpO1xuICAgICAgICBpZiAoIWlzVmFsaWRQYXNzd29yZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1c2VyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY2NvdW50IGlzIGRlYWN0aXZhdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiB1c2VyLl9pZC50b1N0cmluZygpLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0pLFxuICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lELFxuICAgICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX1NFQ1JFVCxcbiAgICB9KSxcbiAgICBGYWNlYm9va1Byb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRfSUQsXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVF9TRUNSRVQsXG4gICAgfSksXG4gIF0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIHNpZ25Jbih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUgfSkge1xuICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSAnZ29vZ2xlJyB8fCBhY2NvdW50Py5wcm92aWRlciA9PT0gJ2ZhY2Vib29rJykge1xuICAgICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgeyBlbWFpbDogdXNlci5lbWFpbCB9LFxuICAgICAgICAgICAgeyBnb29nbGVJZDogYWNjb3VudC5wcm92aWRlciA9PT0gJ2dvb2dsZScgPyBwcm9maWxlLnN1YiA6IG51bGwgfSxcbiAgICAgICAgICAgIHsgZmFjZWJvb2tJZDogYWNjb3VudC5wcm92aWRlciA9PT0gJ2ZhY2Vib29rJyA/IHByb2ZpbGUuaWQgOiBudWxsIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgIC8vIFVwZGF0ZSBzb2NpYWwgSURzIGlmIG5vdCBwcmVzZW50XG4gICAgICAgICAgaWYgKGFjY291bnQucHJvdmlkZXIgPT09ICdnb29nbGUnICYmICFleGlzdGluZ1VzZXIuZ29vZ2xlSWQpIHtcbiAgICAgICAgICAgIGV4aXN0aW5nVXNlci5nb29nbGVJZCA9IHByb2ZpbGUuc3ViO1xuICAgICAgICAgICAgZXhpc3RpbmdVc2VyLmltYWdlID0gdXNlci5pbWFnZTtcbiAgICAgICAgICAgIGF3YWl0IGV4aXN0aW5nVXNlci5zYXZlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50LnByb3ZpZGVyID09PSAnZmFjZWJvb2snICYmICFleGlzdGluZ1VzZXIuZmFjZWJvb2tJZCkge1xuICAgICAgICAgICAgZXhpc3RpbmdVc2VyLmZhY2Vib29rSWQgPSBwcm9maWxlLmlkO1xuICAgICAgICAgICAgZXhpc3RpbmdVc2VyLmltYWdlID0gdXNlci5pbWFnZTtcbiAgICAgICAgICAgIGF3YWl0IGV4aXN0aW5nVXNlci5zYXZlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nVXNlci5pc0FjdGl2ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBDcmVhdGUgbmV3IHVzZXJcbiAgICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoe1xuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcbiAgICAgICAgICAgIGdvb2dsZUlkOiBhY2NvdW50LnByb3ZpZGVyID09PSAnZ29vZ2xlJyA/IHByb2ZpbGUuc3ViIDogbnVsbCxcbiAgICAgICAgICAgIGZhY2Vib29rSWQ6IGFjY291bnQucHJvdmlkZXIgPT09ICdmYWNlYm9vaycgPyBwcm9maWxlLmlkIDogbnVsbCxcbiAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhd2FpdCBuZXdVc2VyLnNhdmUoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyB0cmFjayBsYXN0TG9naW4gZm9yIHJlYWwtdGltZSBLUEkgY3VzdG9tZXIgYWN0aXZpdHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuICAgICAgICBjb25zdCBkYlVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogdXNlci5lbWFpbCB9KTtcbiAgICAgICAgaWYgKGRiVXNlcikge1xuICAgICAgICAgIGRiVXNlci5sYXN0TG9naW4gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGF3YWl0IGRiVXNlci5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZDtcbiAgICAgICAgLy8gU2V0IHNob3J0ZXIgZXhwaXJ5IGZvciBhZG1pbiB1c2VycyAoMiBob3VycylcbiAgICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgICAgIHRva2VuLm1heEFnZSA9IDIgKiA2MCAqIDYwOyAvLyAyIGhvdXJzIGluIHNlY29uZHNcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWNjb3VudD8ucHJvdmlkZXIgPT09ICdnb29nbGUnIHx8IGFjY291bnQ/LnByb3ZpZGVyID09PSAnZmFjZWJvb2snKSB7XG4gICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuICAgICAgICBjb25zdCBkYlVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogdG9rZW4uZW1haWwgfSk7XG4gICAgICAgIGlmIChkYlVzZXIpIHtcbiAgICAgICAgICB0b2tlbi5yb2xlID0gZGJVc2VyLnJvbGU7XG4gICAgICAgICAgdG9rZW4uaWQgPSBkYlVzZXIuX2lkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgLy8gU2V0IHNob3J0ZXIgZXhwaXJ5IGZvciBhZG1pbiB1c2VycyAoMiBob3VycylcbiAgICAgICAgICBpZiAoZGJVc2VyLnJvbGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgIHRva2VuLm1heEFnZSA9IDIgKiA2MCAqIDYwOyAvLyAyIGhvdXJzIGluIHNlY29uZHNcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgYWRtaW4gdG9rZW4gaGFzIGV4cGlyZWRcbiAgICAgIGlmICh0b2tlbi5yb2xlID09PSAnYWRtaW4nICYmIHRva2VuLm1heEFnZSkge1xuICAgICAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgICAgY29uc3QgaXNzdWVkQXQgPSB0b2tlbi5pYXQgfHwgbm93O1xuICAgICAgICBpZiAobm93IC0gaXNzdWVkQXQgPiB0b2tlbi5tYXhBZ2UpIHtcbiAgICAgICAgICAvLyBUb2tlbiBleHBpcmVkIGZvciBhZG1pblxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQ7XG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSBhZG1pbiByb2xlIG9uIGV2ZXJ5IHJlcXVlc3QgKHNlcnZlci1zaWRlIGNoZWNrKVxuICAgICAgICBpZiAodG9rZW4ucm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xuICAgICAgICAgIGNvbnN0IGRiVXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodG9rZW4uaWQpO1xuICAgICAgICAgIGlmICghZGJVc2VyIHx8IGRiVXNlci5yb2xlICE9PSAnYWRtaW4nIHx8ICFkYlVzZXIuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIC8vIFJldm9rZSBhZG1pbiBhY2Nlc3MgaWYgcm9sZSBjaGFuZ2VkIG9yIHVzZXIgZGVhY3RpdmF0ZWRcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gJ3VzZXInO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nLFxuICAgIGVycm9yOiAnL2F1dGgvZXJyb3InLFxuICB9LFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXMgZm9yIHJlZ3VsYXIgdXNlcnNcbiAgfSxcbiAgY29va2llczoge1xuICAgIHNlc3Npb25Ub2tlbjoge1xuICAgICAgbmFtZTogYG5leHQtYXV0aC5zZXNzaW9uLXRva2VuYCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgcGF0aDogJy8nLFxuICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsIC8vIE9ubHkgc2VuZCBvdmVyIEhUVFBTIGluIHByb2R1Y3Rpb25cbiAgICAgIH0sXG4gICAgfSxcbiAgICBjYWxsYmFja1VybDoge1xuICAgICAgbmFtZTogYG5leHQtYXV0aC5jYWxsYmFjay11cmxgLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjc3JmVG9rZW46IHtcbiAgICAgIG5hbWU6IGBuZXh0LWF1dGguY3NyZi10b2tlbmAsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIHBhdGg6ICcvJyxcbiAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgZGVidWc6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLFxufTtcbiJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJGYWNlYm9va1Byb3ZpZGVyIiwiZGJDb25uZWN0IiwiVXNlciIsImJjcnlwdCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsIkVycm9yIiwidXNlciIsImZpbmRPbmUiLCJwYXNzd29yZEhhc2giLCJpc1ZhbGlkUGFzc3dvcmQiLCJjb21wYXJlIiwiaXNBY3RpdmUiLCJpZCIsIl9pZCIsInRvU3RyaW5nIiwicm9sZSIsImltYWdlIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwiRkFDRUJPT0tfQ0xJRU5UX0lEIiwiRkFDRUJPT0tfQ0xJRU5UX1NFQ1JFVCIsImNhbGxiYWNrcyIsInNpZ25JbiIsImFjY291bnQiLCJwcm9maWxlIiwicHJvdmlkZXIiLCJleGlzdGluZ1VzZXIiLCIkb3IiLCJnb29nbGVJZCIsInN1YiIsImZhY2Vib29rSWQiLCJzYXZlIiwibmV3VXNlciIsImVtYWlsVmVyaWZpZWQiLCJkYlVzZXIiLCJsYXN0TG9naW4iLCJEYXRlIiwiZSIsImp3dCIsInRva2VuIiwibWF4QWdlIiwibm93IiwiTWF0aCIsImZsb29yIiwiaXNzdWVkQXQiLCJpYXQiLCJzZXNzaW9uIiwiZmluZEJ5SWQiLCJwYWdlcyIsImVycm9yIiwic3RyYXRlZ3kiLCJjb29raWVzIiwic2Vzc2lvblRva2VuIiwib3B0aW9ucyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJwYXRoIiwic2VjdXJlIiwiY2FsbGJhY2tVcmwiLCJjc3JmVG9rZW4iLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJkZWJ1ZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDRixXQUFXO0FBRTNDLElBQUksQ0FBQ0EsYUFBYTtJQUNoQixNQUFNLElBQUlHLE1BQU07QUFDbEI7QUFFQTs7OztDQUlDLEdBQ0QsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3pELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL2xpYi9tb25nb2RiLmpzP2Q5MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG4vKipcclxuICogR2xvYmFsIGlzIHVzZWQgaGVyZSB0byBtYWludGFpbiBhIGNhY2hlZCBjb25uZWN0aW9uIGFjcm9zcyBob3QgcmVsb2Fkc1xyXG4gKiBpbiBkZXZlbG9wbWVudC4gVGhpcyBwcmV2ZW50cyBjb25uZWN0aW9ucyBncm93aW5nIGV4cG9uZW50aWFsbHlcclxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cclxuICovXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcblxyXG5pZiAoIWNhY2hlZCkge1xyXG4gIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./models/Announcement.js":
/*!********************************!*\
  !*** ./models/Announcement.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst announcementSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    text: {\n        type: String,\n        maxlength: [\n            200,\n            \"Text cannot be more than 200 characters\"\n        ],\n        trim: true\n    },\n    type: {\n        type: String,\n        enum: [\n            \"announcement\",\n            \"adbanner\"\n        ],\n        default: \"announcement\",\n        required: true\n    },\n    isAnnouncementActive: {\n        type: Boolean,\n        default: false\n    },\n    isAdBannerActive: {\n        type: Boolean,\n        default: false\n    },\n    backgroundColor: {\n        type: String,\n        default: \"#f59e0b\",\n        match: [\n            /^#[0-9A-F]{6}$/i,\n            \"Please enter a valid hex color\"\n        ]\n    },\n    textColor: {\n        type: String,\n        default: \"#ffffff\",\n        match: [\n            /^#[0-9A-F]{6}$/i,\n            \"Please enter a valid hex color\"\n        ]\n    },\n    link: {\n        url: String,\n        text: String\n    },\n    image: {\n        type: String,\n        required: false\n    },\n    priority: {\n        type: Number,\n        default: 1,\n        min: 1,\n        max: 10\n    },\n    startDate: {\n        type: Date,\n        default: Date.now\n    },\n    endDate: {\n        type: Date\n    },\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    }\n}, {\n    timestamps: true\n});\n// Indexes for efficient queries\nannouncementSchema.index({\n    isAnnouncementActive: 1\n});\nannouncementSchema.index({\n    isAdBannerActive: 1\n});\nannouncementSchema.index({\n    priority: -1\n});\nannouncementSchema.index({\n    startDate: 1,\n    endDate: 1\n});\n// Virtual for is currently active (announcement)\nannouncementSchema.virtual(\"isAnnouncementCurrentlyActive\").get(function() {\n    if (!this.isAnnouncementActive) return false;\n    const now = new Date();\n    if (this.startDate && now < this.startDate) return false;\n    if (this.endDate && now > this.endDate) return false;\n    return true;\n});\n// Virtual for is currently active (adbanner)\nannouncementSchema.virtual(\"isAdBannerCurrentlyActive\").get(function() {\n    if (!this.isAdBannerActive) return false;\n    const now = new Date();\n    if (this.startDate && now < this.startDate) return false;\n    if (this.endDate && now > this.endDate) return false;\n    return true;\n});\n// Static method to find active announcement banner\nannouncementSchema.statics.findAnnouncementBanner = function() {\n    const now = new Date();\n    return this.findOne({\n        type: \"announcement\",\n        isAnnouncementActive: true,\n        $and: [\n            {\n                $or: [\n                    {\n                        startDate: {\n                            $lte: now\n                        }\n                    },\n                    {\n                        startDate: {\n                            $exists: false\n                        }\n                    }\n                ]\n            },\n            {\n                $or: [\n                    {\n                        endDate: {\n                            $gte: now\n                        }\n                    },\n                    {\n                        endDate: {\n                            $exists: false\n                        }\n                    }\n                ]\n            }\n        ]\n    }).sort({\n        priority: -1,\n        createdAt: -1\n    });\n};\n// Static method to find active adbanner\nannouncementSchema.statics.findAdBanner = function() {\n    const now = new Date();\n    return this.findOne({\n        type: \"adbanner\",\n        isAdBannerActive: true,\n        $and: [\n            {\n                $or: [\n                    {\n                        startDate: {\n                            $lte: now\n                        }\n                    },\n                    {\n                        startDate: {\n                            $exists: false\n                        }\n                    }\n                ]\n            },\n            {\n                $or: [\n                    {\n                        endDate: {\n                            $gte: now\n                        }\n                    },\n                    {\n                        endDate: {\n                            $exists: false\n                        }\n                    }\n                ]\n            }\n        ]\n    }).sort({\n        priority: -1,\n        createdAt: -1\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Announcement || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Announcement\", announcementSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvQW5ub3VuY2VtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxxQkFBcUIsSUFBSUQsd0RBQWUsQ0FBQztJQUM3Q0csTUFBTTtRQUNKQyxNQUFNQztRQUVOQyxXQUFXO1lBQUM7WUFBSztTQUEwQztRQUMzREMsTUFBTTtJQUNSO0lBQ0FILE1BQU07UUFDSkEsTUFBTUM7UUFDTkcsTUFBTTtZQUFDO1lBQWdCO1NBQVc7UUFDbENDLFNBQVM7UUFDVEMsVUFBVTtJQUNaO0lBQ0FDLHNCQUFzQjtRQUNwQlAsTUFBTVE7UUFDTkgsU0FBUztJQUNYO0lBQ0FJLGtCQUFrQjtRQUNoQlQsTUFBTVE7UUFDTkgsU0FBUztJQUNYO0lBQ0FLLGlCQUFpQjtRQUNmVixNQUFNQztRQUNOSSxTQUFTO1FBQ1RNLE9BQU87WUFBQztZQUFtQjtTQUFpQztJQUM5RDtJQUNBQyxXQUFXO1FBQ1RaLE1BQU1DO1FBQ05JLFNBQVM7UUFDVE0sT0FBTztZQUFDO1lBQW1CO1NBQWlDO0lBQzlEO0lBQ0FFLE1BQU07UUFDSkMsS0FBS2I7UUFDTEYsTUFBTUU7SUFDUjtJQUNBYyxPQUFPO1FBQ0xmLE1BQU1DO1FBQ05LLFVBQVU7SUFDWjtJQUNBVSxVQUFVO1FBQ1JoQixNQUFNaUI7UUFDTlosU0FBUztRQUNUYSxLQUFLO1FBQ0xDLEtBQUs7SUFDUDtJQUNBQyxXQUFXO1FBQ1RwQixNQUFNcUI7UUFDTmhCLFNBQVNnQixLQUFLQyxHQUFHO0lBQ25CO0lBQ0FDLFNBQVM7UUFDUHZCLE1BQU1xQjtJQUNSO0lBQ0FHLFdBQVc7UUFDVHhCLE1BQU1KLHdEQUFlLENBQUM2QixLQUFLLENBQUNDLFFBQVE7UUFDcENDLEtBQUs7UUFDTHJCLFVBQVU7SUFDWjtBQUNGLEdBQUc7SUFDRHNCLFlBQVk7QUFDZDtBQUVBLGdDQUFnQztBQUNoQy9CLG1CQUFtQmdDLEtBQUssQ0FBQztJQUFFdEIsc0JBQXNCO0FBQUU7QUFDbkRWLG1CQUFtQmdDLEtBQUssQ0FBQztJQUFFcEIsa0JBQWtCO0FBQUU7QUFDL0NaLG1CQUFtQmdDLEtBQUssQ0FBQztJQUFFYixVQUFVLENBQUM7QUFBRTtBQUN4Q25CLG1CQUFtQmdDLEtBQUssQ0FBQztJQUFFVCxXQUFXO0lBQUdHLFNBQVM7QUFBRTtBQUVwRCxpREFBaUQ7QUFDakQxQixtQkFBbUJpQyxPQUFPLENBQUMsaUNBQWlDQyxHQUFHLENBQUM7SUFDOUQsSUFBSSxDQUFDLElBQUksQ0FBQ3hCLG9CQUFvQixFQUFFLE9BQU87SUFDdkMsTUFBTWUsTUFBTSxJQUFJRDtJQUNoQixJQUFJLElBQUksQ0FBQ0QsU0FBUyxJQUFJRSxNQUFNLElBQUksQ0FBQ0YsU0FBUyxFQUFFLE9BQU87SUFDbkQsSUFBSSxJQUFJLENBQUNHLE9BQU8sSUFBSUQsTUFBTSxJQUFJLENBQUNDLE9BQU8sRUFBRSxPQUFPO0lBQy9DLE9BQU87QUFDVDtBQUVBLDZDQUE2QztBQUM3QzFCLG1CQUFtQmlDLE9BQU8sQ0FBQyw2QkFBNkJDLEdBQUcsQ0FBQztJQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDdEIsZ0JBQWdCLEVBQUUsT0FBTztJQUNuQyxNQUFNYSxNQUFNLElBQUlEO0lBQ2hCLElBQUksSUFBSSxDQUFDRCxTQUFTLElBQUlFLE1BQU0sSUFBSSxDQUFDRixTQUFTLEVBQUUsT0FBTztJQUNuRCxJQUFJLElBQUksQ0FBQ0csT0FBTyxJQUFJRCxNQUFNLElBQUksQ0FBQ0MsT0FBTyxFQUFFLE9BQU87SUFDL0MsT0FBTztBQUNUO0FBRUEsbURBQW1EO0FBQ25EMUIsbUJBQW1CbUMsT0FBTyxDQUFDQyxzQkFBc0IsR0FBRztJQUNsRCxNQUFNWCxNQUFNLElBQUlEO0lBQ2hCLE9BQU8sSUFBSSxDQUFDYSxPQUFPLENBQUM7UUFDbEJsQyxNQUFNO1FBQ05PLHNCQUFzQjtRQUN0QjRCLE1BQU07WUFDSjtnQkFBRUMsS0FBSztvQkFBRTt3QkFBRWhCLFdBQVc7NEJBQUVpQixNQUFNZjt3QkFBSTtvQkFBRTtvQkFBRzt3QkFBRUYsV0FBVzs0QkFBRWtCLFNBQVM7d0JBQU07b0JBQUU7aUJBQUc7WUFBQztZQUMzRTtnQkFBRUYsS0FBSztvQkFBRTt3QkFBRWIsU0FBUzs0QkFBRWdCLE1BQU1qQjt3QkFBSTtvQkFBRTtvQkFBRzt3QkFBRUMsU0FBUzs0QkFBRWUsU0FBUzt3QkFBTTtvQkFBRTtpQkFBRztZQUFDO1NBQ3hFO0lBQ0gsR0FBR0UsSUFBSSxDQUFDO1FBQUV4QixVQUFVLENBQUM7UUFBR3lCLFdBQVcsQ0FBQztJQUFFO0FBQ3hDO0FBRUEsd0NBQXdDO0FBQ3hDNUMsbUJBQW1CbUMsT0FBTyxDQUFDVSxZQUFZLEdBQUc7SUFDeEMsTUFBTXBCLE1BQU0sSUFBSUQ7SUFDaEIsT0FBTyxJQUFJLENBQUNhLE9BQU8sQ0FBQztRQUNsQmxDLE1BQU07UUFDTlMsa0JBQWtCO1FBQ2xCMEIsTUFBTTtZQUNKO2dCQUFFQyxLQUFLO29CQUFFO3dCQUFFaEIsV0FBVzs0QkFBRWlCLE1BQU1mO3dCQUFJO29CQUFFO29CQUFHO3dCQUFFRixXQUFXOzRCQUFFa0IsU0FBUzt3QkFBTTtvQkFBRTtpQkFBRztZQUFDO1lBQzNFO2dCQUFFRixLQUFLO29CQUFFO3dCQUFFYixTQUFTOzRCQUFFZ0IsTUFBTWpCO3dCQUFJO29CQUFFO29CQUFHO3dCQUFFQyxTQUFTOzRCQUFFZSxTQUFTO3dCQUFNO29CQUFFO2lCQUFHO1lBQUM7U0FDeEU7SUFDSCxHQUFHRSxJQUFJLENBQUM7UUFBRXhCLFVBQVUsQ0FBQztRQUFHeUIsV0FBVyxDQUFDO0lBQUU7QUFDeEM7QUFFQSxpRUFBZTdDLHdEQUFlLENBQUNnRCxZQUFZLElBQUloRCxxREFBYyxDQUFDLGdCQUFnQkMsbUJBQW1CQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL21vZGVscy9Bbm5vdW5jZW1lbnQuanM/YTgwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgYW5ub3VuY2VtZW50U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgdGV4dDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgXHJcbiAgICBtYXhsZW5ndGg6IFsyMDAsICdUZXh0IGNhbm5vdCBiZSBtb3JlIHRoYW4gMjAwIGNoYXJhY3RlcnMnXSxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICB0eXBlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ2Fubm91bmNlbWVudCcsICdhZGJhbm5lciddLFxyXG4gICAgZGVmYXVsdDogJ2Fubm91bmNlbWVudCcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICB9LFxyXG4gIGlzQW5ub3VuY2VtZW50QWN0aXZlOiB7XHJcbiAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgfSxcclxuICBpc0FkQmFubmVyQWN0aXZlOiB7XHJcbiAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogZmFsc2UsXHJcbiAgfSxcclxuICBiYWNrZ3JvdW5kQ29sb3I6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6ICcjZjU5ZTBiJyxcclxuICAgIG1hdGNoOiBbL14jWzAtOUEtRl17Nn0kL2ksICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBoZXggY29sb3InXSxcclxuICB9LFxyXG4gIHRleHRDb2xvcjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogJyNmZmZmZmYnLFxyXG4gICAgbWF0Y2g6IFsvXiNbMC05QS1GXXs2fSQvaSwgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGhleCBjb2xvciddLFxyXG4gIH0sXHJcbiAgbGluazoge1xyXG4gICAgdXJsOiBTdHJpbmcsXHJcbiAgICB0ZXh0OiBTdHJpbmcsXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IGZhbHNlLFxyXG4gIH0sXHJcbiAgcHJpb3JpdHk6IHtcclxuICAgIHR5cGU6IE51bWJlcixcclxuICAgIGRlZmF1bHQ6IDEsXHJcbiAgICBtaW46IDEsXHJcbiAgICBtYXg6IDEwLFxyXG4gIH0sXHJcbiAgc3RhcnREYXRlOiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgfSxcclxuICBlbmREYXRlOiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gIH0sXHJcbiAgY3JlYXRlZEJ5OiB7XHJcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcbiAgICByZWY6ICdVc2VyJyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gIH0sXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59KTtcclxuXHJcbi8vIEluZGV4ZXMgZm9yIGVmZmljaWVudCBxdWVyaWVzXHJcbmFubm91bmNlbWVudFNjaGVtYS5pbmRleCh7IGlzQW5ub3VuY2VtZW50QWN0aXZlOiAxIH0pO1xyXG5hbm5vdW5jZW1lbnRTY2hlbWEuaW5kZXgoeyBpc0FkQmFubmVyQWN0aXZlOiAxIH0pO1xyXG5hbm5vdW5jZW1lbnRTY2hlbWEuaW5kZXgoeyBwcmlvcml0eTogLTEgfSk7XHJcbmFubm91bmNlbWVudFNjaGVtYS5pbmRleCh7IHN0YXJ0RGF0ZTogMSwgZW5kRGF0ZTogMSB9KTtcclxuXHJcbi8vIFZpcnR1YWwgZm9yIGlzIGN1cnJlbnRseSBhY3RpdmUgKGFubm91bmNlbWVudClcclxuYW5ub3VuY2VtZW50U2NoZW1hLnZpcnR1YWwoJ2lzQW5ub3VuY2VtZW50Q3VycmVudGx5QWN0aXZlJykuZ2V0KGZ1bmN0aW9uKCkge1xyXG4gIGlmICghdGhpcy5pc0Fubm91bmNlbWVudEFjdGl2ZSkgcmV0dXJuIGZhbHNlO1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgaWYgKHRoaXMuc3RhcnREYXRlICYmIG5vdyA8IHRoaXMuc3RhcnREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgaWYgKHRoaXMuZW5kRGF0ZSAmJiBub3cgPiB0aGlzLmVuZERhdGUpIHJldHVybiBmYWxzZTtcclxuICByZXR1cm4gdHJ1ZTtcclxufSk7XHJcblxyXG4vLyBWaXJ0dWFsIGZvciBpcyBjdXJyZW50bHkgYWN0aXZlIChhZGJhbm5lcilcclxuYW5ub3VuY2VtZW50U2NoZW1hLnZpcnR1YWwoJ2lzQWRCYW5uZXJDdXJyZW50bHlBY3RpdmUnKS5nZXQoZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCF0aGlzLmlzQWRCYW5uZXJBY3RpdmUpIHJldHVybiBmYWxzZTtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIGlmICh0aGlzLnN0YXJ0RGF0ZSAmJiBub3cgPCB0aGlzLnN0YXJ0RGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gIGlmICh0aGlzLmVuZERhdGUgJiYgbm93ID4gdGhpcy5lbmREYXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgcmV0dXJuIHRydWU7XHJcbn0pO1xyXG5cclxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIGFjdGl2ZSBhbm5vdW5jZW1lbnQgYmFubmVyXHJcbmFubm91bmNlbWVudFNjaGVtYS5zdGF0aWNzLmZpbmRBbm5vdW5jZW1lbnRCYW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgdHlwZTogJ2Fubm91bmNlbWVudCcsXHJcbiAgICBpc0Fubm91bmNlbWVudEFjdGl2ZTogdHJ1ZSxcclxuICAgICRhbmQ6IFtcclxuICAgICAgeyAkb3I6IFsgeyBzdGFydERhdGU6IHsgJGx0ZTogbm93IH0gfSwgeyBzdGFydERhdGU6IHsgJGV4aXN0czogZmFsc2UgfSB9IF0gfSxcclxuICAgICAgeyAkb3I6IFsgeyBlbmREYXRlOiB7ICRndGU6IG5vdyB9IH0sIHsgZW5kRGF0ZTogeyAkZXhpc3RzOiBmYWxzZSB9IH0gXSB9LFxyXG4gICAgXSxcclxuICB9KS5zb3J0KHsgcHJpb3JpdHk6IC0xLCBjcmVhdGVkQXQ6IC0xIH0pO1xyXG59O1xyXG5cclxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIGFjdGl2ZSBhZGJhbm5lclxyXG5hbm5vdW5jZW1lbnRTY2hlbWEuc3RhdGljcy5maW5kQWRCYW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgdHlwZTogJ2FkYmFubmVyJyxcclxuICAgIGlzQWRCYW5uZXJBY3RpdmU6IHRydWUsXHJcbiAgICAkYW5kOiBbXHJcbiAgICAgIHsgJG9yOiBbIHsgc3RhcnREYXRlOiB7ICRsdGU6IG5vdyB9IH0sIHsgc3RhcnREYXRlOiB7ICRleGlzdHM6IGZhbHNlIH0gfSBdIH0sXHJcbiAgICAgIHsgJG9yOiBbIHsgZW5kRGF0ZTogeyAkZ3RlOiBub3cgfSB9LCB7IGVuZERhdGU6IHsgJGV4aXN0czogZmFsc2UgfSB9IF0gfSxcclxuICAgIF0sXHJcbiAgfSkuc29ydCh7IHByaW9yaXR5OiAtMSwgY3JlYXRlZEF0OiAtMSB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVscy5Bbm5vdW5jZW1lbnQgfHwgbW9uZ29vc2UubW9kZWwoJ0Fubm91bmNlbWVudCcsIGFubm91bmNlbWVudFNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsImFubm91bmNlbWVudFNjaGVtYSIsIlNjaGVtYSIsInRleHQiLCJ0eXBlIiwiU3RyaW5nIiwibWF4bGVuZ3RoIiwidHJpbSIsImVudW0iLCJkZWZhdWx0IiwicmVxdWlyZWQiLCJpc0Fubm91bmNlbWVudEFjdGl2ZSIsIkJvb2xlYW4iLCJpc0FkQmFubmVyQWN0aXZlIiwiYmFja2dyb3VuZENvbG9yIiwibWF0Y2giLCJ0ZXh0Q29sb3IiLCJsaW5rIiwidXJsIiwiaW1hZ2UiLCJwcmlvcml0eSIsIk51bWJlciIsIm1pbiIsIm1heCIsInN0YXJ0RGF0ZSIsIkRhdGUiLCJub3ciLCJlbmREYXRlIiwiY3JlYXRlZEJ5IiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInRpbWVzdGFtcHMiLCJpbmRleCIsInZpcnR1YWwiLCJnZXQiLCJzdGF0aWNzIiwiZmluZEFubm91bmNlbWVudEJhbm5lciIsImZpbmRPbmUiLCIkYW5kIiwiJG9yIiwiJGx0ZSIsIiRleGlzdHMiLCIkZ3RlIiwic29ydCIsImNyZWF0ZWRBdCIsImZpbmRBZEJhbm5lciIsIm1vZGVscyIsIkFubm91bmNlbWVudCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/Announcement.js\n");

/***/ }),

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: [\n            true,\n            \"Name is required\"\n        ],\n        trim: true,\n        maxlength: [\n            50,\n            \"Name cannot be more than 50 characters\"\n        ]\n    },\n    email: {\n        type: String,\n        required: [\n            true,\n            \"Email is required\"\n        ],\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/,\n            \"Please enter a valid email\"\n        ]\n    },\n    passwordHash: {\n        type: String,\n        required: function() {\n            return !this.googleId && !this.facebookId; // Password required only for email/password auth\n        }\n    },\n    role: {\n        type: String,\n        enum: [\n            \"user\",\n            \"admin\"\n        ],\n        default: \"user\"\n    },\n    googleId: {\n        type: String,\n        sparse: true\n    },\n    facebookId: {\n        type: String,\n        sparse: true\n    },\n    image: {\n        type: String\n    },\n    profileImage: {\n        type: String\n    },\n    phone: {\n        type: String,\n        match: [\n            /^\\+?[\\d\\s-()]+$/,\n            \"Please enter a valid phone number\"\n        ]\n    },\n    addresses: [\n        {\n            type: {\n                type: String,\n                enum: [\n                    \"shipping\",\n                    \"billing\"\n                ],\n                required: true\n            },\n            street: {\n                type: String,\n                required: true\n            },\n            city: {\n                type: String,\n                required: true\n            },\n            state: {\n                type: String,\n                required: true\n            },\n            zipCode: {\n                type: String,\n                required: true\n            },\n            country: {\n                type: String,\n                required: true,\n                default: \"India\"\n            },\n            isDefault: {\n                type: Boolean,\n                default: false\n            }\n        }\n    ],\n    shippingAddress: {\n        name: String,\n        street: String,\n        city: String,\n        state: String,\n        zipCode: String,\n        country: {\n            type: String,\n            default: \"India\"\n        },\n        phone: String\n    },\n    emailVerified: {\n        type: Boolean,\n        default: false\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    // Persist simple cart and wishlist on user profile\n    cart: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            quantity: {\n                type: Number,\n                default: 1\n            },\n            slug: String\n        }\n    ],\n    wishlist: [\n        {\n            productId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"Product\"\n            },\n            name: String,\n            image: String,\n            price: Number,\n            slug: String,\n            addedAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    lastLogin: {\n        type: Date\n    },\n    resetPasswordToken: {\n        type: String\n    },\n    resetPasswordExpires: {\n        type: Date\n    }\n}, {\n    timestamps: true\n});\n// Index for efficient queries\nuserSchema.index({\n    email: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    facebookId: 1\n});\nuserSchema.index({\n    role: 1\n});\n// Virtual for password (not stored in DB)\nuserSchema.virtual(\"password\").set(function(password) {\n    if (password) {\n        this.passwordHash = bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hashSync(password, 12);\n    }\n}).get(function() {\n    return this.passwordHash;\n});\n// Instance method to check password\nuserSchema.methods.checkPassword = function(password) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compareSync(password, this.passwordHash);\n};\n// Instance method to get public profile\nuserSchema.methods.getPublicProfile = function() {\n    const userObject = this.toObject();\n    delete userObject.passwordHash;\n    delete userObject.__v;\n    return userObject;\n};\n// Static method to find by email\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\n// Static method to find admin users\nuserSchema.statics.findAdmins = function() {\n    return this.find({\n        role: \"admin\"\n    });\n};\n// Pre-save middleware to ensure unique email\nuserSchema.pre(\"save\", async function(next) {\n    if (this.isModified(\"email\")) {\n        const existingUser = await this.constructor.findOne({\n            email: this.email,\n            _id: {\n                $ne: this._id\n            }\n        });\n        if (existingUser) {\n            throw new Error(\"Email already exists\");\n        }\n    }\n    next();\n});\n// Ensure virtuals are serialized\nuserSchema.set(\"toJSON\", {\n    virtuals: true,\n    transform: function(doc, ret) {\n        delete ret.passwordHash;\n        delete ret.__v;\n        return ret;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9tb2RlbHMvVXNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnQztBQUNGO0FBRTlCLE1BQU1FLGFBQWEsSUFBSUYsd0RBQWUsQ0FBQztJQUNyQ0ksTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO1lBQUM7WUFBTTtTQUFtQjtRQUNwQ0MsTUFBTTtRQUNOQyxXQUFXO1lBQUM7WUFBSTtTQUF5QztJQUMzRDtJQUNBQyxPQUFPO1FBQ0xMLE1BQU1DO1FBQ05DLFVBQVU7WUFBQztZQUFNO1NBQW9CO1FBQ3JDSSxRQUFRO1FBQ1JDLFdBQVc7UUFDWEosTUFBTTtRQUNOSyxPQUFPO1lBQUM7WUFBK0M7U0FBNkI7SUFDdEY7SUFDQUMsY0FBYztRQUNaVCxNQUFNQztRQUNOQyxVQUFVO1lBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQ1EsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDQyxVQUFVLEVBQUUsaURBQWlEO1FBQzlGO0lBQ0Y7SUFDQUMsTUFBTTtRQUNKWixNQUFNQztRQUNOWSxNQUFNO1lBQUM7WUFBUTtTQUFRO1FBQ3ZCQyxTQUFTO0lBQ1g7SUFDQUosVUFBVTtRQUNSVixNQUFNQztRQUNOYyxRQUFRO0lBQ1Y7SUFDQUosWUFBWTtRQUNWWCxNQUFNQztRQUNOYyxRQUFRO0lBQ1Y7SUFDQUMsT0FBTztRQUNMaEIsTUFBTUM7SUFDUjtJQUNBZ0IsY0FBYztRQUNaakIsTUFBTUM7SUFDUjtJQUNBaUIsT0FBTztRQUNMbEIsTUFBTUM7UUFDTk8sT0FBTztZQUFDO1lBQW1CO1NBQW9DO0lBQ2pFO0lBQ0FXLFdBQVc7UUFBQztZQUNWbkIsTUFBTTtnQkFDSkEsTUFBTUM7Z0JBQ05ZLE1BQU07b0JBQUM7b0JBQVk7aUJBQVU7Z0JBQzdCWCxVQUFVO1lBQ1o7WUFDQWtCLFFBQVE7Z0JBQ05wQixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FtQixNQUFNO2dCQUNKckIsTUFBTUM7Z0JBQ05DLFVBQVU7WUFDWjtZQUNBb0IsT0FBTztnQkFDTHRCLE1BQU1DO2dCQUNOQyxVQUFVO1lBQ1o7WUFDQXFCLFNBQVM7Z0JBQ1B2QixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FzQixTQUFTO2dCQUNQeEIsTUFBTUM7Z0JBQ05DLFVBQVU7Z0JBQ1ZZLFNBQVM7WUFDWDtZQUNBVyxXQUFXO2dCQUNUekIsTUFBTTBCO2dCQUNOWixTQUFTO1lBQ1g7UUFDRjtLQUFFO0lBQ0ZhLGlCQUFpQjtRQUNmNUIsTUFBTUU7UUFDTm1CLFFBQVFuQjtRQUNSb0IsTUFBTXBCO1FBQ05xQixPQUFPckI7UUFDUHNCLFNBQVN0QjtRQUNUdUIsU0FBUztZQUNQeEIsTUFBTUM7WUFDTmEsU0FBUztRQUNYO1FBQ0FJLE9BQU9qQjtJQUNUO0lBQ0EyQixlQUFlO1FBQ2I1QixNQUFNMEI7UUFDTlosU0FBUztJQUNYO0lBQ0FlLFVBQVU7UUFDUjdCLE1BQU0wQjtRQUNOWixTQUFTO0lBQ1g7SUFDQSxtREFBbUQ7SUFDbkRnQixNQUFNO1FBQ0o7WUFDRUMsV0FBVztnQkFBRS9CLE1BQU1MLHdEQUFlLENBQUNxQyxLQUFLLENBQUNDLFFBQVE7Z0JBQUVDLEtBQUs7WUFBVTtZQUNsRW5DLE1BQU1FO1lBQ05lLE9BQU9mO1lBQ1BrQyxPQUFPQztZQUNQQyxVQUFVO2dCQUFFckMsTUFBTW9DO2dCQUFRdEIsU0FBUztZQUFFO1lBQ3JDd0IsTUFBTXJDO1FBQ1I7S0FDRDtJQUNEc0MsVUFBVTtRQUNSO1lBQ0VSLFdBQVc7Z0JBQUUvQixNQUFNTCx3REFBZSxDQUFDcUMsS0FBSyxDQUFDQyxRQUFRO2dCQUFFQyxLQUFLO1lBQVU7WUFDbEVuQyxNQUFNRTtZQUNOZSxPQUFPZjtZQUNQa0MsT0FBT0M7WUFDUEUsTUFBTXJDO1lBQ051QyxTQUFTO2dCQUFFeEMsTUFBTXlDO2dCQUFNM0IsU0FBUzJCLEtBQUtDLEdBQUc7WUFBQztRQUMzQztLQUNEO0lBQ0RDLFdBQVc7UUFDVDNDLE1BQU15QztJQUNSO0lBQ0FHLG9CQUFvQjtRQUNsQjVDLE1BQU1DO0lBQ1I7SUFDQTRDLHNCQUFzQjtRQUNwQjdDLE1BQU15QztJQUNSO0FBQ0YsR0FBRztJQUNESyxZQUFZO0FBQ2Q7QUFFQSw4QkFBOEI7QUFDOUJqRCxXQUFXa0QsS0FBSyxDQUFDO0lBQUUxQyxPQUFPO0FBQUU7QUFDNUJSLFdBQVdrRCxLQUFLLENBQUM7SUFBRXJDLFVBQVU7QUFBRTtBQUMvQmIsV0FBV2tELEtBQUssQ0FBQztJQUFFcEMsWUFBWTtBQUFFO0FBQ2pDZCxXQUFXa0QsS0FBSyxDQUFDO0lBQUVuQyxNQUFNO0FBQUU7QUFFM0IsMENBQTBDO0FBQzFDZixXQUFXbUQsT0FBTyxDQUFDLFlBQ2hCQyxHQUFHLENBQUMsU0FBU0MsUUFBUTtJQUNwQixJQUFJQSxVQUFVO1FBQ1osSUFBSSxDQUFDekMsWUFBWSxHQUFHYix3REFBZSxDQUFDc0QsVUFBVTtJQUNoRDtBQUNGLEdBQ0NFLEdBQUcsQ0FBQztJQUNILE9BQU8sSUFBSSxDQUFDM0MsWUFBWTtBQUMxQjtBQUVGLG9DQUFvQztBQUNwQ1osV0FBV3dELE9BQU8sQ0FBQ0MsYUFBYSxHQUFHLFNBQVNKLFFBQVE7SUFDbEQsT0FBT3RELDJEQUFrQixDQUFDc0QsVUFBVSxJQUFJLENBQUN6QyxZQUFZO0FBQ3ZEO0FBRUEsd0NBQXdDO0FBQ3hDWixXQUFXd0QsT0FBTyxDQUFDRyxnQkFBZ0IsR0FBRztJQUNwQyxNQUFNQyxhQUFhLElBQUksQ0FBQ0MsUUFBUTtJQUNoQyxPQUFPRCxXQUFXaEQsWUFBWTtJQUM5QixPQUFPZ0QsV0FBV0UsR0FBRztJQUNyQixPQUFPRjtBQUNUO0FBRUEsaUNBQWlDO0FBQ2pDNUQsV0FBVytELE9BQU8sQ0FBQ0MsV0FBVyxHQUFHLFNBQVN4RCxLQUFLO0lBQzdDLE9BQU8sSUFBSSxDQUFDeUQsT0FBTyxDQUFDO1FBQUV6RCxPQUFPQSxNQUFNMEQsV0FBVztJQUFHO0FBQ25EO0FBRUEsb0NBQW9DO0FBQ3BDbEUsV0FBVytELE9BQU8sQ0FBQ0ksVUFBVSxHQUFHO0lBQzlCLE9BQU8sSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFBRXJELE1BQU07SUFBUTtBQUNuQztBQUVBLDZDQUE2QztBQUM3Q2YsV0FBV3FFLEdBQUcsQ0FBQyxRQUFRLGVBQWVDLElBQUk7SUFDeEMsSUFBSSxJQUFJLENBQUNDLFVBQVUsQ0FBQyxVQUFVO1FBQzVCLE1BQU1DLGVBQWUsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQ1IsT0FBTyxDQUFDO1lBQ2xEekQsT0FBTyxJQUFJLENBQUNBLEtBQUs7WUFDakJrRSxLQUFLO2dCQUFFQyxLQUFLLElBQUksQ0FBQ0QsR0FBRztZQUFDO1FBQ3ZCO1FBQ0EsSUFBSUYsY0FBYztZQUNoQixNQUFNLElBQUlJLE1BQU07UUFDbEI7SUFDRjtJQUNBTjtBQUNGO0FBRUEsaUNBQWlDO0FBQ2pDdEUsV0FBV29ELEdBQUcsQ0FBQyxVQUFVO0lBQ3ZCeUIsVUFBVTtJQUNWQyxXQUFXLFNBQVNDLEdBQUcsRUFBRUMsR0FBRztRQUMxQixPQUFPQSxJQUFJcEUsWUFBWTtRQUN2QixPQUFPb0UsSUFBSWxCLEdBQUc7UUFDZCxPQUFPa0I7SUFDVDtBQUNGO0FBRUEsaUVBQWVsRix3REFBZSxDQUFDb0YsSUFBSSxJQUFJcEYscURBQWMsQ0FBQyxRQUFRRSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmlydmFhbmFhLWVjb21tZXJjZS8uL21vZGVscy9Vc2VyLmpzPzczNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IFt0cnVlLCAnTmFtZSBpcyByZXF1aXJlZCddLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF4bGVuZ3RoOiBbNTAsICdOYW1lIGNhbm5vdCBiZSBtb3JlIHRoYW4gNTAgY2hhcmFjdGVycyddLFxuICB9LFxuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogW3RydWUsICdFbWFpbCBpcyByZXF1aXJlZCddLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWUsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXRjaDogWy9eXFx3KyhbLi1dP1xcdyspKkBcXHcrKFsuLV0/XFx3KykqKFxcLlxcd3syLDN9KSskLywgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsJ10sXG4gIH0sXG4gIHBhc3N3b3JkSGFzaDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZ29vZ2xlSWQgJiYgIXRoaXMuZmFjZWJvb2tJZDsgLy8gUGFzc3dvcmQgcmVxdWlyZWQgb25seSBmb3IgZW1haWwvcGFzc3dvcmQgYXV0aFxuICAgIH0sXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWyd1c2VyJywgJ2FkbWluJ10sXG4gICAgZGVmYXVsdDogJ3VzZXInLFxuICB9LFxuICBnb29nbGVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBzcGFyc2U6IHRydWUsXG4gIH0sXG4gIGZhY2Vib29rSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgc3BhcnNlOiB0cnVlLFxuICB9LFxuICBpbWFnZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcHJvZmlsZUltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICB9LFxuICBwaG9uZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXRjaDogWy9eXFwrP1tcXGRcXHMtKCldKyQvLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyJ10sXG4gIH0sXG4gIGFkZHJlc3NlczogW3tcbiAgICB0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBlbnVtOiBbJ3NoaXBwaW5nJywgJ2JpbGxpbmcnXSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RyZWV0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNpdHk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgemlwQ29kZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIGRlZmF1bHQ6ICdJbmRpYScsXG4gICAgfSxcbiAgICBpc0RlZmF1bHQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICB9LFxuICB9XSxcbiAgc2hpcHBpbmdBZGRyZXNzOiB7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHN0cmVldDogU3RyaW5nLFxuICAgIGNpdHk6IFN0cmluZyxcbiAgICBzdGF0ZTogU3RyaW5nLFxuICAgIHppcENvZGU6IFN0cmluZyxcbiAgICBjb3VudHJ5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnSW5kaWEnLFxuICAgIH0sXG4gICAgcGhvbmU6IFN0cmluZyxcbiAgfSxcbiAgZW1haWxWZXJpZmllZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2UsXG4gIH0sXG4gIGlzQWN0aXZlOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlLFxuICB9LFxuICAvLyBQZXJzaXN0IHNpbXBsZSBjYXJ0IGFuZCB3aXNobGlzdCBvbiB1c2VyIHByb2ZpbGVcbiAgY2FydDogW1xuICAgIHtcbiAgICAgIHByb2R1Y3RJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1Byb2R1Y3QnIH0sXG4gICAgICBuYW1lOiBTdHJpbmcsXG4gICAgICBpbWFnZTogU3RyaW5nLFxuICAgICAgcHJpY2U6IE51bWJlcixcbiAgICAgIHF1YW50aXR5OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9LFxuICAgICAgc2x1ZzogU3RyaW5nLFxuICAgIH1cbiAgXSxcbiAgd2lzaGxpc3Q6IFtcbiAgICB7XG4gICAgICBwcm9kdWN0SWQ6IHsgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6ICdQcm9kdWN0JyB9LFxuICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgaW1hZ2U6IFN0cmluZyxcbiAgICAgIHByaWNlOiBOdW1iZXIsXG4gICAgICBzbHVnOiBTdHJpbmcsXG4gICAgICBhZGRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbiAgICB9XG4gIF0sXG4gIGxhc3RMb2dpbjoge1xuICAgIHR5cGU6IERhdGUsXG4gIH0sXG4gIHJlc2V0UGFzc3dvcmRUb2tlbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgcmVzZXRQYXNzd29yZEV4cGlyZXM6IHtcbiAgICB0eXBlOiBEYXRlLFxuICB9LFxufSwge1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbi8vIEluZGV4IGZvciBlZmZpY2llbnQgcXVlcmllc1xudXNlclNjaGVtYS5pbmRleCh7IGVtYWlsOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGdvb2dsZUlkOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGZhY2Vib29rSWQ6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgcm9sZTogMSB9KTtcblxuLy8gVmlydHVhbCBmb3IgcGFzc3dvcmQgKG5vdCBzdG9yZWQgaW4gREIpXG51c2VyU2NoZW1hLnZpcnR1YWwoJ3Bhc3N3b3JkJylcbiAgLnNldChmdW5jdGlvbihwYXNzd29yZCkge1xuICAgIGlmIChwYXNzd29yZCkge1xuICAgICAgdGhpcy5wYXNzd29yZEhhc2ggPSBiY3J5cHQuaGFzaFN5bmMocGFzc3dvcmQsIDEyKTtcbiAgICB9XG4gIH0pXG4gIC5nZXQoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucGFzc3dvcmRIYXNoO1xuICB9KTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kIHRvIGNoZWNrIHBhc3N3b3JkXG51c2VyU2NoZW1hLm1ldGhvZHMuY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uKHBhc3N3b3JkKSB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHRoaXMucGFzc3dvcmRIYXNoKTtcbn07XG5cbi8vIEluc3RhbmNlIG1ldGhvZCB0byBnZXQgcHVibGljIHByb2ZpbGVcbnVzZXJTY2hlbWEubWV0aG9kcy5nZXRQdWJsaWNQcm9maWxlID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHVzZXJPYmplY3QgPSB0aGlzLnRvT2JqZWN0KCk7XG4gIGRlbGV0ZSB1c2VyT2JqZWN0LnBhc3N3b3JkSGFzaDtcbiAgZGVsZXRlIHVzZXJPYmplY3QuX192O1xuICByZXR1cm4gdXNlck9iamVjdDtcbn07XG5cbi8vIFN0YXRpYyBtZXRob2QgdG8gZmluZCBieSBlbWFpbFxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xufTtcblxuLy8gU3RhdGljIG1ldGhvZCB0byBmaW5kIGFkbWluIHVzZXJzXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEFkbWlucyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgcm9sZTogJ2FkbWluJyB9KTtcbn07XG5cbi8vIFByZS1zYXZlIG1pZGRsZXdhcmUgdG8gZW5zdXJlIHVuaXF1ZSBlbWFpbFxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBhc3luYyBmdW5jdGlvbihuZXh0KSB7XG4gIGlmICh0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCB0aGlzLmNvbnN0cnVjdG9yLmZpbmRPbmUoeyBcbiAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLCBcbiAgICAgIF9pZDogeyAkbmU6IHRoaXMuX2lkIH0gXG4gICAgfSk7XG4gICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbWFpbCBhbHJlYWR5IGV4aXN0cycpO1xuICAgIH1cbiAgfVxuICBuZXh0KCk7XG59KTtcblxuLy8gRW5zdXJlIHZpcnR1YWxzIGFyZSBzZXJpYWxpemVkXG51c2VyU2NoZW1hLnNldCgndG9KU09OJywge1xuICB2aXJ0dWFsczogdHJ1ZSxcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbihkb2MsIHJldCkge1xuICAgIGRlbGV0ZSByZXQucGFzc3dvcmRIYXNoO1xuICAgIGRlbGV0ZSByZXQuX192O1xuICAgIHJldHVybiByZXQ7XG4gIH0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsImJjcnlwdCIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidHJpbSIsIm1heGxlbmd0aCIsImVtYWlsIiwidW5pcXVlIiwibG93ZXJjYXNlIiwibWF0Y2giLCJwYXNzd29yZEhhc2giLCJnb29nbGVJZCIsImZhY2Vib29rSWQiLCJyb2xlIiwiZW51bSIsImRlZmF1bHQiLCJzcGFyc2UiLCJpbWFnZSIsInByb2ZpbGVJbWFnZSIsInBob25lIiwiYWRkcmVzc2VzIiwic3RyZWV0IiwiY2l0eSIsInN0YXRlIiwiemlwQ29kZSIsImNvdW50cnkiLCJpc0RlZmF1bHQiLCJCb29sZWFuIiwic2hpcHBpbmdBZGRyZXNzIiwiZW1haWxWZXJpZmllZCIsImlzQWN0aXZlIiwiY2FydCIsInByb2R1Y3RJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZSIsIk51bWJlciIsInF1YW50aXR5Iiwic2x1ZyIsIndpc2hsaXN0IiwiYWRkZWRBdCIsIkRhdGUiLCJub3ciLCJsYXN0TG9naW4iLCJyZXNldFBhc3N3b3JkVG9rZW4iLCJyZXNldFBhc3N3b3JkRXhwaXJlcyIsInRpbWVzdGFtcHMiLCJpbmRleCIsInZpcnR1YWwiLCJzZXQiLCJwYXNzd29yZCIsImhhc2hTeW5jIiwiZ2V0IiwibWV0aG9kcyIsImNoZWNrUGFzc3dvcmQiLCJjb21wYXJlU3luYyIsImdldFB1YmxpY1Byb2ZpbGUiLCJ1c2VyT2JqZWN0IiwidG9PYmplY3QiLCJfX3YiLCJzdGF0aWNzIiwiZmluZEJ5RW1haWwiLCJmaW5kT25lIiwidG9Mb3dlckNhc2UiLCJmaW5kQWRtaW5zIiwiZmluZCIsInByZSIsIm5leHQiLCJpc01vZGlmaWVkIiwiZXhpc3RpbmdVc2VyIiwiY29uc3RydWN0b3IiLCJfaWQiLCIkbmUiLCJFcnJvciIsInZpcnR1YWxzIiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fannouncements%2Fannouncement%2Froute&page=%2Fapi%2Fannouncements%2Fannouncement%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fannouncements%2Fannouncement%2Froute.js&appDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CAnanya%5CDownloads%5CNirvaanaa_current%5CNirvaanaa%20(1)%5CNirvaanaa&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();